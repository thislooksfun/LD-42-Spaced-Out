{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/class/person.js","src/class/ship.js","src/game.js","src/lib/attributes.js","src/lib/util.js","src/main.js","src/section/bank.js","src/section/launchpads.js","src/section/lobby.js","src/section/score.js","src/section/spaceOnEarth.js"],"names":[],"mappings":"AAAA;ACAA;;AAEA,MAAM,aAAa,QAAQ,mBAAR,CAAnB;AACA,MAAM,OAAO,QAAQ,aAAR,CAAb;AACA,MAAM,YAAY,QAAQ,kBAAR,EAA4B,SAA9C;;AAGA,MAAM,gBAAgB,CAAtB;;AAEA,MAAM,aAAa,EAAnB;AACA,MAAM,YAAa,GAAnB;AACA,MAAM,UAAa,EAAnB;AACA,MAAM,WAAa,EAAnB;;AAGA,SAAS,SAAT,CAAmB,CAAnB,EAAsB,EAAtB,EAA0B;AACxB,IAAE,IAAF,EAAQ,QAAR,CAAiB,UAAjB;;AAEA,MAAI,KAAK,EAAE,aAAF,CAAgB,YAAzB;AACA,KAAG,aAAH,GAAmB,MAAnB;AACA,KAAG,OAAH,CAAW,YAAX,EAAyB,EAAzB;AACD;;AAED,SAAS,OAAT,GAAmB;AACjB,MAAI,MAAM,EAAE,IAAF,CAAV;AACA,MAAI,WAAJ,CAAgB,UAAhB;AACA,IAAE,YAAF,EAAgB,WAAhB,CAA4B,cAA5B;;AAEA,MAAI,IAAI,IAAJ,CAAS,iBAAT,CAAJ,EAAiC;AAC/B,QAAI,GAAJ,CAAQ,WAAR;AACA,QAAI,GAAJ,CAAQ,SAAR;AACA,QAAI,UAAJ,CAAe,WAAf;AACD;AACF;;AAGD,OAAO,OAAP,GAAiB,MAAM,MAAN,CAAa;;AAE5B,gBAAc;AACZ,SAAK,EAAL,GAAU,KAAK,MAAL,EAAV;;AAEA,QAAI,gBAAgB,KAAK,KAAL,CAAW,IAAK,CAAC,gBAAgB,CAAjB,IAAsB,WAAtC,CAApB;AACA,QAAI,MAAM,KAAK,GAAL,CAAS,aAAT,EAAwB,aAAxB,CAAV;;AAEA,SAAK,KAAL,GAAe,WAAW,MAAX,CAAkB,KAAK,IAAL,CAAU,GAAV,CAAlB,CAAf;AACA,SAAK,OAAL,GAAe,WAAW,MAAX,CAAkB,KAAK,IAAL,CAAU,GAAV,CAAlB,EAAkC,KAAK,KAAL,CAAW,MAA7C,CAAf;AACA,SAAK,MAAL,GAAe,KAAf;;AAGA;AACA;AACA,QAAI,KAAK,aAAa,CAAtB;AACA,SAAK,MAAL,GAAc,YAAY,KAAK,IAAL,CAAU,KAAK,KAAL,CAAW,KAAK,SAAL,GAAiB,KAAK,KAAL,CAAW,MAA5B,GAAuC,aAAlD,CAAV,CAA1B;AACA,SAAK,IAAL,GAAc,YAAY,KAAK,IAAL,CAAU,KAAK,KAAL,CAAW,KAAK,OAAL,GAAiB,KAAK,KAAL,CAAW,MAA5B,GAAuC,aAAlD,CAAV,CAA1B;AACA,SAAK,KAAL,GAAc,YAAY,KAAK,IAAL,CAAU,KAAK,KAAL,CAAW,KAAK,QAAL,GAAiB,KAAK,OAAL,CAAa,MAA9B,GAAuC,aAAlD,CAAV,CAA1B;;AAGA,SAAK,GAAL,GAAW,EAAE,OAAF,EAAW,EAAE,OAAO,QAAT,EAAX,CAAX;AACD;;AAED,kBAAgB;AACd,QAAI,KAAK,KAAK,EAAd;AACA,SAAK,GAAL,CAAS,EAAT,CAAY,WAAZ,EAAyB,UAAS,CAAT,EAAY;AACnC,gBAAU,IAAV,CAAe,IAAf,EAAqB,CAArB,EAAwB,EAAxB;AACD,KAFD;AAGA,SAAK,GAAL,CAAS,EAAT,CAAY,SAAZ,EAAuB,OAAvB;AACA,SAAK,GAAL,CAAS,IAAT,CAAc,WAAd,EAA2B,IAA3B;AACD;;AAED,WAAS;AACP,SAAK,GAAL,CAAS,KAAT;;AAEA,QAAI,SAAS,EAAE,OAAF,EAAW;AACtB,aAAO;AADe,KAAX,CAAb;AAGA,QAAI,KAAK,KAAL,CAAW,MAAX,KAAsB,CAA1B,EAA6B;AAC3B,aAAO,MAAP,CAAc,EAAE,QAAF,EAAY,EAAE,MAAM,gBAAR,EAAZ,CAAd;AACD,KAFD,MAEO;AACL,WAAK,IAAI,GAAT,IAAgB,KAAK,KAArB,EAA4B;AAC1B,eAAO,MAAP,CAAc,EAAE,QAAF,EAAY,EAAE,MAAM,GAAR,EAAZ,CAAd;AACD;AACF;AACD,SAAK,GAAL,CAAS,MAAT,CAAgB,MAAhB;;AAEA,QAAI,WAAW,EAAE,OAAF,EAAW;AACxB,aAAO;AADiB,KAAX,CAAf;AAGA,QAAI,KAAK,OAAL,CAAa,MAAb,KAAwB,CAA5B,EAA+B;AAC7B,eAAS,MAAT,CAAgB,EAAE,QAAF,EAAY,EAAE,MAAM,kBAAR,EAAZ,CAAhB;AACD,KAFD,MAEO;AACL,WAAK,IAAI,GAAT,IAAgB,KAAK,OAArB,EAA8B;AAC5B,iBAAS,MAAT,CAAgB,EAAE,QAAF,EAAY,EAAE,MAAM,GAAR,EAAZ,CAAhB;AACD;AACF;AACD,SAAK,GAAL,CAAS,MAAT,CAAgB,QAAhB;;AAIA,QAAI,SAAS,EAAE,OAAF,EAAW;AACtB,aAAO;AADe,KAAX,CAAb;AAGA,QAAI,CAAC,KAAK,MAAV,EAAkB;AAChB,aAAO,MAAP,CAAc,EAAE,QAAF,EAAY,EAAE,OAAO,QAAT,EAAmB,MAAM,cAAc,KAAK,WAAL,CAAiB,KAAK,MAAtB,CAAvC,EAAZ,CAAd;AACD;AACD,QAAI,QAAQ,EAAE,QAAF,EAAY,EAAE,OAAO,MAAT,EAAiB,MAAM,YAAa,KAAK,WAAL,CAAiB,KAAK,IAAtB,CAApC,EAAZ,CAAZ;AACA,QAAI,KAAK,KAAL,CAAW,MAAX,KAAsB,CAA1B,EAA6B;AAC3B,YAAM,QAAN,CAAe,IAAf;AACA,YAAM,IAAN,CAAW,WAAX;AACD;AACD,QAAI,SAAS,EAAE,QAAF,EAAY,EAAE,OAAO,OAAT,EAAkB,MAAM,aAAa,KAAK,WAAL,CAAiB,KAAK,KAAtB,CAArC,EAAZ,CAAb;AACA,QAAI,KAAK,OAAL,CAAa,MAAb,KAAwB,CAA5B,EAA+B;AAC7B,aAAO,QAAP,CAAgB,IAAhB;AACA,aAAO,IAAP,CAAY,YAAZ;AACD;AACD,WAAO,MAAP,CAAc,KAAd,EAAqB,MAArB;AACA,SAAK,GAAL,CAAS,MAAT,CAAgB,MAAhB;;AAEA,YAAQ,GAAR,CAAY,KAAK,EAAL,GAAU,eAAV,GAA4B,KAAK,MAAjC,GAA0C,WAA1C,GAAwD,KAAK,IAA7D,GAAoE,YAApE,GAAmF,KAAK,KAApG;;AAEA,WAAO,KAAK,GAAZ;AACD;AApF2B,CAA9B;;;ACpCA;;AAEA,MAAM,aAAa,QAAQ,mBAAR,CAAnB;AACA,MAAM,QAAQ,QAAQ,kBAAR,CAAd;AACA,MAAM,OAAO,QAAQ,iBAAR,CAAb;;AAEA,MAAM,gBAAgB,CAAtB;;AAGA,SAAS,QAAT,CAAkB,EAAlB,EAAsB;AACpB,MAAI,IAAI,GAAG,aAAX;AACA,MAAI,OAAO,EAAE,cAAT,KAA4B,UAAhC,EAA4C;AAC1C,MAAE,cAAF;AACD;;AAED,IAAE,YAAF,CAAe,UAAf,GAA4B,MAA5B;AACD;;AAED,SAAS,SAAT,GAAqB;AACnB,IAAE,IAAF,EAAQ,QAAR,CAAiB,cAAjB;AACD;;AAED,SAAS,SAAT,GAAqB;AACnB,IAAE,IAAF,EAAQ,WAAR,CAAoB,cAApB;AACD;;AAGD,OAAO,OAAP,GAAiB,MAAM,MAAN,CAAa;;AAE5B,cAAY,GAAZ,EAAiB,MAAjB,EAAyB;AACvB,SAAK,UAAL,GAAkB,WAAW,MAAX,CAAkB,CAAlB,CAAlB;AACA,SAAK,UAAL,GAAkB,EAAlB;;AAEA,SAAK,IAAL,GAAY,GAAZ;AACA,SAAK,OAAL,GAAe,MAAf;;AAEA,SAAK,GAAL,GAAW,EAAE,OAAF,EAAW;AACpB,aAAO;AADa,KAAX,CAAX;AAGD;;AAED,eAAa,MAAb,EAAqB;AACnB,QAAI,KAAK,UAAL,CAAgB,MAAhB,IAA0B,aAA9B,EAA6C;AAAE,aAAO,KAAP;AAAe;AAC9D,SAAK,UAAL,CAAgB,IAAhB,CAAqB,MAArB;AACA,WAAO,MAAP,GAAgB,IAAhB;AACA,SAAK,IAAL,CAAU,OAAO,MAAjB;;AAEA,WAAO,IAAP;AACD;;AAED,oBAAkB;AAChB,SAAK,GAAL,CAAS,EAAT,CAAY,UAAZ,EAAyB,QAAzB;AACA,SAAK,GAAL,CAAS,EAAT,CAAY,WAAZ,EAAyB,SAAzB;AACA,SAAK,GAAL,CAAS,EAAT,CAAY,WAAZ,EAAyB,SAAzB;;AAEA,QAAI,QAAQ,IAAZ;AACA,SAAK,GAAL,CAAS,EAAT,CAAY,MAAZ,EAAoB,UAAS,EAAT,EAAa;AAC/B,UAAI,IAAI,GAAG,aAAX;AACA,UAAG,EAAE,cAAL,EAAqB;AAAE,UAAE,cAAF;AAAqB;AAC5C,UAAG,EAAE,eAAL,EAAsB;AAAE,UAAE,eAAF;AAAsB;;AAE9C,QAAE,eAAF,EAAmB,WAAnB,CAA+B,cAA/B;;AAEA,UAAI,KAAK,EAAE,YAAF,CAAe,OAAf,CAAuB,YAAvB,CAAT;AACA,UAAI,YAAY,MAAM,GAAN,CAAU,EAAV,CAAhB;;AAEA,UAAI,CAAC,MAAM,YAAN,CAAmB,SAAnB,CAAL,EAAoC;AAClC;AACA;AACD;;AAED,YAAM,MAAN,CAAa,EAAb;;AAEA,gBAAU,GAAV,CAAc,IAAd,CAAmB,iBAAnB,EAAsC,IAAtC;AACA,gBAAU,GAAV,CAAc,OAAd,CAAsB,SAAtB;;AAEA,YAAM,OAAN;AACD,KArBD;AAsBD;;AAED,WAAS;AACP,SAAK,GAAL,CAAS,KAAT;;AAEA,SAAK,IAAI,CAAT,IAAc,KAAK,UAAnB,EAA+B;AAC7B,WAAK,GAAL,CAAS,MAAT,CAAgB,EAAE,MAAF,EAAhB;AACD;AACD,SAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,gBAAgB,KAAK,UAAL,CAAgB,MAApD,EAA4D,GAA5D,EAAiE;AAC/D,WAAK,GAAL,CAAS,MAAT,CAAgB,EAAE,OAAF,EAAW,EAAC,OAAO,YAAR,EAAX,CAAhB;AACD;;AAED,QAAI,aAAa,EAAE,UAAF,EAAc,EAAC,OAAO,QAAR,EAAkB,MAAM,SAAxB,EAAd,CAAjB;AACA,eAAW,KAAX,CAAiB,KAAK,MAAL,CAAY,IAAZ,CAAiB,IAAjB,CAAjB;;AAEA,QAAI,KAAK,UAAL,CAAgB,MAAhB,IAA0B,CAA9B,EAAiC;AAC/B,iBAAW,IAAX,CAAgB,UAAhB,EAA4B,IAA5B;AACD;;AAED,SAAK,GAAL,CAAS,MAAT,CAAgB,UAAhB;;AAEA,WAAO,KAAK,GAAZ;AACD;;AAED,WAAS;AACP,YAAQ,GAAR,CAAY,iBAAZ,EAA+B,KAAK,UAApC;;AAGA;;;AAGA,SAAK,IAAL,CAAU,IAAV,GAAiB,IAAjB;AACA,SAAK,OAAL;AACD;;AApF2B,CAA9B;;;AC3BA;;AAEA,IAAI,WAAW,CACb,QAAQ,gBAAR,CADa,EAEb,QAAQ,sBAAR,CAFa,EAGb,QAAQ,iBAAR,CAHa,EAIb,QAAQ,iBAAR,CAJa,EAKb,QAAQ,wBAAR,CALa,CAAf;;AAUA,SAAS,KAAT,GAAiB;AACf,OAAK,IAAI,CAAT,IAAc,QAAd,EAAwB;AACtB,QAAI,OAAO,EAAE,KAAT,KAAmB,UAAvB,EAAmC;AACjC,QAAE,KAAF;AACD;AACF;AACF;;AAED,SAAS,KAAT,GAAiB;AACf,OAAK,IAAI,CAAT,IAAc,QAAd,EAAwB;AACtB,QAAI,OAAO,EAAE,KAAT,KAAmB,UAAvB,EAAmC;AACjC,QAAE,KAAF;AACD;AACF;AACF;;AAGD,OAAO,OAAP,GAAiB;AACf,UAAQ;AACN;AACA;AACD,GAJc;;AAMf,MAAI,MAAJ,EAAY;AACV,YAAQ,GAAR,CAAY,4BAA4B,MAAxC;AACA,SAAK,IAAI,CAAT,IAAc,QAAd,EAAwB;AACtB,UAAI,OAAO,EAAE,QAAT,KAAsB,UAA1B,EAAsC;AACpC,UAAE,QAAF;AACD;AACF;;AAED;AACD;AAfc,CAAjB;;;AC7BA;;AAEA,MAAM,QAAQ,QAAQ,QAAR,CAAd;;AAEA,OAAO,OAAP,GAAiB;AACf,SAAO,QAAQ,CAAf,EAAkB,OAAO,IAAzB,EAA+B;AAC7B,QAAI,MAAM,EAAV;AACA,QAAI,QAAQ,IAAZ,EAAkB;AAChB;AACA,aAAO,KAAK,IAAL,CAAU,KAAV,CAAgB,KAAK,IAArB,CAAP;AACD;;AAED,WAAO,QAAQ,CAAR,IAAa,KAAK,MAAL,GAAc,CAAlC,EAAqC;AACnC,UAAI,QAAQ,MAAM,IAAN,CAAW,KAAK,MAAL,GAAc,CAAzB,CAAZ;AACA,UAAI,IAAJ,CAAS,KAAK,KAAL,CAAT;AACA,WAAK,MAAL,CAAY,KAAZ,EAAmB,CAAnB;AACA;AACD;;AAED,QAAI,MAAJ,GAAa,IAAb;AACA,WAAO,GAAP;AACD,GAjBc;;AAmBf,QAAM,CACJ,GADI,EAEJ,GAFI,EAGJ,GAHI,EAIJ,GAJI,EAKJ,GALI,EAMJ,GANI,EAOJ,GAPI,EAQJ,GARI,EASJ,GATI,EAUJ,GAVI,EAWJ,GAXI,EAYJ,GAZI,EAaJ,GAbI,EAcJ,GAdI,EAeJ,GAfI,EAgBJ,GAhBI,EAiBJ,GAjBI,EAkBJ,GAlBI,EAmBJ,GAnBI,EAoBJ,GApBI,EAqBJ,GArBI,EAsBJ,GAtBI,EAuBJ,GAvBI,EAwBJ,GAxBI,EAyBJ,GAzBI,EA0BJ,GA1BI;AAnBS,CAAjB;;;ACJA;;AAEA,OAAO,OAAP,GAAiB;AACf,OAAK,GAAL,EAAU,GAAV,EAAe;AACb,QAAI,OAAO,IAAX,EAAiB;AACf,YAAM,GAAN;AACA,YAAM,CAAN;AACD;AACD,WAAO,KAAK,KAAL,CAAW,KAAK,MAAL,MAAiB,MAAM,GAAN,GAAY,CAA7B,IAAkC,GAA7C,CAAP;AACD,GAPc;;AASf,WAAS;AACP,WAAO,CAAC,CAAC,GAAD,IAAQ,CAAC,GAAT,GAAe,CAAC,GAAhB,GAAsB,CAAC,GAAvB,GAA6B,CAAC,IAA/B,EAAqC,OAArC,CAA6C,QAA7C,EAAuD,KAC5D,CAAC,IAAI,OAAO,eAAP,CAAuB,IAAI,UAAJ,CAAe,CAAf,CAAvB,EAA0C,CAA1C,IAA+C,MAAM,IAAI,CAA9D,EAAiE,QAAjE,CAA0E,EAA1E,CADK,CAAP;AAGD,GAbc;;AAef,cAAY,GAAZ,EAAiB;AACf,WAAO,IAAI,QAAJ,GAAe,OAAf,CAAuB,uBAAvB,EAAgD,GAAhD,CAAP;AACD;AAjBc,CAAjB;;;;ACFA;;AAEA,EAAE,YAAW;AACX,MAAI,QAAQ,KAAK,GAAL,EAAZ;AACA,SAAO,WAAP,GAAqB,YAAW;AAC9B,WAAO,KAAK,GAAL,KAAa,KAApB;AACD,GAFD;;AAIA;AACA,UAAQ,QAAR,EAAkB,KAAlB;AACD,CARD;;;;;ACFA;;AAEA,MAAM,OAAO,QAAQ,SAAR,CAAb;AACA,MAAM,cAAc,QAAQ,aAAR,EAAuB,WAA3C;;AAEA,MAAM,gBAAgB,MAAtB;;AAGA,IAAI,QAAQ,CAAC,CAAb;AACA,IAAI,WAAW,EAAE,UAAF,CAAf;AACA,SAAS,MAAT,GAAkB;AAChB,WAAS,IAAT,CAAc,MAAM,YAAY,KAAZ,CAApB;AACD;;AAED,OAAO,OAAP,GAAiB;;AAEf,UAAQ;AACN,YAAQ,aAAR;AACA;AACD,GALc;;AAOf,WAAS,GAAT,EAAc;AACZ,WAAO,SAAS,GAAhB;AACD,GATc;;AAWf,QAAM,IAAN,EAAY;AACV,QAAI,OAAO,CAAX,EAAc;AACZ,aAAO,KAAK,IAAL,CAAU,CAAC,IAAX,CAAP;AACD;AACD,aAAS,IAAT;AACA,QAAI,QAAQ,CAAZ,EAAe;AACb,WAAK,GAAL,CAAS,eAAT;AACD;AACD;AACD,GApBc;;AAsBf,OAAK,MAAL,EAAa;AACX,QAAI,SAAS,CAAb,EAAgB;AACd,aAAO,KAAK,KAAL,CAAW,CAAC,MAAZ,CAAP;AACD;AACD,aAAS,MAAT;AACA;AACD;AA5Bc,CAAjB;;;ACdA;;AAEA,MAAM,OAAO,QAAQ,eAAR,CAAb;AACA,MAAM,cAAc,QAAQ,aAAR,EAAuB,WAA3C;AACA,MAAM,OAAO,QAAQ,QAAR,CAAb;;AAEA;;AAEA,MAAM,mBAAmB,IAAzB;AACA,MAAM,gBAAgB,KAAtB;;AAGA,IAAI,OAAO,EAAE,MAAM,IAAR,EAAc,QAAQ,IAAtB,EAA6B,KAAK,EAAE,OAAF,CAAlC,EAA8C,UAAU,EAAE,gBAAF,CAAxD,EAAX;AACA,IAAI,OAAO,EAAE,MAAM,IAAR,EAAc,QAAQ,KAAtB,EAA6B,KAAK,EAAE,OAAF,CAAlC,EAA8C,UAAU,EAAE,gBAAF,CAAxD,EAAX;AACA,IAAI,OAAO,EAAE,MAAM,IAAR,EAAc,QAAQ,KAAtB,EAA6B,KAAK,EAAE,OAAF,CAAlC,EAA8C,UAAU,EAAE,gBAAF,CAAxD,EAAX;;AAGA,OAAO,OAAP,GAAiB;;AAEf,UAAQ;AACN;AACD,GAJc;;AAMf,UAAQ;AACN,SAAK,IAAL,GAAY,IAAI,IAAJ,CAAS,IAAT,EAAe,KAAK,MAAL,CAAY,IAAZ,CAAiB,IAAjB,EAAuB,IAAvB,CAAf,CAAZ;;AAEA,SAAK,MAAL,CAAY,IAAZ;AACA,SAAK,MAAL,CAAY,IAAZ;AACA,SAAK,MAAL,CAAY,IAAZ;AACD,GAZc;;AAcf;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAAO,GAAP,EAAY;AACV,QAAI,QAAJ,CAAa,KAAb;AACA,QAAI,IAAI,IAAJ,IAAY,IAAhB,EAAsB;AACpB,UAAI,GAAJ,CAAQ,WAAR,CAAoB,cAApB;AACA,UAAI,QAAJ,CAAa,MAAb,CAAoB,IAAI,IAAJ,CAAS,MAAT,EAApB;AACA,UAAI,IAAJ,CAAS,eAAT;AACD,KAJD,MAIO,IAAI,IAAI,MAAR,EAAgB;AACrB,UAAI,GAAJ,CAAQ,WAAR,CAAoB,QAApB;AACA,UAAI,GAAJ,CAAQ,QAAR,CAAiB,OAAjB;;AAEA,UAAI,QAAJ,CAAa,MAAb,CAAoB,EAAE,MAAF,EAAU,EAAC,MAAM,OAAP,EAAV,CAApB;AACA,UAAI,WAAW,EAAE,UAAF,EAAc,EAAC,OAAO,OAAR,EAAiB,MAAM,aAAa,YAAY,gBAAZ,CAAb,GAA6C,GAApE,EAAd,CAAf;AACA,UAAI,QAAQ,IAAZ;AACA,eAAS,KAAT,CAAe,YAAW;AACxB,YAAI,CAAC,KAAK,QAAL,CAAc,gBAAd,CAAL,EAAsC;AACpC;AACA;AACA;AACD;AACD,aAAK,KAAL,CAAW,gBAAX;;AAEA,YAAI,IAAJ,GAAW,IAAI,IAAJ,CAAS,GAAT,EAAc,MAAM,MAAN,CAAa,IAAb,CAAkB,KAAlB,EAAyB,GAAzB,CAAd,CAAX;AACA,cAAM,MAAN,CAAa,GAAb;AACD,OAVD;AAWA,UAAI,QAAJ,CAAa,MAAb,CAAoB,QAApB;AACD,KAnBM,MAmBA;AACL,UAAI,GAAJ,CAAQ,WAAR,CAAoB,OAApB;AACA,UAAI,GAAJ,CAAQ,QAAR,CAAiB,QAAjB;;AAEA,UAAI,QAAJ,CAAa,MAAb,CAAoB,EAAE,MAAF,EAAU,EAAC,MAAM,QAAP,EAAV,CAApB;AACA,UAAI,SAAS,EAAE,UAAF,EAAc,EAAC,OAAO,QAAR,EAAkB,MAAM,cAAc,YAAY,aAAZ,CAAd,GAA2C,GAAnE,EAAd,CAAb;AACA,UAAI,QAAQ,IAAZ;AACA,aAAO,KAAP,CAAa,YAAW;AACtB,YAAI,CAAC,KAAK,QAAL,CAAc,aAAd,CAAL,EAAmC;AACjC;AACA;AACA;AACD;AACD,aAAK,KAAL,CAAW,aAAX;;AAEA,YAAI,MAAJ,GAAa,IAAb;AACA,cAAM,MAAN,CAAa,GAAb;AACD,OAVD;AAWA,UAAI,QAAJ,CAAa,MAAb,CAAoB,MAApB;AACD;AACF,GAnEc;;AAqEf,gBAAc;AACZ,MAAE,OAAF,EAAW,QAAX,CAAoB,OAApB;AACA,YAAQ,GAAR,CAAY,0BAAZ;AACD;AAxEc,CAAjB;;;ACjBA;;AAEA,MAAM,SAAS,QAAQ,iBAAR,CAAf;;AAEA,MAAM,oBAAoB,GAA1B;AACA,MAAM,iBAAiB,CAAvB;AACA,MAAM,YAAY,EAAlB;;AAEA,IAAI,QAAQ,CAAZ;AACA,IAAI,SAAS,EAAb;;AAEA,IAAI,SAAS,EAAE,iBAAF,CAAb;AACA,IAAI,UAAU,EAAE,WAAF,CAAd;;AAEA,OAAO,OAAP,GAAiB;AACf,UAAQ;AACN;AACD,GAHc;;AAKf,UAAQ;AACN,SAAK,MAAL,GAAc,YAAY,KAAK,MAAL,CAAY,IAAZ,CAAiB,IAAjB,CAAZ,EAAoC,oBAAoB,IAAxD,CAAd;;AAEA,SAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,cAApB,EAAoC,GAApC,EAAyC;AACvC,WAAK,MAAL;AACD;AACF,GAXc;;AAaf,aAAW;AACT,kBAAc,KAAK,MAAnB;AACD,GAfc;;AAiBf,WAAS;AACP,QAAI,QAAQ,SAAZ,EAAuB;AACrB,UAAI,YAAY,IAAI,MAAJ,EAAhB;AACA,aAAO,MAAP,CAAc,UAAU,MAAV,EAAd;AACA,gBAAU,aAAV;AACA,aAAO,UAAU,EAAjB,IAAuB,SAAvB;AACA;AACD;AACD,YAAQ,IAAR,CAAa,YAAY,KAAZ,GAAoB,GAApB,GAA0B,SAA1B,GAAsC,GAAnD;AACD,GA1Bc;;AA4Bf;AACA,MAAI,EAAJ,EAAQ;AACN,WAAO,OAAO,EAAP,CAAP;AACD,GA/Bc;;AAiCf,SAAO,EAAP,EAAW;AACT,QAAI,SAAS,OAAO,EAAP,CAAb;AACA,WAAO,OAAO,EAAP,CAAP;AACA;;AAEA,WAAO,GAAP,CAAW,MAAX;AACA,YAAQ,IAAR,CAAa,YAAY,KAAZ,GAAoB,GAApB,GAA0B,SAA1B,GAAsC,GAAnD;AACA,WAAO,MAAP;AACD,GAzCc;;AA2Cf,YAAU;AACR,WAAO,KAAP;;AAEA,SAAK,IAAI,MAAT,IAAmB,MAAnB,EAA2B;AACzB,aAAO,MAAP,CAAc,OAAO,MAAP,EAAd;AACD;AACF;AAjDc,CAAjB;;;ACdA;;AAEA,MAAM,cAAc,QAAQ,aAAR,EAAuB,WAA3C;;AAEA;AACA,MAAM,sBAAsB,GAA5B;;AAEA,IAAI,QAAQ,CAAC,CAAb;AACA,IAAI,SAAS,EAAE,QAAF,CAAb;AACA,SAAS,MAAT,GAAkB;AAChB,SAAO,IAAP,CAAY,YAAY,KAAZ,IAAqB,GAArB,IAA4B,UAAU,CAAV,GAAc,QAAd,GAAyB,QAArD,CAAZ;AACD;;AAED,OAAO,OAAP,GAAiB;;AAEf,UAAQ;AACN,YAAQ,CAAR;AACA;AACD,GALc;;AAOf,OAAK,KAAL,EAAY;AACV,aAAS,KAAT;AACA;AACD,GAVc;;AAYf;AACA,cAAY;AACV,WAAO,KAAK,GAAL,CAAS,QAAQ,mBAAjB,EAAsC,CAAtC,CAAP;AACD;;AAfc,CAAjB;;;ACbA;;AAEA,MAAM,0BAA0B,CAAhC;AACA,IAAI,QAAQ,GAAZ;AACA;;AAEA,OAAO,OAAP,GAAiB;;AAEf,UAAQ;AACN;AACD,GAJc;;AAMf,UAAQ;AACN,SAAK,OAAL;;AAEA,SAAK,MAAL,GAAc,YAAY,KAAK,SAAL,CAAe,IAAf,CAAoB,IAApB,CAAZ,EAAuC,0BAA0B,IAAjE,CAAd;AACD,GAVc;;AAYf,aAAW;AACT,kBAAc,KAAK,MAAnB;AACD,GAdc;;AAgBf,cAAY;AACV;;AAEA;AACA,QAAI,SAAS,CAAb,EAAgB;AACd,cAAQ,SAAR,EAAmB,GAAnB,CAAuB,eAAvB;AACD;;AAED,SAAK,OAAL;AACD,GAzBc;;AA2Bf,YAAU;AACR,MAAE,YAAF,EAAgB,IAAhB,CAAqB,KAArB;AACD;AA7Bc,CAAjB","file":"../bundle.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","\"use strict\";\n\nconst attributes = require(\"../lib/attributes\");\nconst util = require(\"../lib/util\");\nconst diffScale = require(\"../section/score\").diffScale;\n\n\nconst maxAttributes = 5;\n\nconst moneyScale = 10;\nconst payoutMin  = 500;\nconst fineMin    = 50;\nconst bonusMin   = 25;\n\n\nfunction dragStart(e, id) {\n  $(this).addClass(\"dragging\");\n  \n  let dt = e.originalEvent.dataTransfer;\n  dt.effectAllowed = \"move\";\n  dt.setData(\"text/plain\", id);\n}\n\nfunction dragEnd() {\n  let $el = $(this);\n  $el.removeClass(\"dragging\");\n  $(\".launchpad\").removeClass(\"dragged-over\");\n  \n  if ($el.data(\"removeOnDragEnd\")) {\n    $el.off(\"dragstart\");\n    $el.off(\"dragend\");\n    $el.removeAttr(\"draggable\");\n  }\n}\n\n\nmodule.exports = class Person {\n  \n  constructor() {\n    this.id = util.uuidv4();\n    \n    let scaledAttrMax = Math.floor(1 + ((maxAttributes - 1) * diffScale()));\n    let max = Math.min(scaledAttrMax, maxAttributes);\n    \n    this.needs   = attributes.random(util.rand(max));\n    this.desires = attributes.random(util.rand(max), this.needs.unused);\n    this.inShip  = false;\n    \n    \n    // Subtract one so that the max is `payoutMin + (payoutMin * (moneyScale-1)) = payoutMin * moneyScale`\n    // rather than `payoutMin + (payoutMin * moneyScale)`\n    let ms = moneyScale - 1;\n    this.payout = payoutMin + util.rand(Math.floor(ms * payoutMin * this.needs.length   / maxAttributes));\n    this.fine   = payoutMin + util.rand(Math.floor(ms * fineMin   * this.needs.length   / maxAttributes));\n    this.bonus  = payoutMin + util.rand(Math.floor(ms * bonusMin  * this.desires.length / maxAttributes));\n    \n    \n    this.$el = $(\"<div>\", { class: \"person\" });\n  }\n  \n  setupDragging() {\n    let id = this.id;\n    this.$el.on(\"dragstart\", function(e) {\n      dragStart.call(this, e, id);\n    });\n    this.$el.on(\"dragend\", dragEnd);\n    this.$el.attr(\"draggable\", true);\n  }\n  \n  toHTML() {\n    this.$el.empty();\n    \n    let $needs = $(\"<div>\", {\n      class: \"needs\",\n    });\n    if (this.needs.length === 0) {\n      $needs.append($(\"<span>\", { text: \"-- no needs --\" }));\n    } else {\n      for (let req of this.needs) {\n        $needs.append($(\"<span>\", { text: req }));\n      }\n    }\n    this.$el.append($needs);\n    \n    let $desires = $(\"<div>\", {\n      class: \"desires\",\n    });\n    if (this.desires.length === 0) {\n      $desires.append($(\"<span>\", { text: \"-- no desires --\" }));\n    } else {\n      for (let req of this.desires) {\n        $desires.append($(\"<span>\", { text: req }));\n      }\n    }\n    this.$el.append($desires);\n    \n    \n    \n    let $money = $(\"<div>\", {\n      class: \"money\",\n    });\n    if (!this.inShip) {\n      $money.append($(\"<span>\", { class: \"payout\", text: \"Payout: $\" + util.prettyPrint(this.payout) }));\n    }\n    let $fine = $(\"<span>\", { class: \"fine\", text: \"Fine: $\" + (util.prettyPrint(this.fine)) });\n    if (this.needs.length === 0) {\n      $fine.addClass(\"na\");\n      $fine.text(\"Fine: N/A\");\n    }\n    let $bonus = $(\"<span>\", { class: \"bonus\", text: \"Bonus: $\" + util.prettyPrint(this.bonus) });\n    if (this.desires.length === 0) {\n      $bonus.addClass(\"na\");\n      $bonus.text(\"Bonus: N/A\");\n    }\n    $money.append($fine, $bonus);\n    this.$el.append($money);\n    \n    console.log(this.id + \" -- payout: $\" + this.payout + \"; fine: $\" + this.fine + \"; bonus: $\" + this.bonus);\n    \n    return this.$el;\n  }\n};","\"use strict\";\n\nconst attributes = require(\"../lib/attributes\");\nconst lobby = require(\"../section/lobby\");\nconst bank = require(\"../section/bank\");\n\nconst maxPassengers = 5;\n\n\nfunction dragOver(ev) {\n  let e = ev.originalEvent;\n  if (typeof e.preventDefault === \"function\") {\n    e.preventDefault();\n  }\n  \n  e.dataTransfer.dropEffect = \"move\";\n}\n\nfunction dragEnter() {\n  $(this).addClass(\"dragged-over\");\n}\n\nfunction dragLeave() {\n  $(this).removeClass(\"dragged-over\");\n}\n\n\nmodule.exports = class Person {\n  \n  constructor(pad, redraw) {\n    this.attributes = attributes.random(1);\n    this.passengers = [];\n    \n    this._pad = pad;\n    this._redraw = redraw;\n    \n    this.$el = $(\"<div>\", {\n      class: \"ship\"\n    });\n  }\n  \n  addPassenger(person) {\n    if (this.passengers.length >= maxPassengers) { return false; }\n    this.passengers.push(person);\n    person.inShip = true;\n    bank.earn(person.payout);\n    \n    return true;\n  }\n  \n  setupDragTarget() {\n    this.$el.on(\"dragover\",  dragOver);\n    this.$el.on(\"dragenter\", dragEnter);\n    this.$el.on(\"dragleave\", dragLeave);\n    \n    let _this = this;\n    this.$el.on(\"drop\", function(ev) {\n      let e = ev.originalEvent;\n      if(e.preventDefault) { e.preventDefault(); }\n      if(e.stopPropagation) { e.stopPropagation(); }\n      \n      $(\".dragged-over\").removeClass(\"dragged-over\");\n      \n      let id = e.dataTransfer.getData(\"text/plain\");\n      let passenger = lobby.get(id);\n      \n      if (!_this.addPassenger(passenger)) {\n        // Can't add passenger, probably full\n        return;\n      }\n      \n      lobby.remove(id);\n      \n      passenger.$el.data(\"removeOnDragEnd\", true);\n      passenger.$el.trigger(\"dragend\");\n      \n      _this._redraw();\n    });\n  }\n  \n  toHTML() {\n    this.$el.empty();\n    \n    for (let p of this.passengers) {\n      this.$el.append(p.toHTML());\n    }\n    for (var i = 0; i < maxPassengers - this.passengers.length; i++) {\n      this.$el.append($(\"<div>\", {class: \"slot empty\"}));\n    }\n    \n    let $launchBtn = $(\"<button>\", {class: \"launch\", text: \"Launch!\"});\n    $launchBtn.click(this.launch.bind(this));\n    \n    if (this.passengers.length == 0) {\n      $launchBtn.prop(\"disabled\", true);\n    }\n    \n    this.$el.append($launchBtn);\n    \n    return this.$el;\n  }\n  \n  launch() {\n    console.log(\"Launching ship!\", this.passengers);\n    \n    \n    // TODO: Handle fines and bonuses\n    \n    \n    this._pad.ship = null;\n    this._redraw();\n  }\n  \n};","\"use strict\";\n\nvar sections = [\n  require(\"./section/bank\"),\n  require(\"./section/launchpads\"),\n  require(\"./section/lobby\"),\n  require(\"./section/score\"),\n  require(\"./section/spaceOnEarth\"),\n  // TODO: More sections here\n];\n\n\nfunction setup() {\n  for (let s of sections) {\n    if (typeof s.setup === \"function\") {\n      s.setup();\n    }\n  }\n}\n\nfunction start() {\n  for (let s of sections) {\n    if (typeof s.start === \"function\") {\n      s.start();\n    }\n  }\n}\n\n\nmodule.exports = {\n  begin() {\n    setup();\n    start();\n  },\n  \n  end(reason) {\n    console.log(\"Ending game -- reason: \" + reason);\n    for (let s of sections) {\n      if (typeof s.teardown === \"function\") {\n        s.teardown();\n      }\n    }\n    \n    // TODO: Display end-of-game screen\n  }\n};","\"use strict\";\n\nconst utils = require(\"./util\");\n\nmodule.exports = {\n  random(count = 5, list = null) {\n    var out = [];\n    if (list == null) {\n      // Make a copy of the array\n      list = this.list.slice(this.list);\n    }\n    \n    while (count > 0 && list.length > 0) {\n      let index = utils.rand(list.length - 1);\n      out.push(list[index]);\n      list.splice(index, 1);\n      count--;\n    }\n    \n    out.unused = list;\n    return out;\n  },\n  \n  list: [\n    \"A\",\n    \"B\",\n    \"C\",\n    \"D\",\n    \"E\",\n    \"F\",\n    \"G\",\n    \"H\",\n    \"I\",\n    \"J\",\n    \"K\",\n    \"L\",\n    \"M\",\n    \"N\",\n    \"O\",\n    \"P\",\n    \"Q\",\n    \"R\",\n    \"S\",\n    \"T\",\n    \"U\",\n    \"V\",\n    \"W\",\n    \"X\",\n    \"Y\",\n    \"Z\",\n  ],\n};","\"use strict\";\n\nmodule.exports = {\n  rand(min, max) {\n    if (max == null) {\n      max = min;\n      min = 0;\n    }\n    return Math.floor(Math.random() * (max - min + 1) + min);\n  },\n  \n  uuidv4() {\n    return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, c =>\n      (c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16)\n    );\n  },\n  \n  prettyPrint(num) {\n    return num.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n  },\n};","\"use strict\";\n\n$(function() {\n  let start = Date.now();\n  global.runningTime = function() {\n    return Date.now() - start;\n  };\n  \n  // TODO: make a \"start\" button?\n  require(\"./game\").begin();\n});","\"use strict\";\n\nconst game = require(\"../game\");\nconst prettyPrint = require(\"../lib/util\").prettyPrint;\n\nconst startingMoney = 100000;\n\n\nvar money = -1;\nlet $balance = $(\"#balance\");\nfunction redraw() {\n  $balance.text(\"$\" + prettyPrint(money));\n}\n\nmodule.exports = {\n  \n  setup() {\n    money = startingMoney;\n    redraw();\n  },\n  \n  canSpend(amt) {\n    return money >= amt;\n  },\n  \n  spend(cost) {\n    if (cost < 0) {\n      return this.earn(-cost);\n    }\n    money -= cost;\n    if (money < 0) {\n      game.end(\"Out of money!\");\n    }\n    redraw();\n  },\n  \n  earn(amount) {\n    if (amount < 0) {\n      return this.spend(-amount);\n    }\n    money += amount;\n    redraw();\n  },\n};","\"use strict\";\n\nconst Ship = require(\"../class/ship\");\nconst prettyPrint = require(\"../lib/util\").prettyPrint;\nconst bank = require(\"./bank\");\n\n// const buildTimeInSeconds = 5;\n\nconst priceToBuildShip = 5000;\nconst priceToBuyPad = 10000;\n\n\nlet pad1 = { ship: null, bought: true,  $el: $(\"#pad1\"), $content: $(\"#pad1 .content\") };\nlet pad2 = { ship: null, bought: false, $el: $(\"#pad2\"), $content: $(\"#pad2 .content\") };\nlet pad3 = { ship: null, bought: false, $el: $(\"#pad3\"), $content: $(\"#pad3 .content\") };\n\n\nmodule.exports = {\n  \n  setup() {\n    // TODO: ?\n  },\n  \n  start() {\n    pad1.ship = new Ship(pad1, this.redraw.bind(this, pad1));\n    \n    this.redraw(pad1);\n    this.redraw(pad2);\n    this.redraw(pad3);\n  },\n  \n  // startBuild() {\n  //   if (this.ships.count < this.maxShips) {\n  //     this.ships.push(new Ship());\n  //   }\n  //   setTimeout(this.deliverShip.bind(this), buildTimeInSeconds * 1000);\n  //   console.log(\"Started building ship!\");\n  // },\n  \n  redraw(pad) {\n    pad.$content.empty();\n    if (pad.ship != null) {\n      pad.$el.removeClass(\"locked empty\");\n      pad.$content.append(pad.ship.toHTML());\n      pad.ship.setupDragTarget();\n    } else if (pad.bought) {\n      pad.$el.removeClass(\"locked\");\n      pad.$el.addClass(\"empty\");\n      \n      pad.$content.append($(\"<h2>\", {text: \"Empty\"}));\n      let buildBtn = $(\"<button>\", {class: \"build\", text: \"Build ($\" + prettyPrint(priceToBuildShip) + \")\"});\n      let _this = this;\n      buildBtn.click(function() {\n        if (!bank.canSpend(priceToBuildShip)) {\n          // TODO: Visualize that it failed becaue of money\n          // Maybe flash balance?\n          return;\n        }\n        bank.spend(priceToBuildShip);\n        \n        pad.ship = new Ship(pad, _this.redraw.bind(_this, pad));\n        _this.redraw(pad);\n      });\n      pad.$content.append(buildBtn);\n    } else {\n      pad.$el.removeClass(\"empty\");\n      pad.$el.addClass(\"locked\");\n      \n      pad.$content.append($(\"<h2>\", {text: \"Locked\"}));\n      let buyBtn = $(\"<button>\", {class: \"unlock\", text: \"Unlock ($\" + prettyPrint(priceToBuyPad) + \")\"});\n      let _this = this;\n      buyBtn.click(function() {\n        if (!bank.canSpend(priceToBuyPad)) {\n          // TODO: Visualize that it failed becaue of money\n          // Maybe flash balance?\n          return;\n        }\n        bank.spend(priceToBuyPad);\n        \n        pad.bought = true;\n        _this.redraw(pad);\n      });\n      pad.$content.append(buyBtn);\n    }\n  },\n\n  deliverShip() {\n    $(\".ship\").addClass(\"built\");\n    console.log(\"Ship has been delivered!\");\n  }\n};","\"use strict\";\n\nconst Person = require(\"../class/person\");\n\nconst newPersonInterval = 2.5;\nconst startingPeople = 5;\nconst maxPeople = 10;\n\nvar count = 0;\nvar people = {};\n\nlet $lobby = $(\"#lobby .content\");\nlet $header = $(\"#lobby h1\");\n\nmodule.exports = {\n  setup() {\n    // TODO\n  },\n  \n  start() {\n    this._timer = setInterval(this.addNew.bind(this), newPersonInterval * 1000);\n    \n    for (var i = 0; i < startingPeople; i++) {\n      this.addNew();\n    }\n  },\n  \n  teardown() {\n    clearInterval(this._timer);\n  },\n  \n  addNew() {\n    if (count < maxPeople) {\n      let newPerson = new Person();\n      $lobby.append(newPerson.toHTML());\n      newPerson.setupDragging();\n      people[newPerson.id] = newPerson;\n      count++;\n    }\n    $header.text(\"Lobby (\" + count + \"/\" + maxPeople + \")\");\n  },\n  \n  // TODO: Call this when a person is dropped on a ship\n  get(id) {\n    return people[id];\n  },\n  \n  remove(id) {\n    let person = people[id];\n    delete people[id];\n    count--;\n    \n    person.$el.detach();\n    $header.text(\"Lobby (\" + count + \"/\" + maxPeople + \")\");\n    return person;\n  },\n  \n  refresh() {\n    $lobby.empty();\n    \n    for (let person of people) {\n      $lobby.append(person.toHTML());\n    }\n  },\n};","\"use strict\";\n\nconst prettyPrint = require(\"../lib/util\").prettyPrint;\n\n// How many people you have to save to get the hardest difficulty\nconst hardestDifficultyAt = 100;\n\nvar saved = -1;\nlet $saved = $(\"#saved\");\nfunction redraw() {\n  $saved.text(prettyPrint(saved) + \" \" + (saved === 1 ? \"person\" : \"people\"));\n}\n\nmodule.exports = {\n  \n  setup() {\n    saved = 0;\n    redraw();\n  },\n  \n  save(count) {\n    saved += count;\n    redraw();\n  },\n  \n  // Starts at '0' (easiest), and goes to '1' (hardest) over the course of the game\n  diffScale() {\n    return Math.min(saved / hardestDifficultyAt, 1);\n  }\n  \n};","\"use strict\";\n\nconst secondsBetweenDecrement = 2;\nvar space = 100;\n// var space = 10;\n\nmodule.exports = {\n  \n  setup() {\n    // TODO\n  },\n  \n  start() {\n    this.refresh();\n    \n    this._timer = setInterval(this.decrement.bind(this), secondsBetweenDecrement * 1000);\n  },\n  \n  teardown() {\n    clearInterval(this._timer);\n  },\n  \n  decrement() {\n    space--;\n    \n    // TODO: Check for 'space' reaching 0, then end the game\n    if (space <= 0) {\n      require(\"../game\").end(\"Out of space!\");\n    }\n    \n    this.refresh();\n  },\n  \n  refresh() {\n    $(\"#room-left\").text(space);\n  }\n};"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvY2xhc3MvcGVyc29uLmpzIiwic3JjL2NsYXNzL3NoaXAuanMiLCJzcmMvZ2FtZS5qcyIsInNyYy9saWIvYXR0cmlidXRlcy5qcyIsInNyYy9saWIvdXRpbC5qcyIsInNyYy9tYWluLmpzIiwic3JjL3NlY3Rpb24vYmFuay5qcyIsInNyYy9zZWN0aW9uL2xhdW5jaHBhZHMuanMiLCJzcmMvc2VjdGlvbi9sb2JieS5qcyIsInNyYy9zZWN0aW9uL3Njb3JlLmpzIiwic3JjL3NlY3Rpb24vc3BhY2VPbkVhcnRoLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7O0FBRUEsTUFBTSxhQUFhLFFBQVEsbUJBQVIsQ0FBbkI7QUFDQSxNQUFNLE9BQU8sUUFBUSxhQUFSLENBQWI7QUFDQSxNQUFNLFlBQVksUUFBUSxrQkFBUixFQUE0QixTQUE5Qzs7QUFHQSxNQUFNLGdCQUFnQixDQUF0Qjs7QUFFQSxNQUFNLGFBQWEsRUFBbkI7QUFDQSxNQUFNLFlBQWEsR0FBbkI7QUFDQSxNQUFNLFVBQWEsRUFBbkI7QUFDQSxNQUFNLFdBQWEsRUFBbkI7O0FBR0EsU0FBUyxTQUFULENBQW1CLENBQW5CLEVBQXNCLEVBQXRCLEVBQTBCO0FBQ3hCLElBQUUsSUFBRixFQUFRLFFBQVIsQ0FBaUIsVUFBakI7O0FBRUEsTUFBSSxLQUFLLEVBQUUsYUFBRixDQUFnQixZQUF6QjtBQUNBLEtBQUcsYUFBSCxHQUFtQixNQUFuQjtBQUNBLEtBQUcsT0FBSCxDQUFXLFlBQVgsRUFBeUIsRUFBekI7QUFDRDs7QUFFRCxTQUFTLE9BQVQsR0FBbUI7QUFDakIsTUFBSSxNQUFNLEVBQUUsSUFBRixDQUFWO0FBQ0EsTUFBSSxXQUFKLENBQWdCLFVBQWhCO0FBQ0EsSUFBRSxZQUFGLEVBQWdCLFdBQWhCLENBQTRCLGNBQTVCOztBQUVBLE1BQUksSUFBSSxJQUFKLENBQVMsaUJBQVQsQ0FBSixFQUFpQztB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LE9BQUw7O0FBRUEsU0FBSyxNQUFMLEdBQWMsWUFBWSxLQUFLLFNBQUwsQ0FBZSxJQUFmLENBQW9CLElBQXBCLENBQVosRUFBdUMsMEJBQTBCLElBQWpFLENBQWQ7QUFDRCxHQVZjOztBQVlmLGFBQVc7QUFDVCxrQkFBYyxLQUFLLE1BQW5CO0FBQ0QsR0FkYzs7QUFnQmYsY0FBWTtBQUNWOztBQUVBO0FBQ0EsUUFBSSxTQUFTLENBQWIsRUFBZ0I7QUFDZCxjQUFRLFNBQVIsRUFBbUIsR0FBbkIsQ0FBdUIsZUFBdkI7QUFDRDs7QUFFRCxTQUFLLE9BQUw7QUFDRCxHQXpCYzs7QUEyQmYsWUFBVTtBQUNSLE1BQUUsWUFBRixFQUFnQixJQUFoQixDQUFxQixLQUFyQjtBQUNEO0FBN0JjLENBQWpCIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmNvbnN0IGF0dHJpYnV0ZXMgPSByZXF1aXJlKFwiLi4vbGliL2F0dHJpYnV0ZXNcIik7XG5jb25zdCB1dGlsID0gcmVxdWlyZShcIi4uL2xpYi91dGlsXCIpO1xuY29uc3QgZGlmZlNjYWxlID0gcmVxdWlyZShcIi4uL3NlY3Rpb24vc2NvcmVcIikuZGlmZlNjYWxlO1xuXG5cbmNvbnN0IG1heEF0dHJpYnV0ZXMgPSA1O1xuXG5jb25zdCBtb25leVNjYWxlID0gMTA7XG5jb25zdCBwYXlvdXRNaW4gID0gNTAwO1xuY29uc3QgZmluZU1pbiAgICA9IDUwO1xuY29uc3QgYm9udXNNaW4gICA9IDI1O1xuXG5cbmZ1bmN0aW9uIGRyYWdTdGFydChlLCBpZCkge1xuICAkKHRoaXMpLmFkZENsYXNzKFwiZHJhZ2dpbmdcIik7XG4gIFxuICBsZXQgZHQgPSBlLm9yaWdpbmFsRXZlbnQuZGF0YVRyYW5zZmVyO1xuICBkdC5lZmZlY3RBbGxvd2VkID0gXCJtb3ZlXCI7XG4gIGR0LnNldERhdGEoXCJ0ZXh0L3BsYWluXCIsIGlkKTtcbn1cblxuZnVuY3Rpb24gZHJhZ0VuZCgpIHtcbiAgbGV0ICRlbCA9ICQodGhpcyk7XG4gICRlbC5yZW1vdmVDbGFzcyhcImRyYWdnaW5nXCIpO1xuICAkKFwiLmxhdW5jaHBhZFwiKS5yZW1vdmVDbGFzcyhcImRyYWdnZWQtb3ZlclwiKTtcbiAgXG4gIGlmICgkZWwuZGF0YShcInJlbW92ZU9uRHJhZ0VuZFwiKSkge1xuICAgICRlbC5vZmYoXCJkcmFnc3RhcnRcIik7XG4gICAgJGVsLm9mZihcImRyYWdlbmRcIik7XG4gICAgJGVsLnJlbW92ZUF0dHIoXCJkcmFnZ2FibGVcIik7XG4gIH1cbn1cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGNsYXNzIFBlcnNvbiB7XG4gIFxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmlkID0gdXRpbC51dWlkdjQoKTtcbiAgICBcbiAgICBsZXQgc2NhbGVkQXR0ck1heCA9IE1hdGguZmxvb3IoMSArICgobWF4QXR0cmlidXRlcyAtIDEpICogZGlmZlNjYWxlKCkpKTtcbiAgICBsZXQgbWF4ID0gTWF0aC5taW4oc2NhbGVkQXR0ck1heCwgbWF4QXR0cmlidXRlcyk7XG4gICAgXG4gICAgdGhpcy5uZWVkcyAgID0gYXR0cmlidXRlcy5yYW5kb20odXRpbC5yYW5kKG1heCkpO1xuICAgIHRoaXMuZGVzaXJlcyA9IGF0dHJpYnV0ZXMucmFuZG9tKHV0aWwucmFuZChtYXgpLCB0aGlzLm5lZWRzLnVudXNlZCk7XG4gICAgdGhpcy5pblNoaXAgID0gZmFsc2U7XG4gICAgXG4gICAgXG4gICAgLy8gU3VidHJhY3Qgb25lIHNvIHRoYXQgdGhlIG1heCBpcyBgcGF5b3V0TWluICsgKHBheW91dE1pbiAqIChtb25leVNjYWxlLTEpKSA9IHBheW91dE1pbiAqIG1vbmV5U2NhbGVgXG4gICAgLy8gcmF0aGVyIHRoYW4gYHBheW91dE1pbiArIChwYXlvdXRNaW4gKiBtb25leVNjYWxlKWBcbiAgICBsZXQgbXMgPSBtb25leVNjYWxlIC0gMTtcbiAgICB0aGlzLnBheW91dCA9IHBheW91dE1pbiArIHV0aWwucmFuZChNYXRoLmZsb29yKG1zICogcGF5b3V0TWluICogdGhpcy5uZWVkcy5sZW5ndGggICAvIG1heEF0dHJpYnV0ZXMpKTtcbiAgICB0aGlzLmZpbmUgICA9IHBheW91dE1pbiArIHV0aWwucmFuZChNYXRoLmZsb29yKG1zICogZmluZU1pbiAgICogdGhpcy5uZWVkcy5sZW5ndGggICAvIG1heEF0dHJpYnV0ZXMpKTtcbiAgICB0aGlzLmJvbnVzICA9IHBheW91dE1pbiArIHV0aWwucmFuZChNYXRoLmZsb29yKG1zICogYm9udXNNaW4gICogdGhpcy5kZXNpcmVzLmxlbmd0aCAvIG1heEF0dHJpYnV0ZXMpKTtcbiAgICBcbiAgICBcbiAgICB0aGlzLiRlbCA9ICQoXCI8ZGl2PlwiLCB7IGNsYXNzOiBcInBlcnNvblwiIH0pO1xuICB9XG4gIFxuICBzZXR1cERyYWdnaW5nKCkge1xuICAgIGxldCBpZCA9IHRoaXMuaWQ7XG4gICAgdGhpcy4kZWwub24oXCJkcmFnc3RhcnRcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgZHJhZ1N0YXJ0LmNhbGwodGhpcywgZSwgaWQpO1xuICAgIH0pO1xuICAgIHRoaXMuJGVsLm9uKFwiZHJhZ2VuZFwiLCBkcmFnRW5kKTtcbiAgICB0aGlzLiRlbC5hdHRyKFwiZHJhZ2dhYmxlXCIsIHRydWUpO1xuICB9XG4gIFxuICB0b0hUTUwoKSB7XG4gICAgdGhpcy4kZWwuZW1wdHkoKTtcbiAgICBcbiAgICBsZXQgJG5lZWRzID0gJChcIjxkaXY+XCIsIHtcbiAgICAgIGNsYXNzOiBcIm5lZWRzXCIsXG4gICAgfSk7XG4gICAgaWYgKHRoaXMubmVlZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAkbmVlZHMuYXBwZW5kKCQoXCI8c3Bhbj5cIiwgeyB0ZXh0OiBcIi0tIG5vIG5lZWRzIC0tXCIgfSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGxldCByZXEgb2YgdGhpcy5uZWVkcykge1xuICAgICAgICAkbmVlZHMuYXBwZW5kKCQoXCI8c3Bhbj5cIiwgeyB0ZXh0OiByZXEgfSkpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLiRlbC5hcHBlbmQoJG5lZWRzKTtcbiAgICBcbiAgICBsZXQgJGRlc2lyZXMgPSAkKFwiPGRpdj5cIiwge1xuICAgICAgY2xhc3M6IFwiZGVzaXJlc1wiLFxuICAgIH0pO1xuICAgIGlmICh0aGlzLmRlc2lyZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAkZGVzaXJlcy5hcHBlbmQoJChcIjxzcGFuPlwiLCB7IHRleHQ6IFwiLS0gbm8gZGVzaXJlcyAtLVwiIH0pKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChsZXQgcmVxIG9mIHRoaXMuZGVzaXJlcykge1xuICAgICAgICAkZGVzaXJlcy5hcHBlbmQoJChcIjxzcGFuPlwiLCB7IHRleHQ6IHJlcSB9KSk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuJGVsLmFwcGVuZCgkZGVzaXJlcyk7XG4gICAgXG4gICAgXG4gICAgXG4gICAgbGV0ICRtb25leSA9ICQoXCI8ZGl2PlwiLCB7XG4gICAgICBjbGFzczogXCJtb25leVwiLFxuICAgIH0pO1xuICAgIGlmICghdGhpcy5pblNoaXApIHtcbiAgICAgICRtb25leS5hcHBlbmQoJChcIjxzcGFuPlwiLCB7IGNsYXNzOiBcInBheW91dFwiLCB0ZXh0OiBcIlBheW91dDogJFwiICsgdXRpbC5wcmV0dHlQcmludCh0aGlzLnBheW91dCkgfSkpO1xuICAgIH1cbiAgICBsZXQgJGZpbmUgPSAkKFwiPHNwYW4+XCIsIHsgY2xhc3M6IFwiZmluZVwiLCB0ZXh0OiBcIkZpbmU6ICRcIiArICh1dGlsLnByZXR0eVByaW50KHRoaXMuZmluZSkpIH0pO1xuICAgIGlmICh0aGlzLm5lZWRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgJGZpbmUuYWRkQ2xhc3MoXCJuYVwiKTtcbiAgICAgICRmaW5lLnRleHQoXCJGaW5lOiBOL0FcIik7XG4gICAgfVxuICAgIGxldCAkYm9udXMgPSAkKFwiPHNwYW4+XCIsIHsgY2xhc3M6IFwiYm9udXNcIiwgdGV4dDogXCJCb251czogJFwiICsgdXRpbC5wcmV0dHlQcmludCh0aGlzLmJvbnVzKSB9KTtcbiAgICBpZiAodGhpcy5kZXNpcmVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgJGJvbnVzLmFkZENsYXNzKFwibmFcIik7XG4gICAgICAkYm9udXMudGV4dChcIkJvbnVzOiBOL0FcIik7XG4gICAgfVxuICAgICRtb25leS5hcHBlbmQoJGZpbmUsICRib251cyk7XG4gICAgdGhpcy4kZWwuYXBwZW5kKCRtb25leSk7XG4gICAgXG4gICAgY29uc29sZS5sb2codGhpcy5pZCArIFwiIC0tIHBheW91dDogJFwiICsgdGhpcy5wYXlvdXQgKyBcIjsgZmluZTogJFwiICsgdGhpcy5maW5lICsgXCI7IGJvbnVzOiAkXCIgKyB0aGlzLmJvbnVzKTtcbiAgICBcbiAgICByZXR1cm4gdGhpcy4kZWw7XG4gIH1cbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmNvbnN0IGF0dHJpYnV0ZXMgPSByZXF1aXJlKFwiLi4vbGliL2F0dHJpYnV0ZXNcIik7XG5jb25zdCBsb2JieSA9IHJlcXVpcmUoXCIuLi9zZWN0aW9uL2xvYmJ5XCIpO1xuY29uc3QgYmFuayA9IHJlcXVpcmUoXCIuLi9zZWN0aW9uL2JhbmtcIik7XG5cbmNvbnN0IG1heFBhc3NlbmdlcnMgPSA1O1xuXG5cbmZ1bmN0aW9uIGRyYWdPdmVyKGV2KSB7XG4gIGxldCBlID0gZXYub3JpZ2luYWxFdmVudDtcbiAgaWYgKHR5cGVvZiBlLnByZXZlbnREZWZhdWx0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIH1cbiAgXG4gIGUuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3QgPSBcIm1vdmVcIjtcbn1cblxuZnVuY3Rpb24gZHJhZ0VudGVyKCkge1xuICAkKHRoaXMpLmFkZENsYXNzKFwiZHJhZ2dlZC1vdmVyXCIpO1xufVxuXG5mdW5jdGlvbiBkcmFnTGVhdmUoKSB7XG4gICQodGhpcykucmVtb3ZlQ2xhc3MoXCJkcmFnZ2VkLW92ZXJcIik7XG59XG5cblxubW9kdWxlLmV4cG9ydHMgPSBjbGFzcyBQZXJzb24ge1xuICBcbiAgY29uc3RydWN0b3IocGFkLCByZWRyYXcpIHtcbiAgICB0aGlzLmF0dHJpYnV0ZXMgPSBhdHRyaWJ1dGVzLnJhbmRvbSgxKTtcbiAgICB0aGlzLnBhc3NlbmdlcnMgPSBbXTtcbiAgICBcbiAgICB0aGlzLl9wYWQgPSBwYWQ7XG4gICAgdGhpcy5fcmVkcmF3ID0gcmVkcmF3O1xuICAgIFxuICAgIHRoaXMuJGVsID0gJChcIjxkaXY+XCIsIHtcbiAgICAgIGNsYXNzOiBcInNoaXBcIlxuICAgIH0pO1xuICB9XG4gIFxuICBhZGRQYXNzZW5nZXIocGVyc29uKSB7XG4gICAgaWYgKHRoaXMucGFzc2VuZ2Vycy5sZW5ndGggPj0gbWF4UGFzc2VuZ2VycykgeyByZXR1cm4gZmFsc2U7IH1cbiAgICB0aGlzLnBhc3NlbmdlcnMucHVzaChwZXJzb24pO1xuICAgIHBlcnNvbi5pblNoaXAgPSB0cnVlO1xuICAgIGJhbmsuZWFybihwZXJzb24ucGF5b3V0KTtcbiAgICBcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBcbiAgc2V0dXBEcmFnVGFyZ2V0KCkge1xuICAgIHRoaXMuJGVsLm9uKFwiZHJhZ292ZXJcIiwgIGRyYWdPdmVyKTtcbiAgICB0aGlzLiRlbC5vbihcImRyYWdlbnRlclwiLCBkcmFnRW50ZXIpO1xuICAgIHRoaXMuJGVsLm9uKFwiZHJhZ2xlYXZlXCIsIGRyYWdMZWF2ZSk7XG4gICAgXG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICB0aGlzLiRlbC5vbihcImRyb3BcIiwgZnVuY3Rpb24oZXYpIHtcbiAgICAgIGxldCBlID0gZXYub3JpZ2luYWxFdmVudDtcbiAgICAgIGlmKGUucHJldmVudERlZmF1bHQpIHsgZS5wcmV2ZW50RGVmYXVsdCgpOyB9XG4gICAgICBpZihlLnN0b3BQcm9wYWdhdGlvbikgeyBlLnN0b3BQcm9wYWdhdGlvbigpOyB9XG4gICAgICBcbiAgICAgICQoXCIuZHJhZ2dlZC1vdmVyXCIpLnJlbW92ZUNsYXNzKFwiZHJhZ2dlZC1vdmVyXCIpO1xuICAgICAgXG4gICAgICBsZXQgaWQgPSBlLmRhdGFUcmFuc2Zlci5nZXREYXRhKFwidGV4dC9wbGFpblwiKTtcbiAgICAgIGxldCBwYXNzZW5nZXIgPSBsb2JieS5nZXQoaWQpO1xuICAgICAgXG4gICAgICBpZiAoIV90aGlzLmFkZFBhc3NlbmdlcihwYXNzZW5nZXIpKSB7XG4gICAgICAgIC8vIENhbid0IGFkZCBwYXNzZW5nZXIsIHByb2JhYmx5IGZ1bGxcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICBsb2JieS5yZW1vdmUoaWQpO1xuICAgICAgXG4gICAgICBwYXNzZW5nZXIuJGVsLmRhdGEoXCJyZW1vdmVPbkRyYWdFbmRcIiwgdHJ1ZSk7XG4gICAgICBwYXNzZW5nZXIuJGVsLnRyaWdnZXIoXCJkcmFnZW5kXCIpO1xuICAgICAgXG4gICAgICBfdGhpcy5fcmVkcmF3KCk7XG4gICAgfSk7XG4gIH1cbiAgXG4gIHRvSFRNTCgpIHtcbiAgICB0aGlzLiRlbC5lbXB0eSgpO1xuICAgIFxuICAgIGZvciAobGV0IHAgb2YgdGhpcy5wYXNzZW5nZXJzKSB7XG4gICAgICB0aGlzLiRlbC5hcHBlbmQocC50b0hUTUwoKSk7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4UGFzc2VuZ2VycyAtIHRoaXMucGFzc2VuZ2Vycy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy4kZWwuYXBwZW5kKCQoXCI8ZGl2PlwiLCB7Y2xhc3M6IFwic2xvdCBlbXB0eVwifSkpO1xuICAgIH1cbiAgICBcbiAgICBsZXQgJGxhdW5jaEJ0biA9ICQoXCI8YnV0dG9uPlwiLCB7Y2xhc3M6IFwibGF1bmNoXCIsIHRleHQ6IFwiTGF1bmNoIVwifSk7XG4gICAgJGxhdW5jaEJ0bi5jbGljayh0aGlzLmxhdW5jaC5iaW5kKHRoaXMpKTtcbiAgICBcbiAgICBpZiAodGhpcy5wYXNzZW5nZXJzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAkbGF1bmNoQnRuLnByb3AoXCJkaXNhYmxlZFwiLCB0cnVlKTtcbiAgICB9XG4gICAgXG4gICAgdGhpcy4kZWwuYXBwZW5kKCRsYXVuY2hCdG4pO1xuICAgIFxuICAgIHJldHVybiB0aGlzLiRlbDtcbiAgfVxuICBcbiAgbGF1bmNoKCkge1xuICAgIGNvbnNvbGUubG9nKFwiTGF1bmNoaW5nIHNoaXAhXCIsIHRoaXMucGFzc2VuZ2Vycyk7XG4gICAgXG4gICAgXG4gICAgLy8gVE9ETzogSGFuZGxlIGZpbmVzIGFuZCBib251c2VzXG4gICAgXG4gICAgXG4gICAgdGhpcy5fcGFkLnNoaXAgPSBudWxsO1xuICAgIHRoaXMuX3JlZHJhdygpO1xuICB9XG4gIFxufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIHNlY3Rpb25zID0gW1xuICByZXF1aXJlKFwiLi9zZWN0aW9uL2JhbmtcIiksXG4gIHJlcXVpcmUoXCIuL3NlY3Rpb24vbGF1bmNocGFkc1wiKSxcbiAgcmVxdWlyZShcIi4vc2VjdGlvbi9sb2JieVwiKSxcbiAgcmVxdWlyZShcIi4vc2VjdGlvbi9zY29yZVwiKSxcbiAgcmVxdWlyZShcIi4vc2VjdGlvbi9zcGFjZU9uRWFydGhcIiksXG4gIC8vIFRPRE86IE1vcmUgc2VjdGlvbnMgaGVyZVxuXTtcblxuXG5mdW5jdGlvbiBzZXR1cCgpIHtcbiAgZm9yIChsZXQgcyBvZiBzZWN0aW9ucykge1xuICAgIGlmICh0eXBlb2Ygcy5zZXR1cCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICBzLnNldHVwKCk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHN0YXJ0KCkge1xuICBmb3IgKGxldCBzIG9mIHNlY3Rpb25zKSB7XG4gICAgaWYgKHR5cGVvZiBzLnN0YXJ0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHMuc3RhcnQoKTtcbiAgICB9XG4gIH1cbn1cblxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgYmVnaW4oKSB7XG4gICAgc2V0dXAoKTtcbiAgICBzdGFydCgpO1xuICB9LFxuICBcbiAgZW5kKHJlYXNvbikge1xuICAgIGNvbnNvbGUubG9nKFwiRW5kaW5nIGdhbWUgLS0gcmVhc29uOiBcIiArIHJlYXNvbik7XG4gICAgZm9yIChsZXQgcyBvZiBzZWN0aW9ucykge1xuICAgICAgaWYgKHR5cGVvZiBzLnRlYXJkb3duID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcy50ZWFyZG93bigpO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBUT0RPOiBEaXNwbGF5IGVuZC1vZi1nYW1lIHNjcmVlblxuICB9XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5jb25zdCB1dGlscyA9IHJlcXVpcmUoXCIuL3V0aWxcIik7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICByYW5kb20oY291bnQgPSA1LCBsaXN0ID0gbnVsbCkge1xuICAgIHZhciBvdXQgPSBbXTtcbiAgICBpZiAobGlzdCA9PSBudWxsKSB7XG4gICAgICAvLyBNYWtlIGEgY29weSBvZiB0aGUgYXJyYXlcbiAgICAgIGxpc3QgPSB0aGlzLmxpc3Quc2xpY2UodGhpcy5saXN0KTtcbiAgICB9XG4gICAgXG4gICAgd2hpbGUgKGNvdW50ID4gMCAmJiBsaXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgIGxldCBpbmRleCA9IHV0aWxzLnJhbmQobGlzdC5sZW5ndGggLSAxKTtcbiAgICAgIG91dC5wdXNoKGxpc3RbaW5kZXhdKTtcbiAgICAgIGxpc3Quc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIGNvdW50LS07XG4gICAgfVxuICAgIFxuICAgIG91dC51bnVzZWQgPSBsaXN0O1xuICAgIHJldHVybiBvdXQ7XG4gIH0sXG4gIFxuICBsaXN0OiBbXG4gICAgXCJBXCIsXG4gICAgXCJCXCIsXG4gICAgXCJDXCIsXG4gICAgXCJEXCIsXG4gICAgXCJFXCIsXG4gICAgXCJGXCIsXG4gICAgXCJHXCIsXG4gICAgXCJIXCIsXG4gICAgXCJJXCIsXG4gICAgXCJKXCIsXG4gICAgXCJLXCIsXG4gICAgXCJMXCIsXG4gICAgXCJNXCIsXG4gICAgXCJOXCIsXG4gICAgXCJPXCIsXG4gICAgXCJQXCIsXG4gICAgXCJRXCIsXG4gICAgXCJSXCIsXG4gICAgXCJTXCIsXG4gICAgXCJUXCIsXG4gICAgXCJVXCIsXG4gICAgXCJWXCIsXG4gICAgXCJXXCIsXG4gICAgXCJYXCIsXG4gICAgXCJZXCIsXG4gICAgXCJaXCIsXG4gIF0sXG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgcmFuZChtaW4sIG1heCkge1xuICAgIGlmIChtYXggPT0gbnVsbCkge1xuICAgICAgbWF4ID0gbWluO1xuICAgICAgbWluID0gMDtcbiAgICB9XG4gICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSArIG1pbik7XG4gIH0sXG4gIFxuICB1dWlkdjQoKSB7XG4gICAgcmV0dXJuIChbMWU3XSArIC0xZTMgKyAtNGUzICsgLThlMyArIC0xZTExKS5yZXBsYWNlKC9bMDE4XS9nLCBjID0+XG4gICAgICAoYyBeIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQ4QXJyYXkoMSkpWzBdICYgMTUgPj4gYyAvIDQpLnRvU3RyaW5nKDE2KVxuICAgICk7XG4gIH0sXG4gIFxuICBwcmV0dHlQcmludChudW0pIHtcbiAgICByZXR1cm4gbnVtLnRvU3RyaW5nKCkucmVwbGFjZSgvXFxCKD89KFxcZHszfSkrKD8hXFxkKSkvZywgXCIsXCIpO1xuICB9LFxufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuJChmdW5jdGlvbigpIHtcbiAgbGV0IHN0YXJ0ID0gRGF0ZS5ub3coKTtcbiAgZ2xvYmFsLnJ1bm5pbmdUaW1lID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIERhdGUubm93KCkgLSBzdGFydDtcbiAgfTtcbiAgXG4gIC8vIFRPRE86IG1ha2UgYSBcInN0YXJ0XCIgYnV0dG9uP1xuICByZXF1aXJlKFwiLi9nYW1lXCIpLmJlZ2luKCk7XG59KTsiLCJcInVzZSBzdHJpY3RcIjtcblxuY29uc3QgZ2FtZSA9IHJlcXVpcmUoXCIuLi9nYW1lXCIpO1xuY29uc3QgcHJldHR5UHJpbnQgPSByZXF1aXJlKFwiLi4vbGliL3V0aWxcIikucHJldHR5UHJpbnQ7XG5cbmNvbnN0IHN0YXJ0aW5nTW9uZXkgPSAxMDAwMDA7XG5cblxudmFyIG1vbmV5ID0gLTE7XG5sZXQgJGJhbGFuY2UgPSAkKFwiI2JhbGFuY2VcIik7XG5mdW5jdGlvbiByZWRyYXcoKSB7XG4gICRiYWxhbmNlLnRleHQoXCIkXCIgKyBwcmV0dHlQcmludChtb25leSkpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgXG4gIHNldHVwKCkge1xuICAgIG1vbmV5ID0gc3RhcnRpbmdNb25leTtcbiAgICByZWRyYXcoKTtcbiAgfSxcbiAgXG4gIGNhblNwZW5kKGFtdCkge1xuICAgIHJldHVybiBtb25leSA+PSBhbXQ7XG4gIH0sXG4gIFxuICBzcGVuZChjb3N0KSB7XG4gICAgaWYgKGNvc3QgPCAwKSB7XG4gICAgICByZXR1cm4gdGhpcy5lYXJuKC1jb3N0KTtcbiAgICB9XG4gICAgbW9uZXkgLT0gY29zdDtcbiAgICBpZiAobW9uZXkgPCAwKSB7XG4gICAgICBnYW1lLmVuZChcIk91dCBvZiBtb25leSFcIik7XG4gICAgfVxuICAgIHJlZHJhdygpO1xuICB9LFxuICBcbiAgZWFybihhbW91bnQpIHtcbiAgICBpZiAoYW1vdW50IDwgMCkge1xuICAgICAgcmV0dXJuIHRoaXMuc3BlbmQoLWFtb3VudCk7XG4gICAgfVxuICAgIG1vbmV5ICs9IGFtb3VudDtcbiAgICByZWRyYXcoKTtcbiAgfSxcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmNvbnN0IFNoaXAgPSByZXF1aXJlKFwiLi4vY2xhc3Mvc2hpcFwiKTtcbmNvbnN0IHByZXR0eVByaW50ID0gcmVxdWlyZShcIi4uL2xpYi91dGlsXCIpLnByZXR0eVByaW50O1xuY29uc3QgYmFuayA9IHJlcXVpcmUoXCIuL2JhbmtcIik7XG5cbi8vIGNvbnN0IGJ1aWxkVGltZUluU2Vjb25kcyA9IDU7XG5cbmNvbnN0IHByaWNlVG9CdWlsZFNoaXAgPSA1MDAwO1xuY29uc3QgcHJpY2VUb0J1eVBhZCA9IDEwMDAwO1xuXG5cbmxldCBwYWQxID0geyBzaGlwOiBudWxsLCBib3VnaHQ6IHRydWUsICAkZWw6ICQoXCIjcGFkMVwiKSwgJGNvbnRlbnQ6ICQoXCIjcGFkMSAuY29udGVudFwiKSB9O1xubGV0IHBhZDIgPSB7IHNoaXA6IG51bGwsIGJvdWdodDogZmFsc2UsICRlbDogJChcIiNwYWQyXCIpLCAkY29udGVudDogJChcIiNwYWQyIC5jb250ZW50XCIpIH07XG5sZXQgcGFkMyA9IHsgc2hpcDogbnVsbCwgYm91Z2h0OiBmYWxzZSwgJGVsOiAkKFwiI3BhZDNcIiksICRjb250ZW50OiAkKFwiI3BhZDMgLmNvbnRlbnRcIikgfTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgXG4gIHNldHVwKCkge1xuICAgIC8vIFRPRE86ID9cbiAgfSxcbiAgXG4gIHN0YXJ0KCkge1xuICAgIHBhZDEuc2hpcCA9IG5ldyBTaGlwKHBhZDEsIHRoaXMucmVkcmF3LmJpbmQodGhpcywgcGFkMSkpO1xuICAgIFxuICAgIHRoaXMucmVkcmF3KHBhZDEpO1xuICAgIHRoaXMucmVkcmF3KHBhZDIpO1xuICAgIHRoaXMucmVkcmF3KHBhZDMpO1xuICB9LFxuICBcbiAgLy8gc3RhcnRCdWlsZCgpIHtcbiAgLy8gICBpZiAodGhpcy5zaGlwcy5jb3VudCA8IHRoaXMubWF4U2hpcHMpIHtcbiAgLy8gICAgIHRoaXMuc2hpcHMucHVzaChuZXcgU2hpcCgpKTtcbiAgLy8gICB9XG4gIC8vICAgc2V0VGltZW91dCh0aGlzLmRlbGl2ZXJTaGlwLmJpbmQodGhpcyksIGJ1aWxkVGltZUluU2Vjb25kcyAqIDEwMDApO1xuICAvLyAgIGNvbnNvbGUubG9nKFwiU3RhcnRlZCBidWlsZGluZyBzaGlwIVwiKTtcbiAgLy8gfSxcbiAgXG4gIHJlZHJhdyhwYWQpIHtcbiAgICBwYWQuJGNvbnRlbnQuZW1wdHkoKTtcbiAgICBpZiAocGFkLnNoaXAgIT0gbnVsbCkge1xuICAgICAgcGFkLiRlbC5yZW1vdmVDbGFzcyhcImxvY2tlZCBlbXB0eVwiKTtcbiAgICAgIHBhZC4kY29udGVudC5hcHBlbmQocGFkLnNoaXAudG9IVE1MKCkpO1xuICAgICAgcGFkLnNoaXAuc2V0dXBEcmFnVGFyZ2V0KCk7XG4gICAgfSBlbHNlIGlmIChwYWQuYm91Z2h0KSB7XG4gICAgICBwYWQuJGVsLnJlbW92ZUNsYXNzKFwibG9ja2VkXCIpO1xuICAgICAgcGFkLiRlbC5hZGRDbGFzcyhcImVtcHR5XCIpO1xuICAgICAgXG4gICAgICBwYWQuJGNvbnRlbnQuYXBwZW5kKCQoXCI8aDI+XCIsIHt0ZXh0OiBcIkVtcHR5XCJ9KSk7XG4gICAgICBsZXQgYnVpbGRCdG4gPSAkKFwiPGJ1dHRvbj5cIiwge2NsYXNzOiBcImJ1aWxkXCIsIHRleHQ6IFwiQnVpbGQgKCRcIiArIHByZXR0eVByaW50KHByaWNlVG9CdWlsZFNoaXApICsgXCIpXCJ9KTtcbiAgICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgICBidWlsZEJ0bi5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCFiYW5rLmNhblNwZW5kKHByaWNlVG9CdWlsZFNoaXApKSB7XG4gICAgICAgICAgLy8gVE9ETzogVmlzdWFsaXplIHRoYXQgaXQgZmFpbGVkIGJlY2F1ZSBvZiBtb25leVxuICAgICAgICAgIC8vIE1heWJlIGZsYXNoIGJhbGFuY2U/XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGJhbmsuc3BlbmQocHJpY2VUb0J1aWxkU2hpcCk7XG4gICAgICAgIFxuICAgICAgICBwYWQuc2hpcCA9IG5ldyBTaGlwKHBhZCwgX3RoaXMucmVkcmF3LmJpbmQoX3RoaXMsIHBhZCkpO1xuICAgICAgICBfdGhpcy5yZWRyYXcocGFkKTtcbiAgICAgIH0pO1xuICAgICAgcGFkLiRjb250ZW50LmFwcGVuZChidWlsZEJ0bik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhZC4kZWwucmVtb3ZlQ2xhc3MoXCJlbXB0eVwiKTtcbiAgICAgIHBhZC4kZWwuYWRkQ2xhc3MoXCJsb2NrZWRcIik7XG4gICAgICBcbiAgICAgIHBhZC4kY29udGVudC5hcHBlbmQoJChcIjxoMj5cIiwge3RleHQ6IFwiTG9ja2VkXCJ9KSk7XG4gICAgICBsZXQgYnV5QnRuID0gJChcIjxidXR0b24+XCIsIHtjbGFzczogXCJ1bmxvY2tcIiwgdGV4dDogXCJVbmxvY2sgKCRcIiArIHByZXR0eVByaW50KHByaWNlVG9CdXlQYWQpICsgXCIpXCJ9KTtcbiAgICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgICBidXlCdG4uY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICghYmFuay5jYW5TcGVuZChwcmljZVRvQnV5UGFkKSkge1xuICAgICAgICAgIC8vIFRPRE86IFZpc3VhbGl6ZSB0aGF0IGl0IGZhaWxlZCBiZWNhdWUgb2YgbW9uZXlcbiAgICAgICAgICAvLyBNYXliZSBmbGFzaCBiYWxhbmNlP1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBiYW5rLnNwZW5kKHByaWNlVG9CdXlQYWQpO1xuICAgICAgICBcbiAgICAgICAgcGFkLmJvdWdodCA9IHRydWU7XG4gICAgICAgIF90aGlzLnJlZHJhdyhwYWQpO1xuICAgICAgfSk7XG4gICAgICBwYWQuJGNvbnRlbnQuYXBwZW5kKGJ1eUJ0bik7XG4gICAgfVxuICB9LFxuXG4gIGRlbGl2ZXJTaGlwKCkge1xuICAgICQoXCIuc2hpcFwiKS5hZGRDbGFzcyhcImJ1aWx0XCIpO1xuICAgIGNvbnNvbGUubG9nKFwiU2hpcCBoYXMgYmVlbiBkZWxpdmVyZWQhXCIpO1xuICB9XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5jb25zdCBQZXJzb24gPSByZXF1aXJlKFwiLi4vY2xhc3MvcGVyc29uXCIpO1xuXG5jb25zdCBuZXdQZXJzb25JbnRlcnZhbCA9IDIuNTtcbmNvbnN0IHN0YXJ0aW5nUGVvcGxlID0gNTtcbmNvbnN0IG1heFBlb3BsZSA9IDEwO1xuXG52YXIgY291bnQgPSAwO1xudmFyIHBlb3BsZSA9IHt9O1xuXG5sZXQgJGxvYmJ5ID0gJChcIiNsb2JieSAuY29udGVudFwiKTtcbmxldCAkaGVhZGVyID0gJChcIiNsb2JieSBoMVwiKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHNldHVwKCkge1xuICAgIC8vIFRPRE9cbiAgfSxcbiAgXG4gIHN0YXJ0KCkge1xuICAgIHRoaXMuX3RpbWVyID0gc2V0SW50ZXJ2YWwodGhpcy5hZGROZXcuYmluZCh0aGlzKSwgbmV3UGVyc29uSW50ZXJ2YWwgKiAxMDAwKTtcbiAgICBcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YXJ0aW5nUGVvcGxlOyBpKyspIHtcbiAgICAgIHRoaXMuYWRkTmV3KCk7XG4gICAgfVxuICB9LFxuICBcbiAgdGVhcmRvd24oKSB7XG4gICAgY2xlYXJJbnRlcnZhbCh0aGlzLl90aW1lcik7XG4gIH0sXG4gIFxuICBhZGROZXcoKSB7XG4gICAgaWYgKGNvdW50IDwgbWF4UGVvcGxlKSB7XG4gICAgICBsZXQgbmV3UGVyc29uID0gbmV3IFBlcnNvbigpO1xuICAgICAgJGxvYmJ5LmFwcGVuZChuZXdQZXJzb24udG9IVE1MKCkpO1xuICAgICAgbmV3UGVyc29uLnNldHVwRHJhZ2dpbmcoKTtcbiAgICAgIHBlb3BsZVtuZXdQZXJzb24uaWRdID0gbmV3UGVyc29uO1xuICAgICAgY291bnQrKztcbiAgICB9XG4gICAgJGhlYWRlci50ZXh0KFwiTG9iYnkgKFwiICsgY291bnQgKyBcIi9cIiArIG1heFBlb3BsZSArIFwiKVwiKTtcbiAgfSxcbiAgXG4gIC8vIFRPRE86IENhbGwgdGhpcyB3aGVuIGEgcGVyc29uIGlzIGRyb3BwZWQgb24gYSBzaGlwXG4gIGdldChpZCkge1xuICAgIHJldHVybiBwZW9wbGVbaWRdO1xuICB9LFxuICBcbiAgcmVtb3ZlKGlkKSB7XG4gICAgbGV0IHBlcnNvbiA9IHBlb3BsZVtpZF07XG4gICAgZGVsZXRlIHBlb3BsZVtpZF07XG4gICAgY291bnQtLTtcbiAgICBcbiAgICBwZXJzb24uJGVsLmRldGFjaCgpO1xuICAgICRoZWFkZXIudGV4dChcIkxvYmJ5IChcIiArIGNvdW50ICsgXCIvXCIgKyBtYXhQZW9wbGUgKyBcIilcIik7XG4gICAgcmV0dXJuIHBlcnNvbjtcbiAgfSxcbiAgXG4gIHJlZnJlc2goKSB7XG4gICAgJGxvYmJ5LmVtcHR5KCk7XG4gICAgXG4gICAgZm9yIChsZXQgcGVyc29uIG9mIHBlb3BsZSkge1xuICAgICAgJGxvYmJ5LmFwcGVuZChwZXJzb24udG9IVE1MKCkpO1xuICAgIH1cbiAgfSxcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmNvbnN0IHByZXR0eVByaW50ID0gcmVxdWlyZShcIi4uL2xpYi91dGlsXCIpLnByZXR0eVByaW50O1xuXG4vLyBIb3cgbWFueSBwZW9wbGUgeW91IGhhdmUgdG8gc2F2ZSB0byBnZXQgdGhlIGhhcmRlc3QgZGlmZmljdWx0eVxuY29uc3QgaGFyZGVzdERpZmZpY3VsdHlBdCA9IDEwMDtcblxudmFyIHNhdmVkID0gLTE7XG5sZXQgJHNhdmVkID0gJChcIiNzYXZlZFwiKTtcbmZ1bmN0aW9uIHJlZHJhdygpIHtcbiAgJHNhdmVkLnRleHQocHJldHR5UHJpbnQoc2F2ZWQpICsgXCIgXCIgKyAoc2F2ZWQgPT09IDEgPyBcInBlcnNvblwiIDogXCJwZW9wbGVcIikpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgXG4gIHNldHVwKCkge1xuICAgIHNhdmVkID0gMDtcbiAgICByZWRyYXcoKTtcbiAgfSxcbiAgXG4gIHNhdmUoY291bnQpIHtcbiAgICBzYXZlZCArPSBjb3VudDtcbiAgICByZWRyYXcoKTtcbiAgfSxcbiAgXG4gIC8vIFN0YXJ0cyBhdCAnMCcgKGVhc2llc3QpLCBhbmQgZ29lcyB0byAnMScgKGhhcmRlc3QpIG92ZXIgdGhlIGNvdXJzZSBvZiB0aGUgZ2FtZVxuICBkaWZmU2NhbGUoKSB7XG4gICAgcmV0dXJuIE1hdGgubWluKHNhdmVkIC8gaGFyZGVzdERpZmZpY3VsdHlBdCwgMSk7XG4gIH1cbiAgXG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5jb25zdCBzZWNvbmRzQmV0d2VlbkRlY3JlbWVudCA9IDI7XG52YXIgc3BhY2UgPSAxMDA7XG4vLyB2YXIgc3BhY2UgPSAxMDtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIFxuICBzZXR1cCgpIHtcbiAgICAvLyBUT0RPXG4gIH0sXG4gIFxuICBzdGFydCgpIHtcbiAgICB0aGlzLnJlZnJlc2goKTtcbiAgICBcbiAgICB0aGlzLl90aW1lciA9IHNldEludGVydmFsKHRoaXMuZGVjcmVtZW50LmJpbmQodGhpcyksIHNlY29uZHNCZXR3ZWVuRGVjcmVtZW50ICogMTAwMCk7XG4gIH0sXG4gIFxuICB0ZWFyZG93bigpIHtcbiAgICBjbGVhckludGVydmFsKHRoaXMuX3RpbWVyKTtcbiAgfSxcbiAgXG4gIGRlY3JlbWVudCgpIHtcbiAgICBzcGFjZS0tO1xuICAgIFxuICAgIC8vIFRPRE86IENoZWNrIGZvciAnc3BhY2UnIHJlYWNoaW5nIDAsIHRoZW4gZW5kIHRoZSBnYW1lXG4gICAgaWYgKHNwYWNlIDw9IDApIHtcbiAgICAgIHJlcXVpcmUoXCIuLi9nYW1lXCIpLmVuZChcIk91dCBvZiBzcGFjZSFcIik7XG4gICAgfVxuICAgIFxuICAgIHRoaXMucmVmcmVzaCgpO1xuICB9LFxuICBcbiAgcmVmcmVzaCgpIHtcbiAgICAkKFwiI3Jvb20tbGVmdFwiKS50ZXh0KHNwYWNlKTtcbiAgfVxufTsiXX0="}