{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/class/person.js","src/class/ship.js","src/game.js","src/lib/attributes.js","src/lib/util.js","src/main.js","src/section/bank.js","src/section/launchpads.js","src/section/lobby.js","src/section/score.js","src/section/spaceOnEarth.js"],"names":[],"mappings":"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","file":"../bundle.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","\"use strict\";\n\nconst attributes = require(\"../lib/attributes\");\nconst util = require(\"../lib/util\");\nconst diffScale = require(\"../section/score\").diffScale;\n\n\nconst maxAttributes = 5;\n\nconst moneyScale = 5;\nconst payoutMin  = 1000;\nconst fineMin    = 1500;\nconst bonusMin   = 1000;\n\n\nfunction dragStart(e, id) {\n  $(this).addClass(\"dragging\");\n  \n  let dt = e.originalEvent.dataTransfer;\n  dt.effectAllowed = \"move\";\n  dt.setData(\"text/plain\", id);\n}\n\nfunction dragEnd() {\n  let $el = $(this);\n  $el.removeClass(\"dragging\");\n  $(\".launchpad\").removeClass(\"dragged-over\");\n  \n  if ($el.data(\"removeOnDragEnd\")) {\n    $el.off(\"dragstart\");\n    $el.off(\"dragend\");\n    $el.removeAttr(\"draggable\");\n  }\n}\n\n\nmodule.exports = class Person {\n  \n  constructor() {\n    this.id = util.uuidv4();\n    \n    let scaledAttrMax = Math.floor(1 + ((maxAttributes - 1) * diffScale()));\n    let max = Math.min(scaledAttrMax, maxAttributes);\n    \n    this.needs   = attributes.random(util.rand(max));\n    this.desires = attributes.random(util.rand(max), this.needs.unused);\n    this.inShip  = false;\n    \n    \n    // Subtract one so that the max is `payoutMin + (payoutMin * (moneyScale-1)) = payoutMin * moneyScale`\n    // rather than `payoutMin + (payoutMin * moneyScale)`\n    let ms = moneyScale - 1;\n    this.payout = payoutMin + util.rand(Math.floor(ms * payoutMin * this.needs.length   / maxAttributes));\n    this.fine   = fineMin   + util.rand(Math.floor(ms * fineMin   * this.needs.length   / maxAttributes));\n    this.bonus  = bonusMin  + util.rand(Math.floor(ms * bonusMin  * this.desires.length / maxAttributes));\n    \n    \n    this.$el = $(\"<div>\", { class: \"person\" });\n  }\n  \n  setupDragging() {\n    let id = this.id;\n    this.$el.on(\"dragstart\", function(e) {\n      dragStart.call(this, e, id);\n    });\n    this.$el.on(\"dragend\", dragEnd);\n    this.$el.attr(\"draggable\", true);\n  }\n  \n  toHTML() {\n    this.$el.empty();\n    \n    \n    /** Needs **/\n    \n    let $needs = $(\"<div>\", {\n      class: \"needs\",\n    });\n    $needs.append($(\"<span>\", { text: \"Needs\" }));\n    let $needsList = $(\"<div>\", { class: \"icon-list\" });\n    for (let req of this.needs) {\n      $needsList.append(attributes.buildElFrom(req));\n    }\n    $needs.append($needsList);\n    \n    let $fine = $(\"<div>\", { class: \"fine\" });\n    $fine.append($(\"<span>\", { text: \"Fine:\"}));\n    let $fineTxt = $(\"<span>\", { class: \"price cost\", text: \"-$\" + (util.prettyPrint(this.fine)) + \"/item\" });\n    if (this.needs.length === 0) {\n      $fine.addClass(\"na\");\n      $fineTxt.text(\"N/A\");\n    }\n    $fine.append($fineTxt);\n    $needs.append($fine);\n    \n    this.$el.append($needs);\n    \n    \n    \n    /** Desires **/\n    \n    let $desires = $(\"<div>\", {\n      class: \"desires\",\n    });\n    $desires.append($(\"<span>\", { text: \"Desires\" }));\n    let $desiresList = $(\"<div>\", { class: \"icon-list\" });\n    for (let des of this.desires) {\n      $desiresList.append(attributes.buildElFrom(des));\n    }\n    $desires.append($desiresList);\n    \n    let $bonus = $(\"<div>\", { class: \"bonus\" });\n    $bonus.append($(\"<span>\", { text: \"Bonus:\"}));\n    let $bonusTxt = $(\"<span>\", { class: \"price earn\", text: \"+$\" + (util.prettyPrint(this.bonus)) + \"/item\" });\n    if (this.desires.length === 0) {\n      $bonus.addClass(\"na\");\n      $bonusTxt.text(\"N/A\");\n    }\n    $bonus.append($bonusTxt);\n    $desires.append($bonus);\n    \n    this.$el.append($desires);\n    \n    \n    \n    /** Face + ticket price **/\n    \n    let $bottom = $(\"<div>\", {\n      class: \"face-and-ticket\",\n    });\n    \n    let $face = $(\"<img>\", {\n      src: \"assets/img/person.png\",\n      alt: \"face\",\n      class: \"icon face\",\n    });\n    $bottom.append($face);\n    \n    let $ticket = $(\"<div>\", {\n      class: \"ticket\"\n    });\n    let $ticketInner = $(\"<span>\", { text: \"Ticket: \" });\n    $ticketInner.append($(\"<span>\", { class: \"price earn\", text: \"+$\" + (util.prettyPrint(this.payout)) }));\n    $ticket.append($ticketInner);\n    $bottom.append($ticket);\n    \n    this.$el.append($bottom);\n    \n    \n    return this.$el;\n  }\n};","\"use strict\";\n\nconst attributes = require(\"../lib/attributes\");\nconst bank = require(\"../section/bank\");\nconst lobby = require(\"../section/lobby\");\nconst score = require(\"../section/score\");\n\nconst maxAttributes = 5;\nconst maxPassengers = 5;\n\n\nfunction dragOver(ev) {\n  let e = ev.originalEvent;\n  if (typeof e.preventDefault === \"function\") {\n    e.preventDefault();\n  }\n  \n  e.dataTransfer.dropEffect = \"move\";\n}\n\nfunction dragEnter() {\n  $(this).addClass(\"dragged-over\");\n}\n\nfunction dragLeave() {\n  $(this).removeClass(\"dragged-over\");\n}\n\n\nmodule.exports = class Person {\n  \n  constructor(pad, redrawPad) {\n    this.attributes = attributes.random(1);\n    this.passengers = [];\n    \n    this._pad = pad;\n    this._redrawPad = redrawPad;\n    \n    this.$el = $(\"<div>\", {\n      class: \"ship\"\n    });\n  }\n  \n  addPassenger(person) {\n    if (this.passengers.length >= maxPassengers) { return false; }\n    this.passengers.push(person);\n    person.inShip = true;\n    bank.earn(person.payout);\n    \n    if (this.passengers.length >= maxPassengers) {\n      console.log(\"Full!\");\n      this.clearDragTarget();\n    }\n    \n    this.redrawCapacity();\n    this.$launchBtn.removeAttr(\"disabled\");\n    \n    return true;\n  }\n  \n  setupDragTarget() {\n    this.$el.on(\"dragover\",  dragOver);\n    this.$el.on(\"dragenter\", dragEnter);\n    this.$el.on(\"dragleave\", dragLeave);\n    \n    let _this = this;\n    this.$el.on(\"drop\", function(ev) {\n      let e = ev.originalEvent;\n      if(e.preventDefault) { e.preventDefault(); }\n      if(e.stopPropagation) { e.stopPropagation(); }\n      \n      $(\".dragged-over\").removeClass(\"dragged-over\");\n      \n      let id = e.dataTransfer.getData(\"text/plain\");\n      let passenger = lobby.get(id);\n      \n      if (!_this.addPassenger(passenger)) {\n        // Can't add passenger, probably full\n        return;\n      }\n      \n      lobby.remove(id);\n      \n      passenger.$el.data(\"removeOnDragEnd\", true);\n      passenger.$el.trigger(\"dragend\");\n      \n      _this.redrawContent();\n    });\n  }\n  \n  clearDragTarget() {\n    console.log(\"Clearing drag targets...\", this.$el);\n    this.$el.off(\"dragover\");\n    this.$el.off(\"dragenter\");\n    this.$el.off(\"dragleave\");\n    this.$el.off(\"drop\");\n  }\n  \n  toHTML() {\n    this.$el.empty();\n    \n    \n    this.$attributes = $(\"<div>\", {class: \"attributes\"});\n    this.redrawAttributes();\n    this.$el.append(this.$attributes);\n    \n    \n    this.$content = $(\"<div>\", {class: \"content\"});\n    this.redrawContent();\n    this.$el.append(this.$content);\n    \n    this.$el.append($(\"<div>\", {class: \"fade down\"}));\n    this.$el.append($(\"<div>\", {class: \"fade up\"}));\n    \n    this.$launchBtn = $(\"<button>\", {class: \"launch\", text: \"Find Planet\"});\n    this.$launchBtn.click(this.launch.bind(this));\n    \n    this.redrawLaunchBtn();\n    \n    this.$el.append(this.$launchBtn);\n    \n    this.$capacity = $(\"<span>\", {class: \"capacity\", text: \"??/??\"});\n    this.$el.append(this.$capacity);\n    this.redrawCapacity();\n    \n    return this.$el;\n  }\n  \n  redrawAttributes(paletteOpen = false) {\n    this.$attributes.empty();\n    \n    this.$attributes.append($(\"<span>\", {class: \"desc\", text: \"Target planet attributes: \"}));\n    \n    let $list = $(\"<div>\", {class: \"attr-list\"});\n    for (let a of this.attributes) {\n      let $container = $(\"<div>\", {class: \"attr-container\"});\n      $container.append(attributes.buildElFrom(a));\n      $list.append($container);\n    }\n    for (var i = 0; i < maxAttributes - this.attributes.length; i++) {\n      $list.append($(\"<div>\", {class: \"attr-container\"}));\n    }\n    this.$attributes.append($list);\n    \n    let $addBtn = $(\"<button>\", {class: \"add\", text: \"Add\"});\n    $addBtn.click(this.displayPalette.bind(this));\n    \n    if (paletteOpen) {\n      this.displayPalette();\n    }\n    \n    this.$attributes.append($addBtn);\n    \n    \n    if (this.$launchBtn != null) {\n      this.redrawLaunchBtn();\n    }\n  }\n  \n  displayPalette() {\n    let _this = this;\n    let $pal = attributes.buildPalette(this.attributes, function(name) {\n      console.log(\"Clicked on attribute\", name);\n      _this.attributes.push(name);\n      _this.redrawAttributes(true);\n    });\n    this.$attributes.append($pal);\n  }\n  \n  redrawCapacity() {\n    this.$capacity.text(this.passengers.length + \"/\" + maxPassengers);\n  }\n  \n  redrawContent() {\n    this.$content.empty();\n    \n    for (let p of this.passengers) {\n      this.$content.append(p.toHTML());\n    }\n    for (var i = 0; i < maxPassengers - this.passengers.length; i++) {\n      this.$content.append($(\"<div>\", {class: \"slot empty\"}));\n    }\n  }\n  \n  redrawLaunchBtn() {\n    if (this.attributes.length < maxAttributes) {\n      this.$launchBtn.text(\"Find Planet\");\n      this.$launchBtn.removeAttr(\"disabled\");\n    } else {\n      this.$launchBtn.text(\"Launch!\");\n      \n      if (this.passengers.length > 0) {\n        this.$launchBtn.removeAttr(\"disabled\");\n      } else {\n        this.$launchBtn.attr(\"disabled\", true);\n      }\n    }\n  }\n  \n  hasAttr(a) {\n    for (let at of this.attributes) {\n      if (at === a) {\n        return true;\n      }\n    }\n    return false;\n  }\n  \n  findPlanet() {\n    let missing = maxAttributes - this.attributes.length;\n    let fromList = attributes.allExcept(this.attributes);\n    let rand = attributes.random(missing, fromList);\n    this.attributes = this.attributes.concat(rand);\n    \n    this.redrawAttributes();\n  }\n  \n  launch() {\n    if (this.attributes.length < maxAttributes) {\n      this.findPlanet();\n      return;\n    }\n    \n    console.log(\"Launching ship!\", this);\n    \n    var bonuses = 0;\n    var fines = 0;\n    \n    for (let p of this.passengers) {\n      for (let d of p.desires) {\n        if (this.hasAttr(d)) {\n          bonuses += p.bonus;\n        }\n      }\n      \n      for (let n of p.needs) {\n        if (!this.hasAttr(n)) {\n          fines += p.fine;\n        }\n      }\n    }\n    \n    // Process bonuses first just in case the fines would put the balance below zero.\n    // For example: say the balance is $300, and we need to process $400 in fines and $700 in bonuses.\n    // If we process the fines first, the balance would go to -$100, and the game would end before the +$700\n    // in bonuses is added.\n    // This way around we only trigger the end-game condition if the final sum is invalid.\n    bank.earn(bonuses);\n    bank.spend(fines);\n    \n    score.save(this.passengers.length);\n    \n    this._pad.ship = null;\n    this._redrawPad();\n  }\n  \n};","\"use strict\";\n\nvar sections = [\n  require(\"./section/bank\"),\n  require(\"./section/launchpads\"),\n  require(\"./section/lobby\"),\n  require(\"./section/score\"),\n  require(\"./section/spaceOnEarth\"),\n];\n\n\nfunction setup() {\n  for (let s of sections) {\n    if (typeof s.setup === \"function\") {\n      s.setup();\n    }\n  }\n}\n\nfunction start() {\n  for (let s of sections) {\n    if (typeof s.start === \"function\") {\n      s.start();\n    }\n  }\n}\n\n\nvar $overlay = $(\"<div>\", {class: \"overlay\"});\nvar $overlayContainer = $(\"<div>\", {class: \"container\"});\n$overlay.append($overlayContainer);\n\n\nmodule.exports = {\n  begin() {\n    $overlayContainer.empty();\n    $overlayContainer.append($(\"<h1>\", {text: \"Spaced Out\"}));\n    $overlayContainer.append($(\"<span>\", {text: \"v\" + (window.game_version || \".dev\")}));\n    let $startBtn = $(\"<button>\", {text: \"Start Game\"});\n    $startBtn.click(function() {\n      $overlay.detach();\n      setup();\n      start();\n    });\n    $overlayContainer.append($startBtn);\n    \n    $(\"body\").append($overlay);\n  },\n  \n  end(reason) {\n    console.log(\"Ending game -- reason: \" + reason);\n    for (let s of sections) {\n      if (typeof s.teardown === \"function\") {\n        s.teardown();\n      }\n    }\n    \n    $overlayContainer.empty();\n    $overlayContainer.append($(\"<h1>\", {text: \"Game Over\"}));\n    let score = require(\"./section/score\").format();\n    $overlayContainer.append($(\"<span>\", {text: \"The Earth has run out of space.\"}));\n    $overlayContainer.append($(\"<span>\", {text: \"But hey, at least you saved \" + score + \".\"}));\n    let $startBtn = $(\"<button>\", {text: \"Retry?\"});\n    $startBtn.click(function() {\n      $overlay.detach();\n      setup();\n      start();\n    });\n    $overlayContainer.append($startBtn);\n    \n    $(\"body\").append($overlay);\n  }\n};","\"use strict\";\n\nconst utils = require(\"./util\");\n\nconst assetBasePath = \"assets/attributes/icons/\";\nconst ext = \".png\";\n\nmodule.exports = {\n  random(count = 5, fromList = null) {\n    var out = [];\n    let tmp = fromList || this.groups;\n    // Make a copy of the array\n    var list = tmp.slice();\n    \n    while (count > 0 && list.length > 0) {\n      let index = utils.rand(list.length - 1);\n      let entry = list[index];\n      let opt = entry.opts[utils.rand(entry.opts.length - 1)];\n      out.push(entry.name + \".\" + opt);\n      list.splice(index, 1);\n      count--;\n    }\n    \n    out.unused = list;\n    return out;\n  },\n  \n  allExcept(list) {\n    // Make a copy of the array\n    console.log(this.groups);\n    var groups = this.groups.slice(this.groups);\n    \n    // Filter out any attrs that are already in the target list\n    for (let a of list) {\n      let parts = a.split(\".\");\n      \n      var i = 0;\n      while (i < groups.length) {\n        if (groups[i].name === parts[0]) {\n          groups.splice(i, 1);\n          continue;\n        }\n        i++;\n      }\n    }\n    console.log(this.groups);\n    return groups;\n  },\n  \n  buildPalette(currentAttrs, onSelect) {\n    let groups = this.allExcept(currentAttrs);\n    \n    let $container = $(\"<div>\", {class: \"attr-select\"});\n    let $groups = $(\"<div>\", {class: \"groups\"});\n    for (let g of groups) {\n      let $group = $(\"<div>\", {class: \"group\"});\n      for (let o of g.opts) {\n        let name = g.name + \".\" + o;\n        let $opt = this.buildElFrom(name);\n        $opt.addClass(\"clickable\");\n        $opt.click(function() {\n          onSelect(name);\n        });\n        $group.append($opt);\n      }\n      $groups.append($group);\n    }\n    $container.append($groups);\n    \n    let $closeBtn = $(\"<button>\", {class: \"close\", text: \"Close\"});\n    $closeBtn.click(function() {\n      $container.remove();\n    });\n    $container.append($closeBtn);\n    \n    \n    return $container;\n  },\n  \n  groups: [\n    {name: \"cats\",        opts: [ \"none\" , \"some\"               ]},\n    {name: \"clouds\",      opts: [ \"none\" , \"low\", \"med\", \"high\" ]},\n    {name: \"desert\",      opts: [ \"none\" , \"some\"               ]},\n    {name: \"grass\",       opts: [ \"none\" , \"low\", \"med\", \"high\" ]},\n    {name: \"moons\",       opts: [ \"none\" , \"one\", \"two\"         ]},\n    // {name: \"rain\",        opts: [ \"none\" , \"some\"               ]}, // missing: none, some\n    {name: \"rings\",       opts: [ \"none\" , \"some\"               ]},\n    {name: \"size\",        opts: [ \"small\", \"large\"              ]},\n    // {name: \"snow\",        opts: [ \"none\" , \"some\"               ]}, // missing: none, some\n    // {name: \"storms\",      opts: [ \"none\" , \"some\"               ]}, // missing: none, some\n    {name: \"temperature\", opts: [ \"cold\" , \"moderate\", \"hot\"    ]},\n    {name: \"trees\",       opts: [ \"none\" , \"some\"               ]},\n  ],\n  \n  buildElFrom(name) {\n    return $(\"<img>\", {\n      src: assetBasePath + name + ext,\n      alt: name,\n      title: name,  // Todo: try to prettify this?\n      class: \"icon attribute\",\n    });\n  },\n  \n};","\"use strict\";\n\nmodule.exports = {\n  rand(min, max) {\n    if (max == null) {\n      max = min;\n      min = 0;\n    }\n    return Math.floor(Math.random() * (max - min + 1) + min);\n  },\n  \n  uuidv4() {\n    return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, c =>\n      (c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16)\n    );\n  },\n  \n  prettyPrint(num) {\n    return num.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n  },\n};","\"use strict\";\n\n$(function() {\n  let start = Date.now();\n  global.runningTime = function() {\n    return Date.now() - start;\n  };\n  \n  require(\"./game\").begin();\n});","\"use strict\";\n\nconst prettyPrint = require(\"../lib/util\").prettyPrint;\n\nconst startingMoney = 100000;\n\n\nvar money = -1;\nlet $bank = $(\"#bank\");\nlet $balance = $(\"#balance\");\nfunction redraw() {\n  $balance.text(\"$\" + prettyPrint(money));\n}\n\nconst timeBetweenFlows = 250;\nvar lastFlow = 0;\nvar queue = [];\nfunction queueCashflow($el) {\n  queue.push($el);\n  \n  if (queue.length === 1) {\n    let timeSinceLastFlow = Date.now() - lastFlow;\n    if (timeSinceLastFlow >= timeBetweenFlows) {\n      animateCashflow(queue.shift());\n    } else {\n      setTimeout(function() {\n        animateCashflow(queue.shift());\n      }, timeBetweenFlows - timeSinceLastFlow);\n    }\n  }\n}\nfunction animateCashflow($el) {\n  lastFlow = Date.now();\n  \n  $bank.append($el);\n  setTimeout(function() {\n    \n    setTimeout(function() {\n      if (queue.length > 0) {\n        animateCashflow(queue.shift());\n      }\n    }, timeBetweenFlows);\n    \n    $el.addClass(\"animate\");\n    setTimeout(function() {\n      $el.remove();\n    }, 1250);\n  }, 50);\n}\n\n\nmodule.exports = {\n  \n  setup() {\n    money = startingMoney;\n    redraw();\n  },\n  \n  canSpend(amt) {\n    let res = money >= amt;\n    if (!res) {\n      $balance.addClass(\"flash\");\n      setTimeout(function() {\n        $balance.removeClass(\"flash\");\n      }, 600);\n    }\n    return res;\n  },\n  \n  spend(cost) {\n    if (cost == 0) { return; }\n    if (cost < 0) {\n      return this.earn(-cost);\n    }\n    money -= cost;\n    if (money < 0) {\n      require(\"../game\").end(\"Out of money!\");\n    }\n    \n    queueCashflow($(\"<span>\", {\n      class: \"cashflow out\",\n      text: \"-$\" + prettyPrint(cost)\n    }));\n    \n    redraw();\n  },\n  \n  earn(amount) {\n    if (amount == 0) { return; }\n    if (amount < 0) {\n      return this.spend(-amount);\n    }\n    \n    queueCashflow($(\"<span>\", {\n      class: \"cashflow in\",\n      text: \"+$\" + prettyPrint(amount)\n    }));\n    \n    money += amount;\n    redraw();\n  },\n};","\"use strict\";\n\nconst Ship = require(\"../class/ship\");\nconst prettyPrint = require(\"../lib/util\").prettyPrint;\nconst bank = require(\"./bank\");\n\n// const buildTimeInSeconds = 5;\n\nconst priceToBuildShip = 5000;\nconst priceToBuyPad = 75000;\n\n\nlet pad1;\nlet pad2;\nlet pad3;\n\n\nmodule.exports = {\n  \n  setup() {\n    pad1 = { ship: null, bought: true,  $el: $(\"#pad1\"), $pad: $(\"#pad1 .pad\") };\n    pad2 = { ship: null, bought: false, $el: $(\"#pad2\"), $pad: $(\"#pad2 .pad\") };\n    pad3 = { ship: null, bought: false, $el: $(\"#pad3\"), $pad: $(\"#pad3 .pad\") };\n  },\n  \n  start() {\n    pad1.ship = new Ship(pad1, this.redraw.bind(this, pad1));\n    \n    this.redraw(pad1);\n    this.redraw(pad2);\n    this.redraw(pad3);\n  },\n  \n  redraw(pad) {\n    pad.$pad.empty();\n    if (pad.ship != null) {\n      pad.$el.removeClass(\"locked empty\");\n      pad.$pad.append(pad.ship.toHTML());\n      pad.ship.setupDragTarget();\n    } else if (pad.bought) {\n      pad.$el.removeClass(\"locked\");\n      pad.$el.addClass(\"empty\");\n      \n      pad.$pad.append($(\"<h2>\", {text: \"Empty\"}));\n      let buildBtn = $(\"<button>\", {class: \"build\", text: \"Build ($\" + prettyPrint(priceToBuildShip) + \")\"});\n      let _this = this;\n      buildBtn.click(function() {\n        if (!bank.canSpend(priceToBuildShip)) {\n          // TODO: Visualize that it failed becaue of money\n          // Maybe flash balance?\n          return;\n        }\n        bank.spend(priceToBuildShip);\n        \n        pad.ship = new Ship(pad, _this.redraw.bind(_this, pad));\n        _this.redraw(pad);\n      });\n      pad.$pad.append(buildBtn);\n    } else {\n      pad.$el.removeClass(\"empty\");\n      pad.$el.addClass(\"locked\");\n      \n      pad.$pad.append($(\"<h2>\", {text: \"Locked\"}));\n      let buyBtn = $(\"<button>\", {class: \"unlock\", text: \"Unlock ($\" + prettyPrint(priceToBuyPad) + \")\"});\n      let _this = this;\n      buyBtn.click(function() {\n        if (!bank.canSpend(priceToBuyPad)) {\n          // TODO: Visualize that it failed becaue of money\n          // Maybe flash balance?\n          return;\n        }\n        bank.spend(priceToBuyPad);\n        \n        pad.bought = true;\n        _this.redraw(pad);\n      });\n      pad.$pad.append(buyBtn);\n    }\n    \n    this.ensureCanBuild();\n  },\n  \n  ensureCanBuild() {\n    if (pad1.ship == null && pad2.ship == null && pad3.ship == null && !bank.canSpend(priceToBuildShip)) {\n      // We have no ships, and not enough money to build another one\n      require(\"../game\").end(\"Out of ships!\");\n    }\n  },\n\n  deliverShip() {\n    $(\".ship\").addClass(\"built\");\n    console.log(\"Ship has been delivered!\");\n  }\n};","\"use strict\";\n\nconst Person = require(\"../class/person\");\n\nconst numberOfPeople = 5;\n\nvar people = {};\n\nlet $lobby = $(\"#lobby .content\");\n\nmodule.exports = {\n  setup() {\n    people = {};\n    $lobby.empty();\n  },\n  \n  start() {\n    for (var i = 0; i < numberOfPeople; i++) {\n      this.addNew();\n    }\n  },\n  \n  teardown() {\n    clearInterval(this._timer);\n  },\n  \n  addNew() {\n    let newPerson = new Person();\n    $lobby.append(newPerson.toHTML());\n    newPerson.setupDragging();\n    people[newPerson.id] = newPerson;\n  },\n  \n  get(id) {\n    return people[id];\n  },\n  \n  remove(id) {\n    let person = people[id];\n    delete people[id];\n    person.$el.detach();\n    \n    // Add a new person to replace the one we just removed\n    this.addNew();\n    \n    return person;\n  },\n  \n  refresh() {\n    $lobby.empty();\n    \n    for (let person of people) {\n      $lobby.append(person.toHTML());\n    }\n  },\n};","\"use strict\";\n\nconst prettyPrint = require(\"../lib/util\").prettyPrint;\nconst soe = require(\"./spaceOnEarth\");\n\n// How many people you have to save to get the hardest difficulty\nconst hardestDifficultyAt = 50;\n\nvar saved = -1;\nlet $saved = $(\"#saved\");\nfunction redraw() {\n  $saved.text(format());\n}\n\nfunction format() {\n  return prettyPrint(saved) + \" \" + (saved === 1 ? \"person\" : \"people\");\n}\n\nmodule.exports = {\n  \n  setup() {\n    saved = 0;\n    redraw();\n  },\n  \n  format: format,\n  \n  save(count) {\n    saved += count;\n    redraw();\n    \n    soe.add(count);\n  },\n  \n  // Starts at '0' (easiest), and goes to '1' (hardest) over the course of the game\n  diffScale() {\n    return Math.min(saved / hardestDifficultyAt, 1);\n  }\n  \n};","\"use strict\";\n\nconst secondsBetweenDecrement = 3;\nconst startingSpace = 100;\n\nvar space = -1;\n\nmodule.exports = {\n  \n  setup() {\n    space = startingSpace;\n  },\n  \n  start() {\n    this.redraw();\n    \n    this._timer = setInterval(this.decrement.bind(this), secondsBetweenDecrement * 1000);\n  },\n  \n  teardown() {\n    clearInterval(this._timer);\n  },\n  \n  decrement() {\n    space--;\n    \n    if (space <= 0) {\n      require(\"../game\").end(\"Out of space!\");\n    }\n    \n    this.redraw();\n  },\n  \n  add(count) {\n    space += count;\n    this.redraw();\n  },\n  \n  redraw() {\n    $(\"#room-left\").text(space);\n  }\n};"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvY2xhc3MvcGVyc29uLmpzIiwic3JjL2NsYXNzL3NoaXAuanMiLCJzcmMvZ2FtZS5qcyIsInNyYy9saWIvYXR0cmlidXRlcy5qcyIsInNyYy9saWIvdXRpbC5qcyIsInNyYy9tYWluLmpzIiwic3JjL3NlY3Rpb24vYmFuay5qcyIsInNyYy9zZWN0aW9uL2xhdW5jaHBhZHMuanMiLCJzcmMvc2VjdGlvbi9sb2JieS5qcyIsInNyYy9zZWN0aW9uL3Njb3JlLmpzIiwic3JjL3NlY3Rpb24vc3BhY2VPbkVhcnRoLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7O0FBRUEsTUFBTSxhQUFhLFFBQVEsbUJBQVIsQ0FBbkI7QUFDQSxNQUFNLE9BQU8sUUFBUSxhQUFSLENBQWI7QUFDQSxNQUFNLFlBQVksUUFBUSxrQkFBUixFQUE0QixTQUE5Qzs7QUFHQSxNQUFNLGdCQUFnQixDQUF0Qjs7QUFFQSxNQUFNLGFBQWEsQ0FBbkI7QUFDQSxNQUFNLFlBQWEsSUFBbkI7QUFDQSxNQUFNLFVBQWEsSUFBbkI7QUFDQSxNQUFNLFdBQWEsSUFBbkI7O0FBR0EsU0FBUyxTQUFULENBQW1CLENBQW5CLEVBQXNCLEVBQXRCLEVBQTBCO0FBQ3hCLElBQUUsSUFBRixFQUFRLFFBQVIsQ0FBaUIsVUFBakI7O0FBRUEsTUFBSSxLQUFLLEVBQUUsYUFBRixDQUFnQixZQUF6QjtBQUNBLEtBQUcsYUFBSCxHQUFtQixNQUFuQjtBQUNBLEtBQUcsT0FBSCxDQUFXLFlBQVgsRUFBeUIsRUFBekI7QUFDRDs7QUFFRCxTQUFTLE9BQVQsR0FBbUI7QUFDakIsTUFBSSxNQUFNLEVBQUUsSUFBRixDQUFWO0FBQ0EsTUFBSSxXQUFKLENBQWdCLFVBQWhCO0FBQ0EsSUFBRSxZQUFGLEVBQWdCLFdBQWhCLENBQTRCLGNBQTVCOztBQUVBLE1BQUksSUFBSSxJQUFKLENBQVMsaUJBQVQsQ0FBSixFQUFpQztBQUMvQixRQUFJLEdBQUosQ0FBUSxXQUFSO0FBQ0EsUUFBSSxHQUFKLENBQVEsU0FBUjtBQUNBLFFBQUksVUFBSixDQUFlLFdBQWY7QUFDRDtBQUNGOztBQUdELE9BQU8sT0FBUCxHQUFpQixNQUFNLE1BQU4sQ0FBYTs7QUFFNUIsZ0JBQWM7QUFDWixTQUFLLEVBQUwsR0FBVSxLQUFLLE1BQUwsRUFBVjs7QUFFQSxRQUFJLGdCQUFnQixLQUFLLEtBQUwsQ0FBVyxJQUFLLENBQUMsZ0JBQWdCLENBQWpCLElBQXNCLFdBQXRDLENBQXBCO0FBQ0EsUUFBSSxNQUFNLEtBQUssR0FBTCxDQUFTLGFBQVQsRUFBd0IsYUFBeEIsQ0FBVjs7QUFFQSxTQUFLLEtBQUwsR0FBZSxXQUFXLE1BQVgsQ0FBa0IsS0FBSyxJQUFMLENBQVUsR0FBVixDQUFsQixDQUFmO0FBQ0EsU0FBSyxPQUFMLEdBQWUsV0FBVyxNQUFYLENBQWtCLEtBQUssSUFBTCxDQUFVLEdBQVYsQ0FBbEIsRUFBa0MsS0FBSyxLQUFMLENBQVcsTUFBN0MsQ0FBZjtBQUNBLFNBQUssTUFBTCxHQUFlLEtBQWY7O0FBR0E7QUFDQTtBQUNBLFFBQUksS0FBSyxhQUFhLENBQXRCO0FBQ0EsU0FBSyxNQUFMLEdBQWMsWUFBWSxLQUFLLElBQUwsQ0FBVSxLQUFLLEtBQUwsQ0FBVyxLQUFLLFNBQUwsR0FBaUIsS0FBSyxLQUFMLENBQVcsTUFBNUIsR0FBdUMsYUFBbEQsQ0FBVixDQUExQjtBQUNBLFNBQUssSUFBTCxHQUFjLFVBQVksS0FBSyxJQUFMLENBQVUsS0FBSyxLQUFMLENBQVcsS0FBSyxPQUFMLEdBQWlCLEtBQUssS0FBTCxDQUFXLE1BQTVCLEdBQXVDLGFBQWxELENBQVYsQ0FBMUI7QUFDQSxTQUFLLEtBQUwsR0FBYyxXQUFZLEtBQUssSUFBTCxDQUFVLEtBQUssS0FBTCxDQUFXLEtBQUssUUFBTCxHQUFpQixLQUFLLE9BQUwsQ0FBYSxNQUE5QixHQUF1QyxhQUFsRCxDQUFWLENBQTFCOztBQUdBLFNBQUssR0FBTCxHQUFXLEVBQUUsT0FBRixFQUFXLEVBQUUsT0FBTyxRQUFULEVBQVgsQ0FBWDtBQUNEOztBQUVELGtCQUFnQjtBQUNkLFFBQUksS0FBSyxLQUFLLEVBQWQ7QUFDQSxTQUFLLEdBQUwsQ0FBUyxFQUFULENBQVksV0FBWixFQUF5QixVQUFTLENBQVQsRUFBWTtBQUNuQyxnQkFBVSxJQUFWLENBQWUsSUFBZixFQUFxQixDQUFyQixFQUF3QixFQUF4QjtBQUNELEtBRkQ7QUFHQSxTQUFLLEdBQUwsQ0FBUyxFQUFULENBQVksU0FBWixFQUF1QixPQUF2QjtBQUNBLFNBQUssR0FBTCxDQUFTLElBQVQsQ0FBYyxXQUFkLEVBQTJCLElBQTNCO0FBQ0Q7O0FBRUQsV0FBUztBQUNQLFNBQUssR0FBTCxDQUFTLEtBQVQ7O0FBR0E7O0FBRUEsUUFBSSxTQUFTLEVBQUUsT0FBRixFQUFXO0FBQ3RCLGFBQU87QUFEZSxLQUFYLENBQWI7QUFHQSxXQUFPLE1BQVAsQ0FBYyxFQUFFLFFBQUYsRUFBWSxFQUFFLE1BQU0sT0FBUixFQUFaLENBQWQ7QUFDQSxRQUFJLGFBQWEsRUFBRSxPQUFGLEVBQVcsRUFBRSxPQUFPLFdBQVQsRUFBWCxDQUFqQjtBQUNBLFNBQUssSUFBSSxHQUFULElBQWdCLEtBQUssS0FBckIsRUFBNEI7QUFDMUIsaUJBQVcsTUFBWCxDQUFrQixXQUFXLFdBQVgsQ0FBdUIsR0FBdkIsQ0FBbEI7QUFDRDtBQUNELFdBQU8sTUFBUCxDQUFjLFVBQWQ7O0FBRUEsUUFBSSxRQUFRLEVBQUUsT0FBRixFQUFXLEVBQUUsT0FBTyxNQUFULEVBQVgsQ0FBWjtBQUNBLFVBQU0sTUFBTixDQUFhLEVBQUUsUUFBRixFQUFZLEVBQUUsTUFBTSxPQUFSLEVBQVosQ0FBYjtBQUNBLFFBQUksV0FBVyxFQUFFLFFBQUYsRUFBWSxFQUFFLE9BQU8sWUFBVCxFQUF1QixNQUFNLE9BQVEsS0FBSyxXQUFMLENBQWlCLEtBQUssSUFBdEIsQ0FBUixHQUF1QyxPQUFwRSxFQUFaLENBQWY7QUFDQSxRQUFJLEtBQUssS0FBTCxDQUFXLE1BQVgsS0FBc0IsQ0FBMUIsRUFBNkI7QUFDM0IsWUFBTSxRQUFOLENBQWUsSUFBZjtBQUNBLGVBQVMsSUFBVCxDQUFjLEtBQWQ7QUFDRDtBQUNELFVBQU0sTUFBTixDQUFhLFFBQWI7QUFDQSxXQUFPLE1BQVAsQ0FBYyxLQUFkOztBQUVBLFNBQUssR0FBTCxDQUFTLE1BQVQsQ0FBZ0IsTUFBaEI7O0FBSUE7O0FBRUEsUUFBSSxXQUFXLEVBQUUsT0FBRixFQUFXO0FBQ3hCLGFBQU87QUFEaUIsS0FBWCxDQUFmO0FBR0EsYUFBUyxNQUFULENBQWdCLEVBQUUsUUFBRixFQUFZLEVBQUUsTUFBTSxTQUFSLEVBQVosQ0FBaEI7QUFDQSxRQUFJLGVBQWUsRUFBRSxPQUFGLEVBQVcsRUFBRSxPQUFPLFdBQVQsRUFBWCxDQUFuQjtBQUNBLFNBQUssSUFBSSxHQUFULElBQWdCLEtBQUssT0FBckIsRUFBOEI7QUFDNUIsbUJBQWEsTUFBYixDQUFvQixXQUFXLFdBQVgsQ0FBdUIsR0FBdkIsQ0FBcEI7QUFDRDtBQUNELGFBQVMsTUFBVCxDQUFnQixZQUFoQjs7QUFFQSxRQUFJLFNBQVMsRUFBRSxPQUFGLEVBQVcsRUFBRSxPQUFPLE9BQVQsRUFBWCxDQUFiO0FBQ0EsV0FBTyxNQUFQLENBQWMsRUFBRSxRQUFGLEVBQVksRUFBRSxNQUFNLFFBQVIsRUFBWixDQUFkO0FBQ0EsUUFBSSxZQUFZLEVBQUUsUUFBRixFQUFZLEVBQUUsT0FBTyxZQUFULEVBQXVCLE1BQU0sT0FBUSxLQUFLLFdBQUwsQ0FBaUIsS0FBSyxLQUF0QixDQUFSLEdBQXdDLE9BQXJFLEVBQVosQ0FBaEI7QUFDQSxRQUFJLEtBQUssT0FBTCxDQUFhLE1BQWIsS0FBd0IsQ0FBNUIsRUFBK0I7QUFDN0IsYUFBTyxRQUFQLENBQWdCLElBQWhCO0FBQ0EsZ0JBQVUsSUFBVixDQUFlLEtBQWY7QUFDRDtBQUNELFdBQU8sTUFBUCxDQUFjLFNBQWQ7QUFDQSxhQUFTLE1BQVQsQ0FBZ0IsTUFBaEI7O0FBRUEsU0FBSyxHQUFMLENBQVMsTUFBVCxDQUFnQixRQUFoQjs7QUFJQTs7QUFFQSxRQUFJLFVBQVUsRUFBRSxPQUFGLEVBQVc7QUFDdkIsYUFBTztBQURnQixLQUFYLENBQWQ7O0FBSUEsUUFBSSxRQUFRLEVBQUUsT0FBRixFQUFXO0FBQ3JCLFdBQUssdUJBRGdCO0FBRXJCLFdBQUssTUFGZ0I7QUFHckIsYUFBTztBQUhjLEtBQVgsQ0FBWjtBQUtBLFlBQVEsTUFBUixDQUFlLEtBQWY7O0FBRUEsUUFBSSxVQUFVLEVBQUUsT0FBRixFQUFXO0FBQ3ZCLGFBQU87QUFEZ0IsS0FBWCxDQUFkO0FBR0EsUUFBSSxlQUFlLEVBQUUsUUFBRixFQUFZLEVBQUUsTUFBTSxVQUFSLEVBQVosQ0FBbkI7QUFDQSxpQkFBYSxNQUFiLENBQW9CLEVBQUUsUUFBRixFQUFZLEVBQUUsT0FBTyxZQUFULEVBQXVCLE1BQU0sT0FBUSxLQUFLLFdBQUwsQ0FBaUIsS0FBSyxNQUF0QixDQUFyQyxFQUFaLENBQXBCO0FBQ0EsWUFBUSxNQUFSLENBQWUsWUFBZjtBQUNBLFlBQVEsTUFBUixDQUFlLE9BQWY7O0FBRUEsU0FBSyxHQUFMLENBQVMsTUFBVCxDQUFnQixPQUFoQjs7QUFHQSxXQUFPLEtBQUssR0FBWjtBQUNEO0FBbEgyQixDQUE5Qjs7O0FDcENBOztBQUVBLE1BQU0sYUFBYSxRQUFRLG1CQUFSLENBQW5CO0FBQ0EsTUFBTSxPQUFPLFFBQVEsaUJBQVIsQ0FBYjtBQUNBLE1BQU0sUUFBUSxRQUFRLGtCQUFSLENBQWQ7QUFDQSxNQUFNLFFBQVEsUUFBUSxrQkFBUixDQUFkOztBQUVBLE1BQU0sZ0JBQWdCLENBQXRCO0FBQ0EsTUFBTSxnQkFBZ0IsQ0FBdEI7O0FBR0EsU0FBUyxRQUFULENBQWtCLEVBQWxCLEVBQXNCO0FBQ3BCLE1BQUksSUFBSSxHQUFHLGFBQVg7QUFDQSxNQUFJLE9BQU8sRUFBRSxjQUFULEtBQTRCLFVBQWhDLEVBQTRDO0FBQzFDLE1BQUUsY0FBRjtBQUNEOztBQUVELElBQUUsWUFBRixDQUFlLFVBQWYsR0FBNEIsTUFBNUI7QUFDRDs7QUFFRCxTQUFTLFNBQVQsR0FBcUI7QUFDbkIsSUFBRSxJQUFGLEVBQVEsUUFBUixDQUFpQixjQUFqQjtBQUNEOztBQUVELFNBQVMsU0FBVCxHQUFxQjtBQUNuQixJQUFFLElBQUYsRUFBUSxXQUFSLENBQW9CLGNBQXBCO0FBQ0Q7O0FBR0QsT0FBTyxPQUFQLEdBQWlCLE1BQU0sTUFBTixDQUFhOztBQUU1QixjQUFZLEdBQVosRUFBaUIsU0FBakIsRUFBNEI7QUFDMUIsU0FBSyxVQUFMLEdBQWtCLFdBQVcsTUFBWCxDQUFrQixDQUFsQixDQUFsQjtBQUNBLFNBQUssVUFBTCxHQUFrQixFQUFsQjs7QUFFQSxTQUFLLElBQUwsR0FBWSxHQUFaO0FBQ0EsU0FBSyxVQUFMLEdBQWtCLFNBQWxCOztBQUVBLFNBQUssR0FBTCxHQUFXLEVBQUUsT0FBRixFQUFXO0FBQ3BCLGFBQU87QUFEYSxLQUFYLENBQVg7QUFHRDs7QUFFRCxlQUFhLE1BQWIsRUFBcUI7QUFDbkIsUUFBSSxLQUFLLFVBQUwsQ0FBZ0IsTUFBaEIsSUFBMEIsYUFBOUIsRUFBNkM7QUFBRSxhQUFPLEtBQVA7QUFBZTtBQUM5RCxTQUFLLFVBQUwsQ0FBZ0IsSUFBaEIsQ0FBcUIsTUFBckI7QUFDQSxXQUFPLE1BQVAsR0FBZ0IsSUFBaEI7QUFDQSxTQUFLLElBQUwsQ0FBVSxPQUFPLE1BQWpCOztBQUVBLFFBQUksS0FBSyxVQUFMLENBQWdCLE1BQWhCLElBQTBCLGFBQTlCLEVBQTZDO0FBQzNDLGNBQVEsR0FBUixDQUFZLE9BQVo7QUFDQSxXQUFLLGVBQUw7QUFDRDs7QUFFRCxTQUFLLGNBQUw7QUFDQSxTQUFLLFVBQUwsQ0FBZ0IsVUFBaEIsQ0FBMkIsVUFBM0I7O0FBRUEsV0FBTyxJQUFQO0FBQ0Q7O0FBRUQsb0JBQWtCO0FBQ2hCLFNBQUssR0FBTCxDQUFTLEVBQVQsQ0FBWSxVQUFaLEVBQXlCLFFBQXpCO0FBQ0EsU0FBSyxHQUFMLENBQVMsRUFBVCxDQUFZLFdBQVosRUFBeUIsU0FBekI7QUFDQSxTQUFLLEdBQUwsQ0FBUyxFQUFULENBQVksV0FBWixFQUF5QixTQUF6Qjs7QUFFQSxRQUFJLFFBQVEsSUFBWjtBQUNBLFNBQUssR0FBTCxDQUFTLEVBQVQsQ0FBWSxNQUFaLEVBQW9CLFVBQVMsRUFBVCxFQUFhO0FBQy9CLFVBQUksSUFBSSxHQUFHLGFBQVg7QUFDQSxVQUFHLEVBQUUsY0FBTCxFQUFxQjtBQUFFLFVBQUUsY0FBRjtBQUFxQjtBQUM1QyxVQUFHLEVBQUUsZUFBTCxFQUFzQjtBQUFFLFVBQUUsZUFBRjtBQUFzQjs7QUFFOUMsUUFBRSxlQUFGLEVBQW1CLFdBQW5CLENBQStCLGNBQS9COztBQUVBLFVBQUksS0FBSyxFQUFFLFlBQUYsQ0FBZSxPQUFmLENBQXVCLFlBQXZCLENBQVQ7QUFDQSxVQUFJLFlBQVksTUFBTSxHQUFOLENBQVUsRUFBVixDQUFoQjs7QUFFQSxVQUFJLENBQUMsTUFBTSxZQUFOLENBQW1CLFNBQW5CLENBQUwsRUFBb0M7QUFDbEM7QUFDQTtBQUNEOztBQUVELFlBQU0sTUFBTixDQUFhLEVBQWI7O0FBRUEsZ0JBQVUsR0FBVixDQUFjLElBQWQsQ0FBbUIsaUJBQW5CLEVBQXNDLElBQXRDO0FBQ0EsZ0JBQVUsR0FBVixDQUFjLE9BQWQsQ0FBc0IsU0FBdEI7O0FBRUEsWUFBTSxhQUFOO0FBQ0QsS0FyQkQ7QUFzQkQ7O0FBRUQsb0JBQWtCO0FBQ2hCLFlBQVEsR0FBUixDQUFZLDBCQUFaLEVBQXdDLEtBQUssR0FBN0M7QUFDQSxTQUFLLEdBQUwsQ0FBUyxHQUFULENBQWEsVUFBYjtBQUNBLFNBQUssR0FBTCxDQUFTLEdBQVQsQ0FBYSxXQUFiO0FBQ0EsU0FBSyxHQUFMLENBQVMsR0FBVCxDQUFhLFdBQWI7QUFDQSxTQUFLLEdBQUwsQ0FBUyxHQUFULENBQWEsTUFBYjtBQUNEOztBQUVELFdBQVM7QUFDUCxTQUFLLEdBQUwsQ0FBUyxLQUFUOztBQUdBLFNBQUssV0FBTCxHQUFtQixFQUFFLE9BQUYsRUFBVyxFQUFDLE9BQU8sWUFBUixFQUFYLENBQW5CO0FBQ0EsU0FBSyxnQkFBTDtBQUNBLFNBQUssR0FBTCxDQUFTLE1BQVQsQ0FBZ0IsS0FBSyxXQUFyQjs7QUFHQSxTQUFLLFFBQUwsR0FBZ0IsRUFBRSxPQUFGLEVBQVcsRUFBQyxPQUFPLFNBQVIsRUFBWCxDQUFoQjtBQUNBLFNBQUssYUFBTDtBQUNBLFNBQUssR0FBTCxDQUFTLE1BQVQsQ0FBZ0IsS0FBSyxRQUFyQjs7QUFFQSxTQUFLLEdBQUwsQ0FBUyxNQUFULENBQWdCLEVBQUUsT0FBRixFQUFXLEVBQUMsT0FBTyxXQUFSLEVBQVgsQ0FBaEI7QUFDQSxTQUFLLEdBQUwsQ0FBUyxNQUFULENBQWdCLEVBQUUsT0FBRixFQUFXLEVBQUMsT0FBTyxTQUFSLEVBQVgsQ0FBaEI7O0FBRUEsU0FBSyxVQUFMLEdBQWtCLEVBQUUsVUFBRixFQUFjLEVBQUMsT0FBTyxRQUFSLEVBQWtCLE1BQU0sYUFBeEIsRUFBZCxDQUFsQjtBQUNBLFNBQUssVUFBTCxDQUFnQixLQUFoQixDQUFzQixLQUFLLE1BQUwsQ0FBWSxJQUFaLENBQWlCLElBQWpCLENBQXRCOztBQUVBLFNBQUssZUFBTDs7QUFFQSxTQUFLLEdBQUwsQ0FBUyxNQUFULENBQWdCLEtBQUssVUFBckI7O0FBRUEsU0FBSyxTQUFMLEdBQWlCLEVBQUUsUUFBRixFQUFZLEVBQUMsT0FBTyxVQUFSLEVBQW9CLE1BQU0sT0FBMUIsRUFBWixDQUFqQjtBQUNBLFNBQUssR0FBTCxDQUFTLE1BQVQsQ0FBZ0IsS0FBSyxTQUFyQjtBQUNBLFNBQUssY0FBTDs7QUFFQSxXQUFPLEtBQUssR0FBWjtBQUNEOztBQUVELG1CQUFpQixjQUFjLEtBQS9CLEVBQXNDO0FBQ3BDLFNBQUssV0FBTCxDQUFpQixLQUFqQjs7QUFFQSxTQUFLLFdBQUwsQ0FBaUIsTUFBakIsQ0FBd0IsRUFBRSxRQUFGLEVBQVksRUFBQyxPQUFPLE1BQVIsRUFBZ0IsTUFBTSw0QkFBdEIsRUFBWixDQUF4Qjs7QUFFQSxRQUFJLFFBQVEsRUFBRSxPQUFGLEVBQVcsRUFBQyxPQUFPLFdBQVIsRUFBWCxDQUFaO0FBQ0EsU0FBSyxJQUFJLENBQVQsSUFBYyxLQUFLLFVBQW5CLEVBQStCO0FBQzdCLFVBQUksYUFBYSxFQUFFLE9BQUYsRUFBVyxFQUFDLE9BQU8sZ0JBQVIsRUFBWCxDQUFqQjtBQUNBLGlCQUFXLE1BQVgsQ0FBa0IsV0FBVyxXQUFYLENBQXVCLENBQXZCLENBQWxCO0FBQ0EsWUFBTSxNQUFOLENBQWEsVUFBYjtBQUNEO0FBQ0QsU0FBSyxJQUFJLElBQUksQ0FBYixFQUFnQixJQUFJLGdCQUFnQixLQUFLLFVBQUwsQ0FBZ0IsTUFBcEQsRUFBNEQsR0FBNUQsRUFBaUU7QUFDL0QsWUFBTSxNQUFOLENBQWEsRUFBRSxPQUFGLEVBQVcsRUFBQyxPQUFPLGdCQUFSLEVBQVgsQ0FBYjtBQUNEO0FBQ0QsU0FBSyxXQUFMLENBQWlCLE1BQWpCLENBQXdCLEtBQXhCOztBQUVBLFFBQUksVUFBVSxFQUFFLFVBQUYsRUFBYyxFQUFDLE9BQU8sS0FBUixFQUFlLE1BQU0sS0FBckIsRUFBZCxDQUFkO0FBQ0EsWUFBUSxLQUFSLENBQWMsS0FBSyxjQUFMLENBQW9CLElBQXBCLENBQXlCLElBQXpCLENBQWQ7O0FBRUEsUUFBSSxXQUFKLEVBQWlCO0FBQ2YsV0FBSyxjQUFMO0FBQ0Q7O0FBRUQsU0FBSyxXQUFMLENBQWlCLE1BQWpCLENBQXdCLE9BQXhCOztBQUdBLFFBQUksS0FBSyxVQUFMLElBQW1CLElBQXZCLEVBQTZCO0FBQzNCLFdBQUssZUFBTDtBQUNEO0FBQ0Y7O0FBRUQsbUJBQWlCO0FBQ2YsUUFBSSxRQUFRLElBQVo7QUFDQSxRQUFJLE9BQU8sV0FBVyxZQUFYLENBQXdCLEtBQUssVUFBN0IsRUFBeUMsVUFBUyxJQUFULEVBQWU7QUFDakUsY0FBUSxHQUFSLENBQVksc0JBQVosRUFBb0MsSUFBcEM7QUFDQSxZQUFNLFVBQU4sQ0FBaUIsSUFBakIsQ0FBc0IsSUFBdEI7QUFDQSxZQUFNLGdCQUFOLENBQXVCLElBQXZCO0FBQ0QsS0FKVSxDQUFYO0FBS0EsU0FBSyxXQUFMLENBQWlCLE1BQWpCLENBQXdCLElBQXhCO0FBQ0Q7O0FBRUQsbUJBQWlCO0FBQ2YsU0FBSyxTQUFMLENBQWUsSUFBZixDQUFvQixLQUFLLFVBQUwsQ0FBZ0IsTUFBaEIsR0FBeUIsR0FBekIsR0FBK0IsYUFBbkQ7QUFDRDs7QUFFRCxrQkFBZ0I7QUFDZCxTQUFLLFFBQUwsQ0FBYyxLQUFkOztBQUVBLFNBQUssSUFBSSxDQUFULElBQWMsS0FBSyxVQUFuQixFQUErQjtBQUM3QixXQUFLLFFBQUwsQ0FBYyxNQUFkLENBQXFCLEVBQUUsTUFBRixFQUFyQjtBQUNEO0FBQ0QsU0FBSyxJQUFJLElBQUksQ0FBYixFQUFnQixJQUFJLGdCQUFnQixLQUFLLFVBQUwsQ0FBZ0IsTUFBcEQsRUFBNEQsR0FBNUQsRUFBaUU7QUFDL0QsV0FBSyxRQUFMLENBQWMsTUFBZCxDQUFxQixFQUFFLE9BQUYsRUFBVyxFQUFDLE9BQU8sWUFBUixFQUFYLENBQXJCO0FBQ0Q7QUFDRjs7QUFFRCxvQkFBa0I7QUFDaEIsUUFBSSxLQUFLLFVBQUwsQ0FBZ0IsTUFBaEIsR0FBeUIsYUFBN0IsRUFBNEM7QUFDMUMsV0FBSyxVQUFMLENBQWdCLElBQWhCLENBQXFCLGFBQXJCO0FBQ0EsV0FBSyxVQUFMLENBQWdCLFVBQWhCLENBQTJCLFVBQTNCO0FBQ0QsS0FIRCxNQUdPO0FBQ0wsV0FBSyxVQUFMLENBQWdCLElBQWhCLENBQXFCLFNBQXJCOztBQUVBLFVBQUksS0FBSyxVQUFMLENBQWdCLE1BQWhCLEdBQXlCLENBQTdCLEVBQWdDO0FBQzlCLGFBQUssVUFBTCxDQUFnQixVQUFoQixDQUEyQixVQUEzQjtBQUNELE9BRkQsTUFFTztBQUNMLGFBQUssVUFBTCxDQUFnQixJQUFoQixDQUFxQixVQUFyQixFQUFpQyxJQUFqQztBQUNEO0FBQ0Y7QUFDRjs7QUFFRCxVQUFRLENBQVIsRUFBVztBQUNULFNBQUssSUFBSSxFQUFULElBQWUsS0FBSyxVQUFwQixFQUFnQztBQUM5QixVQUFJLE9BQU8sQ0FBWCxFQUFjO0FBQ1osZUFBTyxJQUFQO0FBQ0Q7QUFDRjtBQUNELFdBQU8sS0FBUDtBQUNEOztBQUVELGVBQWE7QUFDWCxRQUFJLFVBQVUsZ0JBQWdCLEtBQUssVUFBTCxDQUFnQixNQUE5QztBQUNBLFFBQUksV0FBVyxXQUFXLFNBQVgsQ0FBcUIsS0FBSyxVQUExQixDQUFmO0FBQ0EsUUFBSSxPQUFPLFdBQVcsTUFBWCxDQUFrQixPQUFsQixFQUEyQixRQUEzQixDQUFYO0FBQ0EsU0FBSyxVQUFMLEdBQWtCLEtBQUssVUFBTCxDQUFnQixNQUFoQixDQUF1QixJQUF2QixDQUFsQjs7QUFFQSxTQUFLLGdCQUFMO0FBQ0Q7O0FBRUQsV0FBUztBQUNQLFFBQUksS0FBSyxVQUFMLENBQWdCLE1BQWhCLEdBQXlCLGFBQTdCLEVBQTRDO0FBQzFDLFdBQUssVUFBTDtBQUNBO0FBQ0Q7O0FBRUQsWUFBUSxHQUFSLENBQVksaUJBQVosRUFBK0IsSUFBL0I7O0FBRUEsUUFBSSxVQUFVLENBQWQ7QUFDQSxRQUFJLFFBQVEsQ0FBWjs7QUFFQSxTQUFLLElBQUksQ0FBVCxJQUFjLEtBQUssVUFBbkIsRUFBK0I7QUFDN0IsV0FBSyxJQUFJLENBQVQsSUFBYyxFQUFFLE9BQWhCLEVBQXlCO0FBQ3ZCLFlBQUksS0FBSyxPQUFMLENBQWEsQ0FBYixDQUFKLEVBQXFCO0FBQ25CLHFCQUFXLEVBQUUsS0FBYjtBQUNEO0FBQ0Y7O0FBRUQsV0FBSyxJQUFJLENBQVQsSUFBYyxFQUFFLEtBQWhCLEVBQXVCO0FBQ3JCLFlBQUksQ0FBQyxLQUFLLE9BQUwsQ0FBYSxDQUFiLENBQUwsRUFBc0I7QUFDcEIsbUJBQVMsRUFBRSxJQUFYO0FBQ0Q7QUFDRjtBQUNGOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFLLElBQUwsQ0FBVSxPQUFWO0FBQ0EsU0FBSyxLQUFMLENBQVcsS0FBWDs7QUFFQSxVQUFNLElBQU4sQ0FBVyxLQUFLLFVBQUwsQ0FBZ0IsTUFBM0I7O0FBRUEsU0FBSyxJQUFMLENBQVUsSUFBVixHQUFpQixJQUFqQjtBQUNBLFNBQUssVUFBTDtBQUNEOztBQWpPMkIsQ0FBOUI7OztBQzdCQTs7QUFFQSxJQUFJLFdBQVcsQ0FDYixRQUFRLGdCQUFSLENBRGEsRUFFYixRQUFRLHNCQUFSLENBRmEsRUFHYixRQUFRLGlCQUFSLENBSGEsRUFJYixRQUFRLGlCQUFSLENBSmEsRUFLYixRQUFRLHdCQUFSLENBTGEsQ0FBZjs7QUFTQSxTQUFTLEtBQVQsR0FBaUI7QUFDZixPQUFLLElBQUksQ0FBVCxJQUFjLFFBQWQsRUFBd0I7QUFDdEIsUUFBSSxPQUFPLEVBQUUsS0FBVCxLQUFtQixVQUF2QixFQUFtQztBQUNqQyxRQUFFLEtBQUY7QUFDRDtBQUNGO0FBQ0Y7O0FBRUQsU0FBUyxLQUFULEdBQWlCO0FBQ2YsT0FBSyxJQUFJLENBQVQsSUFBYyxRQUFkLEVBQXdCO0FBQ3RCLFFBQUksT0FBTyxFQUFFLEtBQVQsS0FBbUIsVUFBdkIsRUFBbUM7QUFDakMsUUFBRSxLQUFGO0FBQ0Q7QUFDRjtBQUNGOztBQUdELElBQUksV0FBVyxFQUFFLE9BQUYsRUFBVyxFQUFDLE9BQU8sU0FBUixFQUFYLENBQWY7QUFDQSxJQUFJLG9CQUFvQixFQUFFLE9BQUYsRUFBVyxFQUFDLE9BQU8sV0FBUixFQUFYLENBQXhCO0FBQ0EsU0FBUyxNQUFULENBQWdCLGlCQUFoQjs7QUFHQSxPQUFPLE9BQVAsR0FBaUI7QUFDZixVQUFRO0FBQ04sc0JBQWtCLEtBQWxCO0FBQ0Esc0JBQWtCLE1BQWxCLENBQXlCLEVBQUUsTUFBRixFQUFVLEVBQUMsTUFBTSxZQUFQLEVBQVYsQ0FBekI7QUFDQSxzQkFBa0IsTUFBbEIsQ0FBeUIsRUFBRSxRQUFGLEVBQVksRUFBQyxNQUFNLE9BQU8sT0FBTyxZQUFQLElBQXVCLE1BQTlCLENBQVAsRUFBWixDQUF6QjtBQUNBLFFBQUksWUFBWSxFQUFFLFVBQUYsRUFBYyxFQUFDLE1BQU0sWUFBUCxFQUFkLENBQWhCO0FBQ0EsY0FBVSxLQUFWLENBQWdCLFlBQVc7QUFDekIsZUFBUyxNQUFUO0FBQ0E7QUFDQTtBQUNELEtBSkQ7QUFLQSxzQkFBa0IsTUFBbEIsQ0FBeUIsU0FBekI7O0FBRUEsTUFBRSxNQUFGLEVBQVUsTUFBVixDQUFpQixRQUFqQjtBQUNELEdBZGM7O0FBZ0JmLE1BQUksTUFBSixFQUFZO0FBQ1YsWUFBUSxHQUFSLENBQVksNEJBQTRCLE1BQXhDO0FBQ0EsU0FBSyxJQUFJLENBQVQsSUFBYyxRQUFkLEVBQXdCO0FBQ3RCLFVBQUksT0FBTyxFQUFFLFFBQVQsS0FBc0IsVUFBMUIsRUFBc0M7QUFDcEMsVUFBRSxRQUFGO0FBQ0Q7QUFDRjs7QUFFRCxzQkFBa0IsS0FBbEI7QUFDQSxzQkFBa0IsTUFBbEIsQ0FBeUIsRUFBRSxNQUFGLEVBQVUsRUFBQyxNQUFNLFdBQVAsRUFBVixDQUF6QjtBQUNBLFFBQUksUUFBUSxRQUFRLGlCQUFSLEVBQTJCLE1BQTNCLEVBQVo7QUFDQSxzQkFBa0IsTUFBbEIsQ0FBeUIsRUFBRSxRQUFGLEVBQVksRUFBQyxNQUFNLGlDQUFQLEVBQVosQ0FBekI7QUFDQSxzQkFBa0IsTUFBbEIsQ0FBeUIsRUFBRSxRQUFGLEVBQVksRUFBQyxNQUFNLGlDQUFpQyxLQUFqQyxHQUF5QyxHQUFoRCxFQUFaLENBQXpCO0FBQ0EsUUFBSSxZQUFZLEVBQUUsVUFBRixFQUFjLEVBQUMsTUFBTSxRQUFQLEVBQWQsQ0FBaEI7QUFDQSxjQUFVLEtBQVYsQ0FBZ0IsWUFBVztBQUN6QixlQUFTLE1BQVQ7QUFDQTtBQUNBO0FBQ0QsS0FKRDtBQUtBLHNCQUFrQixNQUFsQixDQUF5QixTQUF6Qjs7QUFFQSxNQUFFLE1BQUYsRUFBVSxNQUFWLENBQWlCLFFBQWpCO0FBQ0Q7QUF0Q2MsQ0FBakI7OztBQ2pDQTs7QUFFQSxNQUFNLFFBQVEsUUFBUSxRQUFSLENBQWQ7O0FBRUEsTUFBTSxnQkFBZ0IsMEJBQXRCO0FBQ0EsTUFBTSxNQUFNLE1BQVo7O0FBRUEsT0FBTyxPQUFQLEdBQWlCO0FBQ2YsU0FBTyxRQUFRLENBQWYsRUFBa0IsV0FBVyxJQUE3QixFQUFtQztBQUNqQyxRQUFJLE1BQU0sRUFBVjtBQUNBLFFBQUksTUFBTSxZQUFZLEtBQUssTUFBM0I7QUFDQTtBQUNBLFFBQUksT0FBTyxJQUFJLEtBQUosRUFBWDs7QUFFQSxXQUFPLFFBQVEsQ0FBUixJQUFhLEtBQUssTUFBTCxHQUFjLENBQWxDLEVBQXFDO0FBQ25DLFVBQUksUUFBUSxNQUFNLElBQU4sQ0FBVyxLQUFLLE1BQUwsR0FBYyxDQUF6QixDQUFaO0FBQ0EsVUFBSSxRQUFRLEtBQUssS0FBTCxDQUFaO0FBQ0EsVUFBSSxNQUFNLE1BQU0sSUFBTixDQUFXLE1BQU0sSUFBTixDQUFXLE1BQU0sSUFBTixDQUFXLE1BQVgsR0FBb0IsQ0FBL0IsQ0FBWCxDQUFWO0FBQ0EsVUFBSSxJQUFKLENBQVMsTUFBTSxJQUFOLEdBQWEsR0FBYixHQUFtQixHQUE1QjtBQUNBLFdBQUssTUFBTCxDQUFZLEtBQVosRUFBbUIsQ0FBbkI7QUFDQTtBQUNEOztBQUVELFFBQUksTUFBSixHQUFhLElBQWI7QUFDQSxXQUFPLEdBQVA7QUFDRCxHQWxCYzs7QUFvQmYsWUFBVSxJQUFWLEVBQWdCO0FBQ2Q7QUFDQSxZQUFRLEdBQVIsQ0FBWSxLQUFLLE1BQWpCO0FBQ0EsUUFBSSxTQUFTLEtBQUssTUFBTCxDQUFZLEtBQVosQ0FBa0IsS0FBSyxNQUF2QixDQUFiOztBQUVBO0FBQ0EsU0FBSyxJQUFJLENBQVQsSUFBYyxJQUFkLEVBQW9CO0FBQ2xCLFVBQUksUUFBUSxFQUFFLEtBQUYsQ0FBUSxHQUFSLENBQVo7O0FBRUEsVUFBSSxJQUFJLENBQVI7QUFDQSxhQUFPLElBQUksT0FBTyxNQUFsQixFQUEwQjtBQUN4QixZQUFJLE9BQU8sQ0FBUCxFQUFVLElBQVYsS0FBbUIsTUFBTSxDQUFOLENBQXZCLEVBQWlDO0FBQy9CLGlCQUFPLE1BQVAsQ0FBYyxDQUFkLEVBQWlCLENBQWpCO0FBQ0E7QUFDRDtBQUNEO0FBQ0Q7QUFDRjtBQUNELFlBQVEsR0FBUixDQUFZLEtBQUssTUFBakI7QUFDQSxXQUFPLE1BQVA7QUFDRCxHQXhDYzs7QUEwQ2YsZUFBYSxZQUFiLEVBQTJCLFFBQTNCLEVBQXFDO0FBQ25DLFFBQUksU0FBUyxLQUFLLFNBQUwsQ0FBZSxZQUFmLENBQWI7O0FBRUEsUUFBSSxhQUFhLEVBQUUsT0FBRixFQUFXLEVBQUMsT0FBTyxhQUFSLEVBQVgsQ0FBakI7QUFDQSxRQUFJLFVBQVUsRUFBRSxPQUFGLEVBQVcsRUFBQyxPQUFPLFFBQVIsRUFBWCxDQUFkO0FBQ0EsU0FBSyxJQUFJLENBQVQsSUFBYyxNQUFkLEVBQXNCO0FBQ3BCLFVBQUksU0FBUyxFQUFFLE9BQUYsRUFBVyxFQUFDLE9BQU8sT0FBUixFQUFYLENBQWI7QUFDQSxXQUFLLElBQUksQ0FBVCxJQUFjLEVBQUUsSUFBaEIsRUFBc0I7QUFDcEIsWUFBSSxPQUFPLEVBQUUsSUFBRixHQUFTLEdBQVQsR0FBZSxDQUExQjtBQUNBLFlBQUksT0FBTyxLQUFLLFdBQUwsQ0FBaUIsSUFBakIsQ0FBWDtBQUNBLGFBQUssUUFBTCxDQUFjLFdBQWQ7QUFDQSxhQUFLLEtBQUwsQ0FBVyxZQUFXO0FBQ3BCLG1CQUFTLElBQVQ7QUFDRCxTQUZEO0FBR0EsZUFBTyxNQUFQLENBQWMsSUFBZDtBQUNEO0FBQ0QsY0FBUSxNQUFSLENBQWUsTUFBZjtBQUNEO0FBQ0QsZUFBVyxNQUFYLENBQWtCLE9BQWxCOztBQUVBLFFBQUksWUFBWSxFQUFFLFVBQUYsRUFBYyxFQUFDLE9BQU8sT0FBUixFQUFpQixNQUFNLE9BQXZCLEVBQWQsQ0FBaEI7QUFDQSxjQUFVLEtBQVYsQ0FBZ0IsWUFBVztBQUN6QixpQkFBVyxNQUFYO0FBQ0QsS0FGRDtBQUdBLGVBQVcsTUFBWCxDQUFrQixTQUFsQjs7QUFHQSxXQUFPLFVBQVA7QUFDRCxHQXRFYzs7QUF3RWYsVUFBUSxDQUNOLEVBQUMsTUFBTSxNQUFQLEVBQXNCLE1BQU0sQ0FBRSxNQUFGLEVBQVcsTUFBWCxDQUE1QixFQURNLEVBRU4sRUFBQyxNQUFNLFFBQVAsRUFBc0IsTUFBTSxDQUFFLE1BQUYsRUFBVyxLQUFYLEVBQWtCLEtBQWxCLEVBQXlCLE1BQXpCLENBQTVCLEVBRk0sRUFHTixFQUFDLE1BQU0sUUFBUCxFQUFzQixNQUFNLENBQUUsTUFBRixFQUFXLE1BQVgsQ0FBNUIsRUFITSxFQUlOLEVBQUMsTUFBTSxPQUFQLEVBQXNCLE1BQU0sQ0FBRSxNQUFGLEVBQVcsS0FBWCxFQUFrQixLQUFsQixFQUF5QixNQUF6QixDQUE1QixFQUpNLEVBS04sRUFBQyxNQUFNLE9BQVAsRUFBc0IsTUFBTSxDQUFFLE1BQUYsRUFBVyxLQUFYLEVBQWtCLEtBQWxCLENBQTVCLEVBTE07QUFNTjtBQUNBLElBQUMsTUFBTSxPQUFQLEVBQXNCLE1BQU0sQ0FBRSxNQUFGLEVBQVcsTUFBWCxDQUE1QixFQVBNLEVBUU4sRUFBQyxNQUFNLE1BQVAsRUFBc0IsTUFBTSxDQUFFLE9BQUYsRUFBVyxPQUFYLENBQTVCLEVBUk07QUFTTjtBQUNBO0FBQ0EsSUFBQyxNQUFNLGFBQVAsRUFBc0IsTUFBTSxDQUFFLE1BQUYsRUFBVyxVQUFYLEVBQXVCLEtBQXZCLENBQTVCLEVBWE0sRUFZTixFQUFDLE1BQU0sT0FBUCxFQUFzQixNQUFNLENBQUUsTUFBRixFQUFXLE1BQVgsQ0FBNUIsRUFaTSxDQXhFTzs7QUF1RmYsY0FBWSxJQUFaLEVBQWtCO0FBQ2hCLFdBQU8sRUFBRSxPQUFGLEVBQVc7QUFDaEIsV0FBSyxnQkFBZ0IsSUFBaEIsR0FBdUIsR0FEWjtBQUVoQixXQUFLLElBRlc7QUFHaEIsYUFBTyxJQUhTLEVBR0Y7QUFDZCxhQUFPO0FBSlMsS0FBWCxDQUFQO0FBTUQ7O0FBOUZjLENBQWpCOzs7QUNQQTs7QUFFQSxPQUFPLE9BQVAsR0FBaUI7QUFDZixPQUFLLEdBQUwsRUFBVSxHQUFWLEVBQWU7QUFDYixRQUFJLE9BQU8sSUFBWCxFQUFpQjtBQUNmLFlBQU0sR0FBTjtBQUNBLFlBQU0sQ0FBTjtBQUNEO0FBQ0QsV0FBTyxLQUFLLEtBQUwsQ0FBVyxLQUFLLE1BQUwsTUFBaUIsTUFBTSxHQUFOLEdBQVksQ0FBN0IsSUFBa0MsR0FBN0MsQ0FBUDtBQUNELEdBUGM7O0FBU2YsV0FBUztBQUNQLFdBQU8sQ0FBQyxDQUFDLEdBQUQsSUFBUSxDQUFDLEdBQVQsR0FBZSxDQUFDLEdBQWhCLEdBQXNCLENBQUMsR0FBdkIsR0FBNkIsQ0FBQyxJQUEvQixFQUFxQyxPQUFyQyxDQUE2QyxRQUE3QyxFQUF1RCxLQUM1RCxDQUFDLElBQUksT0FBTyxlQUFQLENBQXVCLElBQUksVUFBSixDQUFlLENBQWYsQ0FBdkIsRUFBMEMsQ0FBMUMsSUFBK0MsTUFBTSxJQUFJLENBQTlELEVBQWlFLFFBQWpFLENBQTBFLEVBQTFFLENBREssQ0FBUDtBQUdELEdBYmM7O0FBZWYsY0FBWSxHQUFaLEVBQWlCO0FBQ2YsV0FBTyxJQUFJLFFBQUosR0FBZSxPQUFmLENBQXVCLHVCQUF2QixFQUFnRCxHQUFoRCxDQUFQO0FBQ0Q7QUFqQmMsQ0FBakI7Ozs7QUNGQTs7QUFFQSxFQUFFLFlBQVc7QUFDWCxNQUFJLFFBQVEsS0FBSyxHQUFMLEVBQVo7QUFDQSxTQUFPLFdBQVAsR0FBcUIsWUFBVztBQUM5QixXQUFPLEtBQUssR0FBTCxLQUFhLEtBQXBCO0FBQ0QsR0FGRDs7QUFJQSxVQUFRLFFBQVIsRUFBa0IsS0FBbEI7QUFDRCxDQVBEOzs7OztBQ0ZBOztBQUVBLE1BQU0sY0FBYyxRQUFRLGFBQVIsRUFBdUIsV0FBM0M7O0FBRUEsTUFBTSxnQkFBZ0IsTUFBdEI7O0FBR0EsSUFBSSxRQUFRLENBQUMsQ0FBYjtBQUNBLElBQUksUUFBUSxFQUFFLE9BQUYsQ0FBWjtBQUNBLElBQUksV0FBVyxFQUFFLFVBQUYsQ0FBZjtBQUNBLFNBQVMsTUFBVCxHQUFrQjtBQUNoQixXQUFTLElBQVQsQ0FBYyxNQUFNLFlBQVksS0FBWixDQUFwQjtBQUNEOztBQUVELE1BQU0sbUJBQW1CLEdBQXpCO0FBQ0EsSUFBSSxXQUFXLENBQWY7QUFDQSxJQUFJLFFBQVEsRUFBWjtBQUNBLFNBQVMsYUFBVCxDQUF1QixHQUF2QixFQUE0QjtBQUMxQixRQUFNLElBQU4sQ0FBVyxHQUFYOztBQUVBLE1BQUksTUFBTSxNQUFOLEtBQWlCLENBQXJCLEVBQXdCO0FBQ3RCLFFBQUksb0JBQW9CLEtBQUssR0FBTCxLQUFhLFFBQXJDO0FBQ0EsUUFBSSxxQkFBcUIsZ0JBQXpCLEVBQTJDO0FBQ3pDLHNCQUFnQixNQUFNLEtBQU4sRUFBaEI7QUFDRCxLQUZELE1BRU87QUFDTCxpQkFBVyxZQUFXO0FBQ3BCLHdCQUFnQixNQUFNLEtBQU4sRUFBaEI7QUFDRCxPQUZELEVBRUcsbUJBQW1CLGlCQUZ0QjtBQUdEO0FBQ0Y7QUFDRjtBQUNELFNBQVMsZUFBVCxDQUF5QixHQUF6QixFQUE4QjtBQUM1QixhQUFXLEtBQUssR0FBTCxFQUFYOztBQUVBLFFBQU0sTUFBTixDQUFhLEdBQWI7QUFDQSxhQUFXLFlBQVc7O0FBRXBCLGVBQVcsWUFBVztBQUNwQixVQUFJLE1BQU0sTUFBTixHQUFlLENBQW5CLEVBQXNCO0FBQ3BCLHdCQUFnQixNQUFNLEtBQU4sRUFBaEI7QUFDRDtBQUNGLEtBSkQsRUFJRyxnQkFKSDs7QUFNQSxRQUFJLFFBQUosQ0FBYSxTQUFiO0FBQ0EsZUFBVyxZQUFXO0FBQ3BCLFVBQUksTUFBSjtBQUNELEtBRkQsRUFFRyxJQUZIO0FBR0QsR0FaRCxFQVlHLEVBWkg7QUFhRDs7QUFHRCxPQUFPLE9BQVAsR0FBaUI7O0FBRWYsVUFBUTtBQUNOLFlBQVEsYUFBUjtBQUNBO0FBQ0QsR0FMYzs7QUFPZixXQUFTLEdBQVQsRUFBYztBQUNaLFFBQUksTUFBTSxTQUFTLEdBQW5CO0FBQ0EsUUFBSSxDQUFDLEdBQUwsRUFBVTtBQUNSLGVBQVMsUUFBVCxDQUFrQixPQUFsQjtBQUNBLGlCQUFXLFlBQVc7QUFDcEIsaUJBQVMsV0FBVCxDQUFxQixPQUFyQjtBQUNELE9BRkQsRUFFRyxHQUZIO0FBR0Q7QUFDRCxXQUFPLEdBQVA7QUFDRCxHQWhCYzs7QUFrQmYsUUFBTSxJQUFOLEVBQVk7QUFDVixRQUFJLFFBQVEsQ0FBWixFQUFlO0FBQUU7QUFBUztBQUMxQixRQUFJLE9BQU8sQ0FBWCxFQUFjO0FBQ1osYUFBTyxLQUFLLElBQUwsQ0FBVSxDQUFDLElBQVgsQ0FBUDtBQUNEO0FBQ0QsYUFBUyxJQUFUO0FBQ0EsUUFBSSxRQUFRLENBQVosRUFBZTtBQUNiLGNBQVEsU0FBUixFQUFtQixHQUFuQixDQUF1QixlQUF2QjtBQUNEOztBQUVELGtCQUFjLEVBQUUsUUFBRixFQUFZO0FBQ3hCLGFBQU8sY0FEaUI7QUFFeEIsWUFBTSxPQUFPLFlBQVksSUFBWjtBQUZXLEtBQVosQ0FBZDs7QUFLQTtBQUNELEdBbENjOztBQW9DZixPQUFLLE1BQUwsRUFBYTtBQUNYLFFBQUksVUFBVSxDQUFkLEVBQWlCO0FBQUU7QUFBUztBQUM1QixRQUFJLFNBQVMsQ0FBYixFQUFnQjtBQUNkLGFBQU8sS0FBSyxLQUFMLENBQVcsQ0FBQyxNQUFaLENBQVA7QUFDRDs7QUFFRCxrQkFBYyxFQUFFLFFBQUYsRUFBWTtBQUN4QixhQUFPLGFBRGlCO0FBRXhCLFlBQU0sT0FBTyxZQUFZLE1BQVo7QUFGVyxLQUFaLENBQWQ7O0FBS0EsYUFBUyxNQUFUO0FBQ0E7QUFDRDtBQWpEYyxDQUFqQjs7O0FDbkRBOztBQUVBLE1BQU0sT0FBTyxRQUFRLGVBQVIsQ0FBYjtBQUNBLE1BQU0sY0FBYyxRQUFRLGFBQVIsRUFBdUIsV0FBM0M7QUFDQSxNQUFNLE9BQU8sUUFBUSxRQUFSLENBQWI7O0FBRUE7O0FBRUEsTUFBTSxtQkFBbUIsSUFBekI7QUFDQSxNQUFNLGdCQUFnQixLQUF0Qjs7QUFHQSxJQUFJLElBQUo7QUFDQSxJQUFJLElBQUo7QUFDQSxJQUFJLElBQUo7O0FBR0EsT0FBTyxPQUFQLEdBQWlCOztBQUVmLFVBQVE7QUFDTixXQUFPLEVBQUUsTUFBTSxJQUFSLEVBQWMsUUFBUSxJQUF0QixFQUE2QixLQUFLLEVBQUUsT0FBRixDQUFsQyxFQUE4QyxNQUFNLEVBQUUsWUFBRixDQUFwRCxFQUFQO0FBQ0EsV0FBTyxFQUFFLE1BQU0sSUFBUixFQUFjLFFBQVEsS0FBdEIsRUFBNkIsS0FBSyxFQUFFLE9BQUYsQ0FBbEMsRUFBOEMsTUFBTSxFQUFFLFlBQUYsQ0FBcEQsRUFBUDtBQUNBLFdBQU8sRUFBRSxNQUFNLElBQVIsRUFBYyxRQUFRLEtBQXRCLEVBQTZCLEtBQUssRUFBRSxPQUFGLENBQWxDLEVBQThDLE1BQU0sRUFBRSxZQUFGLENBQXBELEVBQVA7QUFDRCxHQU5jOztBQVFmLFVBQVE7QUFDTixTQUFLLElBQUwsR0FBWSxJQUFJLElBQUosQ0FBUyxJQUFULEVBQWUsS0FBSyxNQUFMLENBQVksSUFBWixDQUFpQixJQUFqQixFQUF1QixJQUF2QixDQUFmLENBQVo7O0FBRUEsU0FBSyxNQUFMLENBQVksSUFBWjtBQUNBLFNBQUssTUFBTCxDQUFZLElBQVo7QUFDQSxTQUFLLE1BQUwsQ0FBWSxJQUFaO0FBQ0QsR0FkYzs7QUFnQmYsU0FBTyxHQUFQLEVBQVk7QUFDVixRQUFJLElBQUosQ0FBUyxLQUFUO0FBQ0EsUUFBSSxJQUFJLElBQUosSUFBWSxJQUFoQixFQUFzQjtBQUNwQixVQUFJLEdBQUosQ0FBUSxXQUFSLENBQW9CLGNBQXBCO0FBQ0EsVUFBSSxJQUFKLENBQVMsTUFBVCxDQUFnQixJQUFJLElBQUosQ0FBUyxNQUFULEVBQWhCO0FBQ0EsVUFBSSxJQUFKLENBQVMsZUFBVDtBQUNELEtBSkQsTUFJTyxJQUFJLElBQUksTUFBUixFQUFnQjtBQUNyQixVQUFJLEdBQUosQ0FBUSxXQUFSLENBQW9CLFFBQXBCO0FBQ0EsVUFBSSxHQUFKLENBQVEsUUFBUixDQUFpQixPQUFqQjs7QUFFQSxVQUFJLElBQUosQ0FBUyxNQUFULENBQWdCLEVBQUUsTUFBRixFQUFVLEVBQUMsTUFBTSxPQUFQLEVBQVYsQ0FBaEI7QUFDQSxVQUFJLFdBQVcsRUFBRSxVQUFGLEVBQWMsRUFBQyxPQUFPLE9BQVIsRUFBaUIsTUFBTSxhQUFhLFlBQVksZ0JBQVosQ0FBYixHQUE2QyxHQUFwRSxFQUFkLENBQWY7QUFDQSxVQUFJLFFBQVEsSUFBWjtBQUNBLGVBQVMsS0FBVCxDQUFlLFlBQVc7QUFDeEIsWUFBSSxDQUFDLEtBQUssUUFBTCxDQUFjLGdCQUFkLENBQUwsRUFBc0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0Q7QUFDRCxhQUFLLEtBQUwsQ0FBVyxnQkFBWDs7QUFFQSxZQUFJLElBQUosR0FBVyxJQUFJLElBQUosQ0FBUyxHQUFULEVBQWMsTUFBTSxNQUFOLENBQWEsSUFBYixDQUFrQixLQUFsQixFQUF5QixHQUF6QixDQUFkLENBQVg7QUFDQSxjQUFNLE1BQU4sQ0FBYSxHQUFiO0FBQ0QsT0FWRDtBQVdBLFVBQUksSUFBSixDQUFTLE1BQVQsQ0FBZ0IsUUFBaEI7QUFDRCxLQW5CTSxNQW1CQTtBQUNMLFVBQUksR0FBSixDQUFRLFdBQVIsQ0FBb0IsT0FBcEI7QUFDQSxVQUFJLEdBQUosQ0FBUSxRQUFSLENBQWlCLFFBQWpCOztBQUVBLFVBQUksSUFBSixDQUFTLE1BQVQsQ0FBZ0IsRUFBRSxNQUFGLEVBQVUsRUFBQyxNQUFNLFFBQVAsRUFBVixDQUFoQjtBQUNBLFVBQUksU0FBUyxFQUFFLFVBQUYsRUFBYyxFQUFDLE9BQU8sUUFBUixFQUFrQixNQUFNLGNBQWMsWUFBWSxhQUFaLENBQWQsR0FBMkMsR0FBbkUsRUFBZCxDQUFiO0FBQ0EsVUFBSSxRQUFRLElBQVo7QUFDQSxhQUFPLEtBQVAsQ0FBYSxZQUFXO0FBQ3RCLFlBQUksQ0FBQyxLQUFLLFFBQUwsQ0FBYyxhQUFkLENBQUwsRUFBbUM7QUFDakM7QUFDQTtBQUNBO0FBQ0Q7QUFDRCxhQUFLLEtBQUwsQ0FBVyxhQUFYOztBQUVBLFlBQUksTUFBSixHQUFhLElBQWI7QUFDQSxjQUFNLE1BQU4sQ0FBYSxHQUFiO0FBQ0QsT0FWRDtBQVdBLFVBQUksSUFBSixDQUFTLE1BQVQsQ0FBZ0IsTUFBaEI7QUFDRDs7QUFFRCxTQUFLLGNBQUw7QUFDRCxHQS9EYzs7QUFpRWYsbUJBQWlCO0FBQ2YsUUFBSSxLQUFLLElBQUwsSUFBYSxJQUFiLElBQXFCLEtBQUssSUFBTCxJQUFhLElBQWxDLElBQTBDLEtBQUssSUFBTCxJQUFhLElBQXZELElBQStELENBQUMsS0FBSyxRQUFMLENBQWMsZ0JBQWQsQ0FBcEUsRUFBcUc7QUFDbkc7QUFDQSxjQUFRLFNBQVIsRUFBbUIsR0FBbkIsQ0FBdUIsZUFBdkI7QUFDRDtBQUNGLEdBdEVjOztBQXdFZixnQkFBYztBQUNaLE1BQUUsT0FBRixFQUFXLFFBQVgsQ0FBb0IsT0FBcEI7QUFDQSxZQUFRLEdBQVIsQ0FBWSwwQkFBWjtBQUNEO0FBM0VjLENBQWpCOzs7QUNqQkE7O0FBRUEsTUFBTSxTQUFTLFFBQVEsaUJBQVIsQ0FBZjs7QUFFQSxNQUFNLGlCQUFpQixDQUF2Qjs7QUFFQSxJQUFJLFNBQVMsRUFBYjs7QUFFQSxJQUFJLFNBQVMsRUFBRSxpQkFBRixDQUFiOztBQUVBLE9BQU8sT0FBUCxHQUFpQjtBQUNmLFVBQVE7QUFDTixhQUFTLEVBQVQ7QUFDQSxXQUFPLEtBQVA7QUFDRCxHQUpjOztBQU1mLFVBQVE7QUFDTixTQUFLLElBQUksSUFBSSxDQUFiLEVBQWdCLElBQUksY0FBcEIsRUFBb0MsR0FBcEMsRUFBeUM7QUFDdkMsV0FBSyxNQUFMO0FBQ0Q7QUFDRixHQVZjOztBQVlmLGFBQVc7QUFDVCxrQkFBYyxLQUFLLE1BQW5CO0FBQ0QsR0FkYzs7QUFnQmYsV0FBUztBQUNQLFFBQUksWUFBWSxJQUFJLE1BQUosRUFBaEI7QUFDQSxXQUFPLE1BQVAsQ0FBYyxVQUFVLE1BQVYsRUFBZDtBQUNBLGNBQVUsYUFBVjtBQUNBLFdBQU8sVUFBVSxFQUFqQixJQUF1QixTQUF2QjtBQUNELEdBckJjOztBQXVCZixNQUFJLEVBQUosRUFBUTtBQUNOLFdBQU8sT0FBTyxFQUFQLENBQVA7QUFDRCxHQXpCYzs7QUEyQmYsU0FBTyxFQUFQLEVBQVc7QUFDVCxRQUFJLFNBQVMsT0FBTyxFQUFQLENBQWI7QUFDQSxXQUFPLE9BQU8sRUFBUCxDQUFQO0FBQ0EsV0FBTyxHQUFQLENBQVcsTUFBWDs7QUFFQTtBQUNBLFNBQUssTUFBTDs7QUFFQSxXQUFPLE1BQVA7QUFDRCxHQXBDYzs7QUFzQ2YsWUFBVTtBQUNSLFdBQU8sS0FBUDs7QUFFQSxTQUFLLElBQUksTUFBVCxJQUFtQixNQUFuQixFQUEyQjtBQUN6QixhQUFPLE1BQVAsQ0FBYyxPQUFPLE1BQVAsRUFBZDtBQUNEO0FBQ0Y7QUE1Q2MsQ0FBakI7OztBQ1ZBOztBQUVBLE1BQU0sY0FBYyxRQUFRLGFBQVIsRUFBdUIsV0FBM0M7QUFDQSxNQUFNLE1BQU0sUUFBUSxnQkFBUixDQUFaOztBQUVBO0FBQ0EsTUFBTSxzQkFBc0IsRUFBNUI7O0FBRUEsSUFBSSxRQUFRLENBQUMsQ0FBYjtBQUNBLElBQUksU0FBUyxFQUFFLFFBQUYsQ0FBYjtBQUNBLFNBQVMsTUFBVCxHQUFrQjtBQUNoQixTQUFPLElBQVAsQ0FBWSxRQUFaO0FBQ0Q7O0FBRUQsU0FBUyxNQUFULEdBQWtCO0FBQ2hCLFNBQU8sWUFBWSxLQUFaLElBQXFCLEdBQXJCLElBQTRCLFVBQVUsQ0FBVixHQUFjLFFBQWQsR0FBeUIsUUFBckQsQ0FBUDtBQUNEOztBQUVELE9BQU8sT0FBUCxHQUFpQjs7QUFFZixVQUFRO0FBQ04sWUFBUSxDQUFSO0FBQ0E7QUFDRCxHQUxjOztBQU9mLFVBQVEsTUFQTzs7QUFTZixPQUFLLEtBQUwsRUFBWTtBQUNWLGFBQVMsS0FBVDtBQUNBOztBQUVBLFFBQUksR0FBSixDQUFRLEtBQVI7QUFDRCxHQWRjOztBQWdCZjtBQUNBLGNBQVk7QUFDVixXQUFPLEtBQUssR0FBTCxDQUFTLFFBQVEsbUJBQWpCLEVBQXNDLENBQXRDLENBQVA7QUFDRDs7QUFuQmMsQ0FBakI7OztBQ2xCQTs7QUFFQSxNQUFNLDBCQUEwQixDQUFoQztBQUNBLE1BQU0sZ0JBQWdCLEdBQXRCOztBQUVBLElBQUksUUFBUSxDQUFDLENBQWI7O0FBRUEsT0FBTyxPQUFQLEdBQWlCOztBQUVmLFVBQVE7QUFDTixZQUFRLGFBQVI7QUFDRCxHQUpjOztBQU1mLFVBQVE7QUFDTixTQUFLLE1BQUw7O0FBRUEsU0FBSyxNQUFMLEdBQWMsWUFBWSxLQUFLLFNBQUwsQ0FBZSxJQUFmLENBQW9CLElBQXBCLENBQVosRUFBdUMsMEJBQTBCLElBQWpFLENBQWQ7QUFDRCxHQVZjOztBQVlmLGFBQVc7QUFDVCxrQkFBYyxLQUFLLE1BQW5CO0FBQ0QsR0FkYzs7QUFnQmYsY0FBWTtBQUNWOztBQUVBLFFBQUksU0FBUyxDQUFiLEVBQWdCO0FBQ2QsY0FBUSxTQUFSLEVBQW1CLEdBQW5CLENBQXVCLGVBQXZCO0FBQ0Q7O0FBRUQsU0FBSyxNQUFMO0FBQ0QsR0F4QmM7O0FBMEJmLE1BQUksS0FBSixFQUFXO0FBQ1QsYUFBUyxLQUFUO0FBQ0EsU0FBSyxNQUFMO0FBQ0QsR0E3QmM7O0FBK0JmLFdBQVM7QUFDUCxNQUFFLFlBQUYsRUFBZ0IsSUFBaEIsQ0FBcUIsS0FBckI7QUFDRDtBQWpDYyxDQUFqQiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIlwidXNlIHN0cmljdFwiO1xuXG5jb25zdCBhdHRyaWJ1dGVzID0gcmVxdWlyZShcIi4uL2xpYi9hdHRyaWJ1dGVzXCIpO1xuY29uc3QgdXRpbCA9IHJlcXVpcmUoXCIuLi9saWIvdXRpbFwiKTtcbmNvbnN0IGRpZmZTY2FsZSA9IHJlcXVpcmUoXCIuLi9zZWN0aW9uL3Njb3JlXCIpLmRpZmZTY2FsZTtcblxuXG5jb25zdCBtYXhBdHRyaWJ1dGVzID0gNTtcblxuY29uc3QgbW9uZXlTY2FsZSA9IDU7XG5jb25zdCBwYXlvdXRNaW4gID0gMTAwMDtcbmNvbnN0IGZpbmVNaW4gICAgPSAxNTAwO1xuY29uc3QgYm9udXNNaW4gICA9IDEwMDA7XG5cblxuZnVuY3Rpb24gZHJhZ1N0YXJ0KGUsIGlkKSB7XG4gICQodGhpcykuYWRkQ2xhc3MoXCJkcmFnZ2luZ1wiKTtcbiAgXG4gIGxldCBkdCA9IGUub3JpZ2luYWxFdmVudC5kYXRhVHJhbnNmZXI7XG4gIGR0LmVmZmVjdEFsbG93ZWQgPSBcIm1vdmVcIjtcbiAgZHQuc2V0RGF0YShcInRleHQvcGxhaW5cIiwgaWQpO1xufVxuXG5mdW5jdGlvbiBkcmFnRW5kKCkge1xuICBsZXQgJGVsID0gJCh0aGlzKTtcbiAgJGVsLnJlbW92ZUNsYXNzKFwiZHJhZ2dpbmdcIik7XG4gICQoXCIubGF1bmNocGFkXCIpLnJlbW92ZUNsYXNzKFwiZHJhZ2dlZC1vdmVyXCIpO1xuICBcbiAgaWYgKCRlbC5kYXRhKFwicmVtb3ZlT25EcmFnRW5kXCIpKSB7XG4gICAgJGVsLm9mZihcImRyYWdzdGFydFwiKTtcbiAgICAkZWwub2ZmKFwiZHJhZ2VuZFwiKTtcbiAgICAkZWwucmVtb3ZlQXR0cihcImRyYWdnYWJsZVwiKTtcbiAgfVxufVxuXG5cbm1vZHVsZS5leHBvcnRzID0gY2xhc3MgUGVyc29uIHtcbiAgXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuaWQgPSB1dGlsLnV1aWR2NCgpO1xuICAgIFxuICAgIGxldCBzY2FsZWRBdHRyTWF4ID0gTWF0aC5mbG9vcigxICsgKChtYXhBdHRyaWJ1dGVzIC0gMSkgKiBkaWZmU2NhbGUoKSkpO1xuICAgIGxldCBtYXggPSBNYXRoLm1pbihzY2FsZWRBdHRyTWF4LCBtYXhBdHRyaWJ1dGVzKTtcbiAgICBcbiAgICB0aGlzLm5lZWRzICAgPSBhdHRyaWJ1dGVzLnJhbmRvbSh1dGlsLnJhbmQobWF4KSk7XG4gICAgdGhpcy5kZXNpcmVzID0gYXR0cmlidXRlcy5yYW5kb20odXRpbC5yYW5kKG1heCksIHRoaXMubmVlZHMudW51c2VkKTtcbiAgICB0aGlzLmluU2hpcCAgPSBmYWxzZTtcbiAgICBcbiAgICBcbiAgICAvLyBTdWJ0cmFjdCBvbmUgc28gdGhhdCB0aGUgbWF4IGlzIGBwYXlvdXRNaW4gKyAocGF5b3V0TWluICogKG1vbmV5U2NhbGUtMSkpID0gcGF5b3V0TWluICogbW9uZXlTY2FsZWBcbiAgICAvLyByYXRoZXIgdGhhbiBgcGF5b3V0TWluICsgKHBheW91dE1pbiAqIG1vbmV5U2NhbGUpYFxuICAgIGxldCBtcyA9IG1vbmV5U2NhbGUgLSAxO1xuICAgIHRoaXMucGF5b3V0ID0gcGF5b3V0TWluICsgdXRpbC5yYW5kKE1hdGguZmxvb3IobXMgKiBwYXlvdXRNaW4gKiB0aGlzLm5lZWRzLmxlbmd0aCAgIC8gbWF4QXR0cmlidXRlcykpO1xuICAgIHRoaXMuZmluZSAgID0gZmluZU1pbiAgICsgdXRpbC5yYW5kKE1hdGguZmxvb3IobXMgKiBmaW5lTWluICAgKiB0aGlzLm5lZWRzLmxlbmd0aCAgIC8gbWF4QXR0cmlidXRlcykpO1xuICAgIHRoaXMuYm9udXMgID0gYm9udXNNaW4gICsgdXRpbC5yYW5kKE1hdGguZmxvb3IobXMgKiBib251c01pbiAgKiB0aGlzLmRlc2lyZXMubGVuZ3RoIC8gbWF4QXR0cmlidXRlcykpO1xuICAgIFxuICAgIFxuICAgIHRoaXMuJGVsID0gJChcIjxkaXY+XCIsIHsgY2xhc3M6IFwicGVyc29uXCIgfSk7XG4gIH1cbiAgXG4gIHNldHVwRHJhZ2dpbmcoKSB7XG4gICAgbGV0IGlkID0gdGhpcy5pZDtcbiAgICB0aGlzLiRlbC5vbihcImRyYWdzdGFydFwiLCBmdW5jdGlvbihlKSB7XG4gICAgICBkcmFnU3RhcnQuY2FsbCh0aGlzLCBlLCBpZCk7XG4gICAgfSk7XG4gICAgdGhpcy4kZWwub24oXCJkcmFnZW5kXCIsIGRyYWdFbmQpO1xuICAgIHRoaXMuJGVsLmF0dHIoXCJkcmFnZ2FibGVcIiwgdHJ1ZSk7XG4gIH1cbiAgXG4gIHRvSFRNTCgpIHtcbiAgICB0aGlzLiRlbC5lbXB0eSgpO1xuICAgIFxuICAgIFxuICAgIC8qKiBOZWVkcyAqKi9cbiAgICBcbiAgICBsZXQgJG5lZWRzID0gJChcIjxkaXY+XCIsIHtcbiAgICAgIGNsYXNzOiBcIm5lZWRzXCIsXG4gICAgfSk7XG4gICAgJG5lZWRzLmFwcGVuZCgkKFwiPHNwYW4+XCIsIHsgdGV4dDogXCJOZWVkc1wiIH0pKTtcbiAgICBsZXQgJG5lZWRzTGlzdCA9ICQoXCI8ZGl2PlwiLCB7IGNsYXNzOiBcImljb24tbGlzdFwiIH0pO1xuICAgIGZvciAobGV0IHJlcSBvZiB0aGlzLm5lZWRzKSB7XG4gICAgICAkbmVlZHNMaXN0LmFwcGVuZChhdHRyaWJ1dGVzLmJ1aWxkRWxGcm9tKHJlcSkpO1xuICAgIH1cbiAgICAkbmVlZHMuYXBwZW5kKCRuZWVkc0xpc3QpO1xuICAgIFxuICAgIGxldCAkZmluZSA9ICQoXCI8ZGl2PlwiLCB7IGNsYXNzOiBcImZpbmVcIiB9KTtcbiAgICAkZmluZS5hcHBlbmQoJChcIjxzcGFuPlwiLCB7IHRleHQ6IFwiRmluZTpcIn0pKTtcbiAgICBsZXQgJGZpbmVUeHQgPSAkKFwiPHNwYW4+XCIsIHsgY2xhc3M6IFwicHJpY2UgY29zdFwiLCB0ZXh0OiBcIi0kXCIgKyAodXRpbC5wcmV0dHlQcmludCh0aGlzLmZpbmUpKSArIFwiL2l0ZW1cIiB9KTtcbiAgICBpZiAodGhpcy5uZWVkcy5sZW5ndGggPT09IDApIHtcbiAgICAgICRmaW5lLmFkZENsYXNzKFwibmFcIik7XG4gICAgICAkZmluZVR4dC50ZXh0KFwiTi9BXCIpO1xuICAgIH1cbiAgICAkZmluZS5hcHBlbmQoJGZpbmVUeHQpO1xuICAgICRuZWVkcy5hcHBlbmQoJGZpbmUpO1xuICAgIFxuICAgIHRoaXMuJGVsLmFwcGVuZCgkbmVlZHMpO1xuICAgIFxuICAgIFxuICAgIFxuICAgIC8qKiBEZXNpcmVzICoqL1xuICAgIFxuICAgIGxldCAkZGVzaXJlcyA9ICQoXCI8ZGl2PlwiLCB7XG4gICAgICBjbGFzczogXCJkZXNpcmVzXCIsXG4gICAgfSk7XG4gICAgJGRlc2lyZXMuYXBwZW5kKCQoXCI8c3Bhbj5cIiwgeyB0ZXh0OiBcIkRlc2lyZXNcIiB9KSk7XG4gICAgbGV0ICRkZXNpcmVzTGlzdCA9ICQoXCI8ZGl2PlwiLCB7IGNsYXNzOiBcImljb24tbGlzdFwiIH0pO1xuICAgIGZvciAobGV0IGRlcyBvZiB0aGlzLmRlc2lyZXMpIHtcbiAgICAgICRkZXNpcmVzTGlzdC5hcHBlbmQoYXR0cmlidXRlcy5idWlsZEVsRnJvbShkZXMpKTtcbiAgICB9XG4gICAgJGRlc2lyZXMuYXBwZW5kKCRkZXNpcmVzTGlzdCk7XG4gICAgXG4gICAgbGV0ICRib251cyA9ICQoXCI8ZGl2PlwiLCB7IGNsYXNzOiBcImJvbnVzXCIgfSk7XG4gICAgJGJvbnVzLmFwcGVuZCgkKFwiPHNwYW4+XCIsIHsgdGV4dDogXCJCb251czpcIn0pKTtcbiAgICBsZXQgJGJvbnVzVHh0ID0gJChcIjxzcGFuPlwiLCB7IGNsYXNzOiBcInByaWNlIGVhcm5cIiwgdGV4dDogXCIrJFwiICsgKHV0aWwucHJldHR5UHJpbnQodGhpcy5ib251cykpICsgXCIvaXRlbVwiIH0pO1xuICAgIGlmICh0aGlzLmRlc2lyZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAkYm9udXMuYWRkQ2xhc3MoXCJuYVwiKTtcbiAgICAgICRib251c1R4dC50ZXh0KFwiTi9BXCIpO1xuICAgIH1cbiAgICAkYm9udXMuYXBwZW5kKCRib251c1R4dCk7XG4gICAgJGRlc2lyZXMuYXBwZW5kKCRib251cyk7XG4gICAgXG4gICAgdGhpcy4kZWwuYXBwZW5kKCRkZXNpcmVzKTtcbiAgICBcbiAgICBcbiAgICBcbiAgICAvKiogRmFjZSArIHRpY2tldCBwcmljZSAqKi9cbiAgICBcbiAgICBsZXQgJGJvdHRvbSA9ICQoXCI8ZGl2PlwiLCB7XG4gICAgICBjbGFzczogXCJmYWNlLWFuZC10aWNrZXRcIixcbiAgICB9KTtcbiAgICBcbiAgICBsZXQgJGZhY2UgPSAkKFwiPGltZz5cIiwge1xuICAgICAgc3JjOiBcImFzc2V0cy9pbWcvcGVyc29uLnBuZ1wiLFxuICAgICAgYWx0OiBcImZhY2VcIixcbiAgICAgIGNsYXNzOiBcImljb24gZmFjZVwiLFxuICAgIH0pO1xuICAgICRib3R0b20uYXBwZW5kKCRmYWNlKTtcbiAgICBcbiAgICBsZXQgJHRpY2tldCA9ICQoXCI8ZGl2PlwiLCB7XG4gICAgICBjbGFzczogXCJ0aWNrZXRcIlxuICAgIH0pO1xuICAgIGxldCAkdGlja2V0SW5uZXIgPSAkKFwiPHNwYW4+XCIsIHsgdGV4dDogXCJUaWNrZXQ6IFwiIH0pO1xuICAgICR0aWNrZXRJbm5lci5hcHBlbmQoJChcIjxzcGFuPlwiLCB7IGNsYXNzOiBcInByaWNlIGVhcm5cIiwgdGV4dDogXCIrJFwiICsgKHV0aWwucHJldHR5UHJpbnQodGhpcy5wYXlvdXQpKSB9KSk7XG4gICAgJHRpY2tldC5hcHBlbmQoJHRpY2tldElubmVyKTtcbiAgICAkYm90dG9tLmFwcGVuZCgkdGlja2V0KTtcbiAgICBcbiAgICB0aGlzLiRlbC5hcHBlbmQoJGJvdHRvbSk7XG4gICAgXG4gICAgXG4gICAgcmV0dXJuIHRoaXMuJGVsO1xuICB9XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5jb25zdCBhdHRyaWJ1dGVzID0gcmVxdWlyZShcIi4uL2xpYi9hdHRyaWJ1dGVzXCIpO1xuY29uc3QgYmFuayA9IHJlcXVpcmUoXCIuLi9zZWN0aW9uL2JhbmtcIik7XG5jb25zdCBsb2JieSA9IHJlcXVpcmUoXCIuLi9zZWN0aW9uL2xvYmJ5XCIpO1xuY29uc3Qgc2NvcmUgPSByZXF1aXJlKFwiLi4vc2VjdGlvbi9zY29yZVwiKTtcblxuY29uc3QgbWF4QXR0cmlidXRlcyA9IDU7XG5jb25zdCBtYXhQYXNzZW5nZXJzID0gNTtcblxuXG5mdW5jdGlvbiBkcmFnT3Zlcihldikge1xuICBsZXQgZSA9IGV2Lm9yaWdpbmFsRXZlbnQ7XG4gIGlmICh0eXBlb2YgZS5wcmV2ZW50RGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICB9XG4gIFxuICBlLmRhdGFUcmFuc2Zlci5kcm9wRWZmZWN0ID0gXCJtb3ZlXCI7XG59XG5cbmZ1bmN0aW9uIGRyYWdFbnRlcigpIHtcbiAgJCh0aGlzKS5hZGRDbGFzcyhcImRyYWdnZWQtb3ZlclwiKTtcbn1cblxuZnVuY3Rpb24gZHJhZ0xlYXZlKCkge1xuICAkKHRoaXMpLnJlbW92ZUNsYXNzKFwiZHJhZ2dlZC1vdmVyXCIpO1xufVxuXG5cbm1vZHVsZS5leHBvcnRzID0gY2xhc3MgUGVyc29uIHtcbiAgXG4gIGNvbnN0cnVjdG9yKHBhZCwgcmVkcmF3UGFkKSB7XG4gICAgdGhpcy5hdHRyaWJ1dGVzID0gYXR0cmlidXRlcy5yYW5kb20oMSk7XG4gICAgdGhpcy5wYXNzZW5nZXJzID0gW107XG4gICAgXG4gICAgdGhpcy5fcGFkID0gcGFkO1xuICAgIHRoaXMuX3JlZHJhd1BhZCA9IHJlZHJhd1BhZDtcbiAgICBcbiAgICB0aGlzLiRlbCA9ICQoXCI8ZGl2PlwiLCB7XG4gICAgICBjbGFzczogXCJzaGlwXCJcbiAgICB9KTtcbiAgfVxuICBcbiAgYWRkUGFzc2VuZ2VyKHBlcnNvbikge1xuICAgIGlmICh0aGlzLnBhc3NlbmdlcnMubGVuZ3RoID49IG1heFBhc3NlbmdlcnMpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgdGhpcy5wYXNzZW5nZXJzLnB1c2gocGVyc29uKTtcbiAgICBwZXJzb24uaW5TaGlwID0gdHJ1ZTtcbiAgICBiYW5rLmVhcm4ocGVyc29uLnBheW91dCk7XG4gICAgXG4gICAgaWYgKHRoaXMucGFzc2VuZ2Vycy5sZW5ndGggPj0gbWF4UGFzc2VuZ2Vycykge1xuICAgICAgY29uc29sZS5sb2coXCJGdWxsIVwiKTtcbiAgICAgIHRoaXMuY2xlYXJEcmFnVGFyZ2V0KCk7XG4gICAgfVxuICAgIFxuICAgIHRoaXMucmVkcmF3Q2FwYWNpdHkoKTtcbiAgICB0aGlzLiRsYXVuY2hCdG4ucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpO1xuICAgIFxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIFxuICBzZXR1cERyYWdUYXJnZXQoKSB7XG4gICAgdGhpcy4kZWwub24oXCJkcmFnb3ZlclwiLCAgZHJhZ092ZXIpO1xuICAgIHRoaXMuJGVsLm9uKFwiZHJhZ2VudGVyXCIsIGRyYWdFbnRlcik7XG4gICAgdGhpcy4kZWwub24oXCJkcmFnbGVhdmVcIiwgZHJhZ0xlYXZlKTtcbiAgICBcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIHRoaXMuJGVsLm9uKFwiZHJvcFwiLCBmdW5jdGlvbihldikge1xuICAgICAgbGV0IGUgPSBldi5vcmlnaW5hbEV2ZW50O1xuICAgICAgaWYoZS5wcmV2ZW50RGVmYXVsdCkgeyBlLnByZXZlbnREZWZhdWx0KCk7IH1cbiAgICAgIGlmKGUuc3RvcFByb3BhZ2F0aW9uKSB7IGUuc3RvcFByb3BhZ2F0aW9uKCk7IH1cbiAgICAgIFxuICAgICAgJChcIi5kcmFnZ2VkLW92ZXJcIikucmVtb3ZlQ2xhc3MoXCJkcmFnZ2VkLW92ZXJcIik7XG4gICAgICBcbiAgICAgIGxldCBpZCA9IGUuZGF0YVRyYW5zZmVyLmdldERhdGEoXCJ0ZXh0L3BsYWluXCIpO1xuICAgICAgbGV0IHBhc3NlbmdlciA9IGxvYmJ5LmdldChpZCk7XG4gICAgICBcbiAgICAgIGlmICghX3RoaXMuYWRkUGFzc2VuZ2VyKHBhc3NlbmdlcikpIHtcbiAgICAgICAgLy8gQ2FuJ3QgYWRkIHBhc3NlbmdlciwgcHJvYmFibHkgZnVsbFxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcbiAgICAgIGxvYmJ5LnJlbW92ZShpZCk7XG4gICAgICBcbiAgICAgIHBhc3Nlbmdlci4kZWwuZGF0YShcInJlbW92ZU9uRHJhZ0VuZFwiLCB0cnVlKTtcbiAgICAgIHBhc3Nlbmdlci4kZWwudHJpZ2dlcihcImRyYWdlbmRcIik7XG4gICAgICBcbiAgICAgIF90aGlzLnJlZHJhd0NvbnRlbnQoKTtcbiAgICB9KTtcbiAgfVxuICBcbiAgY2xlYXJEcmFnVGFyZ2V0KCkge1xuICAgIGNvbnNvbGUubG9nKFwiQ2xlYXJpbmcgZHJhZyB0YXJnZXRzLi4uXCIsIHRoaXMuJGVsKTtcbiAgICB0aGlzLiRlbC5vZmYoXCJkcmFnb3ZlclwiKTtcbiAgICB0aGlzLiRlbC5vZmYoXCJkcmFnZW50ZXJcIik7XG4gICAgdGhpcy4kZWwub2ZmKFwiZHJhZ2xlYXZlXCIpO1xuICAgIHRoaXMuJGVsLm9mZihcImRyb3BcIik7XG4gIH1cbiAgXG4gIHRvSFRNTCgpIHtcbiAgICB0aGlzLiRlbC5lbXB0eSgpO1xuICAgIFxuICAgIFxuICAgIHRoaXMuJGF0dHJpYnV0ZXMgPSAkKFwiPGRpdj5cIiwge2NsYXNzOiBcImF0dHJpYnV0ZXNcIn0pO1xuICAgIHRoaXMucmVkcmF3QXR0cmlidXRlcygpO1xuICAgIHRoaXMuJGVsLmFwcGVuZCh0aGlzLiRhdHRyaWJ1dGVzKTtcbiAgICBcbiAgICBcbiAgICB0aGlzLiRjb250ZW50ID0gJChcIjxkaXY+XCIsIHtjbGFzczogXCJjb250ZW50XCJ9KTtcbiAgICB0aGlzLnJlZHJhd0NvbnRlbnQoKTtcbiAgICB0aGlzLiRlbC5hcHBlbmQodGhpcy4kY29udGVudCk7XG4gICAgXG4gICAgdGhpcy4kZWwuYXBwZW5kKCQoXCI8ZGl2PlwiLCB7Y2xhc3M6IFwiZmFkZSBkb3duXCJ9KSk7XG4gICAgdGhpcy4kZWwuYXBwZW5kKCQoXCI8ZGl2PlwiLCB7Y2xhc3M6IFwiZmFkZSB1cFwifSkpO1xuICAgIFxuICAgIHRoaXMuJGxhdW5jaEJ0biA9ICQoXCI8YnV0dG9uPlwiLCB7Y2xhc3M6IFwibGF1bmNoXCIsIHRleHQ6IFwiRmluZCBQbGFuZXRcIn0pO1xuICAgIHRoaXMuJGxhdW5jaEJ0bi5jbGljayh0aGlzLmxhdW5jaC5iaW5kKHRoaXMpKTtcbiAgICBcbiAgICB0aGlzLnJlZHJhd0xhdW5jaEJ0bigpO1xuICAgIFxuICAgIHRoaXMuJGVsLmFwcGVuZCh0aGlzLiRsYXVuY2hCdG4pO1xuICAgIFxuICAgIHRoaXMuJGNhcGFjaXR5ID0gJChcIjxzcGFuPlwiLCB7Y2xhc3M6IFwiY2FwYWNpdHlcIiwgdGV4dDogXCI/Py8/P1wifSk7XG4gICAgdGhpcy4kZWwuYXBwZW5kKHRoaXMuJGNhcGFjaXR5KTtcbiAgICB0aGlzLnJlZHJhd0NhcGFjaXR5KCk7XG4gICAgXG4gICAgcmV0dXJuIHRoaXMuJGVsO1xuICB9XG4gIFxuICByZWRyYXdBdHRyaWJ1dGVzKHBhbGV0dGVPcGVuID0gZmFsc2UpIHtcbiAgICB0aGlzLiRhdHRyaWJ1dGVzLmVtcHR5KCk7XG4gICAgXG4gICAgdGhpcy4kYXR0cmlidXRlcy5hcHBlbmQoJChcIjxzcGFuPlwiLCB7Y2xhc3M6IFwiZGVzY1wiLCB0ZXh0OiBcIlRhcmdldCBwbGFuZXQgYXR0cmlidXRlczogXCJ9KSk7XG4gICAgXG4gICAgbGV0ICRsaXN0ID0gJChcIjxkaXY+XCIsIHtjbGFzczogXCJhdHRyLWxpc3RcIn0pO1xuICAgIGZvciAobGV0IGEgb2YgdGhpcy5hdHRyaWJ1dGVzKSB7XG4gICAgICBsZXQgJGNvbnRhaW5lciA9ICQoXCI8ZGl2PlwiLCB7Y2xhc3M6IFwiYXR0ci1jb250YWluZXJcIn0pO1xuICAgICAgJGNvbnRhaW5lci5hcHBlbmQoYXR0cmlidXRlcy5idWlsZEVsRnJvbShhKSk7XG4gICAgICAkbGlzdC5hcHBlbmQoJGNvbnRhaW5lcik7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4QXR0cmlidXRlcyAtIHRoaXMuYXR0cmlidXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgJGxpc3QuYXBwZW5kKCQoXCI8ZGl2PlwiLCB7Y2xhc3M6IFwiYXR0ci1jb250YWluZXJcIn0pKTtcbiAgICB9XG4gICAgdGhpcy4kYXR0cmlidXRlcy5hcHBlbmQoJGxpc3QpO1xuICAgIFxuICAgIGxldCAkYWRkQnRuID0gJChcIjxidXR0b24+XCIsIHtjbGFzczogXCJhZGRcIiwgdGV4dDogXCJBZGRcIn0pO1xuICAgICRhZGRCdG4uY2xpY2sodGhpcy5kaXNwbGF5UGFsZXR0ZS5iaW5kKHRoaXMpKTtcbiAgICBcbiAgICBpZiAocGFsZXR0ZU9wZW4pIHtcbiAgICAgIHRoaXMuZGlzcGxheVBhbGV0dGUoKTtcbiAgICB9XG4gICAgXG4gICAgdGhpcy4kYXR0cmlidXRlcy5hcHBlbmQoJGFkZEJ0bik7XG4gICAgXG4gICAgXG4gICAgaWYgKHRoaXMuJGxhdW5jaEJ0biAhPSBudWxsKSB7XG4gICAgICB0aGlzLnJlZHJhd0xhdW5jaEJ0bigpO1xuICAgIH1cbiAgfVxuICBcbiAgZGlzcGxheVBhbGV0dGUoKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICBsZXQgJHBhbCA9IGF0dHJpYnV0ZXMuYnVpbGRQYWxldHRlKHRoaXMuYXR0cmlidXRlcywgZnVuY3Rpb24obmFtZSkge1xuICAgICAgY29uc29sZS5sb2coXCJDbGlja2VkIG9uIGF0dHJpYnV0ZVwiLCBuYW1lKTtcbiAgICAgIF90aGlzLmF0dHJpYnV0ZXMucHVzaChuYW1lKTtcbiAgICAgIF90aGlzLnJlZHJhd0F0dHJpYnV0ZXModHJ1ZSk7XG4gICAgfSk7XG4gICAgdGhpcy4kYXR0cmlidXRlcy5hcHBlbmQoJHBhbCk7XG4gIH1cbiAgXG4gIHJlZHJhd0NhcGFjaXR5KCkge1xuICAgIHRoaXMuJGNhcGFjaXR5LnRleHQodGhpcy5wYXNzZW5nZXJzLmxlbmd0aCArIFwiL1wiICsgbWF4UGFzc2VuZ2Vycyk7XG4gIH1cbiAgXG4gIHJlZHJhd0NvbnRlbnQoKSB7XG4gICAgdGhpcy4kY29udGVudC5lbXB0eSgpO1xuICAgIFxuICAgIGZvciAobGV0IHAgb2YgdGhpcy5wYXNzZW5nZXJzKSB7XG4gICAgICB0aGlzLiRjb250ZW50LmFwcGVuZChwLnRvSFRNTCgpKTtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXhQYXNzZW5nZXJzIC0gdGhpcy5wYXNzZW5nZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLiRjb250ZW50LmFwcGVuZCgkKFwiPGRpdj5cIiwge2NsYXNzOiBcInNsb3QgZW1wdHlcIn0pKTtcbiAgICB9XG4gIH1cbiAgXG4gIHJlZHJhd0xhdW5jaEJ0bigpIHtcbiAgICBpZiAodGhpcy5hdHRyaWJ1dGVzLmxlbmd0aCA8IG1heEF0dHJpYnV0ZXMpIHtcbiAgICAgIHRoaXMuJGxhdW5jaEJ0bi50ZXh0KFwiRmluZCBQbGFuZXRcIik7XG4gICAgICB0aGlzLiRsYXVuY2hCdG4ucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLiRsYXVuY2hCdG4udGV4dChcIkxhdW5jaCFcIik7XG4gICAgICBcbiAgICAgIGlmICh0aGlzLnBhc3NlbmdlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICB0aGlzLiRsYXVuY2hCdG4ucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy4kbGF1bmNoQnRuLmF0dHIoXCJkaXNhYmxlZFwiLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgXG4gIGhhc0F0dHIoYSkge1xuICAgIGZvciAobGV0IGF0IG9mIHRoaXMuYXR0cmlidXRlcykge1xuICAgICAgaWYgKGF0ID09PSBhKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgXG4gIGZpbmRQbGFuZXQoKSB7XG4gICAgbGV0IG1pc3NpbmcgPSBtYXhBdHRyaWJ1dGVzIC0gdGhpcy5hdHRyaWJ1dGVzLmxlbmd0aDtcbiAgICBsZXQgZnJvbUxpc3QgPSBhdHRyaWJ1dGVzLmFsbEV4Y2VwdCh0aGlzLmF0dHJpYnV0ZXMpO1xuICAgIGxldCByYW5kID0gYXR0cmlidXRlcy5yYW5kb20obWlzc2luZywgZnJvbUxpc3QpO1xuICAgIHRoaXMuYXR0cmlidXRlcyA9IHRoaXMuYXR0cmlidXRlcy5jb25jYXQocmFuZCk7XG4gICAgXG4gICAgdGhpcy5yZWRyYXdBdHRyaWJ1dGVzKCk7XG4gIH1cbiAgXG4gIGxhdW5jaCgpIHtcbiAgICBpZiAodGhpcy5hdHRyaWJ1dGVzLmxlbmd0aCA8IG1heEF0dHJpYnV0ZXMpIHtcbiAgICAgIHRoaXMuZmluZFBsYW5ldCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBjb25zb2xlLmxvZyhcIkxhdW5jaGluZyBzaGlwIVwiLCB0aGlzKTtcbiAgICBcbiAgICB2YXIgYm9udXNlcyA9IDA7XG4gICAgdmFyIGZpbmVzID0gMDtcbiAgICBcbiAgICBmb3IgKGxldCBwIG9mIHRoaXMucGFzc2VuZ2Vycykge1xuICAgICAgZm9yIChsZXQgZCBvZiBwLmRlc2lyZXMpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzQXR0cihkKSkge1xuICAgICAgICAgIGJvbnVzZXMgKz0gcC5ib251cztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICBmb3IgKGxldCBuIG9mIHAubmVlZHMpIHtcbiAgICAgICAgaWYgKCF0aGlzLmhhc0F0dHIobikpIHtcbiAgICAgICAgICBmaW5lcyArPSBwLmZpbmU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gUHJvY2VzcyBib251c2VzIGZpcnN0IGp1c3QgaW4gY2FzZSB0aGUgZmluZXMgd291bGQgcHV0IHRoZSBiYWxhbmNlIGJlbG93IHplcm8uXG4gICAgLy8gRm9yIGV4YW1wbGU6IHNheSB0aGUgYmFsYW5jZSBpcyAkMzAwLCBhbmQgd2UgbmVlZCB0byBwcm9jZXNzICQ0MDAgaW4gZmluZXMgYW5kICQ3MDAgaW4gYm9udXNlcy5cbiAgICAvLyBJZiB3ZSBwcm9jZXNzIHRoZSBmaW5lcyBmaXJzdCwgdGhlIGJhbGFuY2Ugd291bGQgZ28gdG8gLSQxMDAsIGFuZCB0aGUgZ2FtZSB3b3VsZCBlbmQgYmVmb3JlIHRoZSArJDcwMFxuICAgIC8vIGluIGJvbnVzZXMgaXMgYWRkZWQuXG4gICAgLy8gVGhpcyB3YXkgYXJvdW5kIHdlIG9ubHkgdHJpZ2dlciB0aGUgZW5kLWdhbWUgY29uZGl0aW9uIGlmIHRoZSBmaW5hbCBzdW0gaXMgaW52YWxpZC5cbiAgICBiYW5rLmVhcm4oYm9udXNlcyk7XG4gICAgYmFuay5zcGVuZChmaW5lcyk7XG4gICAgXG4gICAgc2NvcmUuc2F2ZSh0aGlzLnBhc3NlbmdlcnMubGVuZ3RoKTtcbiAgICBcbiAgICB0aGlzLl9wYWQuc2hpcCA9IG51bGw7XG4gICAgdGhpcy5fcmVkcmF3UGFkKCk7XG4gIH1cbiAgXG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgc2VjdGlvbnMgPSBbXG4gIHJlcXVpcmUoXCIuL3NlY3Rpb24vYmFua1wiKSxcbiAgcmVxdWlyZShcIi4vc2VjdGlvbi9sYXVuY2hwYWRzXCIpLFxuICByZXF1aXJlKFwiLi9zZWN0aW9uL2xvYmJ5XCIpLFxuICByZXF1aXJlKFwiLi9zZWN0aW9uL3Njb3JlXCIpLFxuICByZXF1aXJlKFwiLi9zZWN0aW9uL3NwYWNlT25FYXJ0aFwiKSxcbl07XG5cblxuZnVuY3Rpb24gc2V0dXAoKSB7XG4gIGZvciAobGV0IHMgb2Ygc2VjdGlvbnMpIHtcbiAgICBpZiAodHlwZW9mIHMuc2V0dXAgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgcy5zZXR1cCgpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBzdGFydCgpIHtcbiAgZm9yIChsZXQgcyBvZiBzZWN0aW9ucykge1xuICAgIGlmICh0eXBlb2Ygcy5zdGFydCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICBzLnN0YXJ0KCk7XG4gICAgfVxuICB9XG59XG5cblxudmFyICRvdmVybGF5ID0gJChcIjxkaXY+XCIsIHtjbGFzczogXCJvdmVybGF5XCJ9KTtcbnZhciAkb3ZlcmxheUNvbnRhaW5lciA9ICQoXCI8ZGl2PlwiLCB7Y2xhc3M6IFwiY29udGFpbmVyXCJ9KTtcbiRvdmVybGF5LmFwcGVuZCgkb3ZlcmxheUNvbnRhaW5lcik7XG5cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGJlZ2luKCkge1xuICAgICRvdmVybGF5Q29udGFpbmVyLmVtcHR5KCk7XG4gICAgJG92ZXJsYXlDb250YWluZXIuYXBwZW5kKCQoXCI8aDE+XCIsIHt0ZXh0OiBcIlNwYWNlZCBPdXRcIn0pKTtcbiAgICAkb3ZlcmxheUNvbnRhaW5lci5hcHBlbmQoJChcIjxzcGFuPlwiLCB7dGV4dDogXCJ2XCIgKyAod2luZG93LmdhbWVfdmVyc2lvbiB8fCBcIi5kZXZcIil9KSk7XG4gICAgbGV0ICRzdGFydEJ0biA9ICQoXCI8YnV0dG9uPlwiLCB7dGV4dDogXCJTdGFydCBHYW1lXCJ9KTtcbiAgICAkc3RhcnRCdG4uY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICAkb3ZlcmxheS5kZXRhY2goKTtcbiAgICAgIHNldHVwKCk7XG4gICAgICBzdGFydCgpO1xuICAgIH0pO1xuICAgICRvdmVybGF5Q29udGFpbmVyLmFwcGVuZCgkc3RhcnRCdG4pO1xuICAgIFxuICAgICQoXCJib2R5XCIpLmFwcGVuZCgkb3ZlcmxheSk7XG4gIH0sXG4gIFxuICBlbmQocmVhc29uKSB7XG4gICAgY29uc29sZS5sb2coXCJFbmRpbmcgZ2FtZSAtLSByZWFzb246IFwiICsgcmVhc29uKTtcbiAgICBmb3IgKGxldCBzIG9mIHNlY3Rpb25zKSB7XG4gICAgICBpZiAodHlwZW9mIHMudGVhcmRvd24gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBzLnRlYXJkb3duKCk7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgICRvdmVybGF5Q29udGFpbmVyLmVtcHR5KCk7XG4gICAgJG92ZXJsYXlDb250YWluZXIuYXBwZW5kKCQoXCI8aDE+XCIsIHt0ZXh0OiBcIkdhbWUgT3ZlclwifSkpO1xuICAgIGxldCBzY29yZSA9IHJlcXVpcmUoXCIuL3NlY3Rpb24vc2NvcmVcIikuZm9ybWF0KCk7XG4gICAgJG92ZXJsYXlDb250YWluZXIuYXBwZW5kKCQoXCI8c3Bhbj5cIiwge3RleHQ6IFwiVGhlIEVhcnRoIGhhcyBydW4gb3V0IG9mIHNwYWNlLlwifSkpO1xuICAgICRvdmVybGF5Q29udGFpbmVyLmFwcGVuZCgkKFwiPHNwYW4+XCIsIHt0ZXh0OiBcIkJ1dCBoZXksIGF0IGxlYXN0IHlvdSBzYXZlZCBcIiArIHNjb3JlICsgXCIuXCJ9KSk7XG4gICAgbGV0ICRzdGFydEJ0biA9ICQoXCI8YnV0dG9uPlwiLCB7dGV4dDogXCJSZXRyeT9cIn0pO1xuICAgICRzdGFydEJ0bi5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgICRvdmVybGF5LmRldGFjaCgpO1xuICAgICAgc2V0dXAoKTtcbiAgICAgIHN0YXJ0KCk7XG4gICAgfSk7XG4gICAgJG92ZXJsYXlDb250YWluZXIuYXBwZW5kKCRzdGFydEJ0bik7XG4gICAgXG4gICAgJChcImJvZHlcIikuYXBwZW5kKCRvdmVybGF5KTtcbiAgfVxufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuY29uc3QgdXRpbHMgPSByZXF1aXJlKFwiLi91dGlsXCIpO1xuXG5jb25zdCBhc3NldEJhc2VQYXRoID0gXCJhc3NldHMvYXR0cmlidXRlcy9pY29ucy9cIjtcbmNvbnN0IGV4dCA9IFwiLnBuZ1wiO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgcmFuZG9tKGNvdW50ID0gNSwgZnJvbUxpc3QgPSBudWxsKSB7XG4gICAgdmFyIG91dCA9IFtdO1xuICAgIGxldCB0bXAgPSBmcm9tTGlzdCB8fCB0aGlzLmdyb3VwcztcbiAgICAvLyBNYWtlIGEgY29weSBvZiB0aGUgYXJyYXlcbiAgICB2YXIgbGlzdCA9IHRtcC5zbGljZSgpO1xuICAgIFxuICAgIHdoaWxlIChjb3VudCA+IDAgJiYgbGlzdC5sZW5ndGggPiAwKSB7XG4gICAgICBsZXQgaW5kZXggPSB1dGlscy5yYW5kKGxpc3QubGVuZ3RoIC0gMSk7XG4gICAgICBsZXQgZW50cnkgPSBsaXN0W2luZGV4XTtcbiAgICAgIGxldCBvcHQgPSBlbnRyeS5vcHRzW3V0aWxzLnJhbmQoZW50cnkub3B0cy5sZW5ndGggLSAxKV07XG4gICAgICBvdXQucHVzaChlbnRyeS5uYW1lICsgXCIuXCIgKyBvcHQpO1xuICAgICAgbGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgY291bnQtLTtcbiAgICB9XG4gICAgXG4gICAgb3V0LnVudXNlZCA9IGxpc3Q7XG4gICAgcmV0dXJuIG91dDtcbiAgfSxcbiAgXG4gIGFsbEV4Y2VwdChsaXN0KSB7XG4gICAgLy8gTWFrZSBhIGNvcHkgb2YgdGhlIGFycmF5XG4gICAgY29uc29sZS5sb2codGhpcy5ncm91cHMpO1xuICAgIHZhciBncm91cHMgPSB0aGlzLmdyb3Vwcy5zbGljZSh0aGlzLmdyb3Vwcyk7XG4gICAgXG4gICAgLy8gRmlsdGVyIG91dCBhbnkgYXR0cnMgdGhhdCBhcmUgYWxyZWFkeSBpbiB0aGUgdGFyZ2V0IGxpc3RcbiAgICBmb3IgKGxldCBhIG9mIGxpc3QpIHtcbiAgICAgIGxldCBwYXJ0cyA9IGEuc3BsaXQoXCIuXCIpO1xuICAgICAgXG4gICAgICB2YXIgaSA9IDA7XG4gICAgICB3aGlsZSAoaSA8IGdyb3Vwcy5sZW5ndGgpIHtcbiAgICAgICAgaWYgKGdyb3Vwc1tpXS5uYW1lID09PSBwYXJ0c1swXSkge1xuICAgICAgICAgIGdyb3Vwcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaSsrO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zb2xlLmxvZyh0aGlzLmdyb3Vwcyk7XG4gICAgcmV0dXJuIGdyb3VwcztcbiAgfSxcbiAgXG4gIGJ1aWxkUGFsZXR0ZShjdXJyZW50QXR0cnMsIG9uU2VsZWN0KSB7XG4gICAgbGV0IGdyb3VwcyA9IHRoaXMuYWxsRXhjZXB0KGN1cnJlbnRBdHRycyk7XG4gICAgXG4gICAgbGV0ICRjb250YWluZXIgPSAkKFwiPGRpdj5cIiwge2NsYXNzOiBcImF0dHItc2VsZWN0XCJ9KTtcbiAgICBsZXQgJGdyb3VwcyA9ICQoXCI8ZGl2PlwiLCB7Y2xhc3M6IFwiZ3JvdXBzXCJ9KTtcbiAgICBmb3IgKGxldCBnIG9mIGdyb3Vwcykge1xuICAgICAgbGV0ICRncm91cCA9ICQoXCI8ZGl2PlwiLCB7Y2xhc3M6IFwiZ3JvdXBcIn0pO1xuICAgICAgZm9yIChsZXQgbyBvZiBnLm9wdHMpIHtcbiAgICAgICAgbGV0IG5hbWUgPSBnLm5hbWUgKyBcIi5cIiArIG87XG4gICAgICAgIGxldCAkb3B0ID0gdGhpcy5idWlsZEVsRnJvbShuYW1lKTtcbiAgICAgICAgJG9wdC5hZGRDbGFzcyhcImNsaWNrYWJsZVwiKTtcbiAgICAgICAgJG9wdC5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgICBvblNlbGVjdChuYW1lKTtcbiAgICAgICAgfSk7XG4gICAgICAgICRncm91cC5hcHBlbmQoJG9wdCk7XG4gICAgICB9XG4gICAgICAkZ3JvdXBzLmFwcGVuZCgkZ3JvdXApO1xuICAgIH1cbiAgICAkY29udGFpbmVyLmFwcGVuZCgkZ3JvdXBzKTtcbiAgICBcbiAgICBsZXQgJGNsb3NlQnRuID0gJChcIjxidXR0b24+XCIsIHtjbGFzczogXCJjbG9zZVwiLCB0ZXh0OiBcIkNsb3NlXCJ9KTtcbiAgICAkY2xvc2VCdG4uY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICAkY29udGFpbmVyLnJlbW92ZSgpO1xuICAgIH0pO1xuICAgICRjb250YWluZXIuYXBwZW5kKCRjbG9zZUJ0bik7XG4gICAgXG4gICAgXG4gICAgcmV0dXJuICRjb250YWluZXI7XG4gIH0sXG4gIFxuICBncm91cHM6IFtcbiAgICB7bmFtZTogXCJjYXRzXCIsICAgICAgICBvcHRzOiBbIFwibm9uZVwiICwgXCJzb21lXCIgICAgICAgICAgICAgICBdfSxcbiAgICB7bmFtZTogXCJjbG91ZHNcIiwgICAgICBvcHRzOiBbIFwibm9uZVwiICwgXCJsb3dcIiwgXCJtZWRcIiwgXCJoaWdoXCIgXX0sXG4gICAge25hbWU6IFwiZGVzZXJ0XCIsICAgICAgb3B0czogWyBcIm5vbmVcIiAsIFwic29tZVwiICAgICAgICAgICAgICAgXX0sXG4gICAge25hbWU6IFwiZ3Jhc3NcIiwgICAgICAgb3B0czogWyBcIm5vbmVcIiAsIFwibG93XCIsIFwibWVkXCIsIFwiaGlnaFwiIF19LFxuICAgIHtuYW1lOiBcIm1vb25zXCIsICAgICAgIG9wdHM6IFsgXCJub25lXCIgLCBcIm9uZVwiLCBcInR3b1wiICAgICAgICAgXX0sXG4gICAgLy8ge25hbWU6IFwicmFpblwiLCAgICAgICAgb3B0czogWyBcIm5vbmVcIiAsIFwic29tZVwiICAgICAgICAgICAgICAgXX0sIC8vIG1pc3Npbmc6IG5vbmUsIHNvbWVcbiAgICB7bmFtZTogXCJyaW5nc1wiLCAgICAgICBvcHRzOiBbIFwibm9uZVwiICwgXCJzb21lXCIgICAgICAgICAgICAgICBdfSxcbiAgICB7bmFtZTogXCJzaXplXCIsICAgICAgICBvcHRzOiBbIFwic21hbGxcIiwgXCJsYXJnZVwiICAgICAgICAgICAgICBdfSxcbiAgICAvLyB7bmFtZTogXCJzbm93XCIsICAgICAgICBvcHRzOiBbIFwibm9uZVwiICwgXCJzb21lXCIgICAgICAgICAgICAgICBdfSwgLy8gbWlzc2luZzogbm9uZSwgc29tZVxuICAgIC8vIHtuYW1lOiBcInN0b3Jtc1wiLCAgICAgIG9wdHM6IFsgXCJub25lXCIgLCBcInNvbWVcIiAgICAgICAgICAgICAgIF19LCAvLyBtaXNzaW5nOiBub25lLCBzb21lXG4gICAge25hbWU6IFwidGVtcGVyYXR1cmVcIiwgb3B0czogWyBcImNvbGRcIiAsIFwibW9kZXJhdGVcIiwgXCJob3RcIiAgICBdfSxcbiAgICB7bmFtZTogXCJ0cmVlc1wiLCAgICAgICBvcHRzOiBbIFwibm9uZVwiICwgXCJzb21lXCIgICAgICAgICAgICAgICBdfSxcbiAgXSxcbiAgXG4gIGJ1aWxkRWxGcm9tKG5hbWUpIHtcbiAgICByZXR1cm4gJChcIjxpbWc+XCIsIHtcbiAgICAgIHNyYzogYXNzZXRCYXNlUGF0aCArIG5hbWUgKyBleHQsXG4gICAgICBhbHQ6IG5hbWUsXG4gICAgICB0aXRsZTogbmFtZSwgIC8vIFRvZG86IHRyeSB0byBwcmV0dGlmeSB0aGlzP1xuICAgICAgY2xhc3M6IFwiaWNvbiBhdHRyaWJ1dGVcIixcbiAgICB9KTtcbiAgfSxcbiAgXG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgcmFuZChtaW4sIG1heCkge1xuICAgIGlmIChtYXggPT0gbnVsbCkge1xuICAgICAgbWF4ID0gbWluO1xuICAgICAgbWluID0gMDtcbiAgICB9XG4gICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSArIG1pbik7XG4gIH0sXG4gIFxuICB1dWlkdjQoKSB7XG4gICAgcmV0dXJuIChbMWU3XSArIC0xZTMgKyAtNGUzICsgLThlMyArIC0xZTExKS5yZXBsYWNlKC9bMDE4XS9nLCBjID0+XG4gICAgICAoYyBeIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQ4QXJyYXkoMSkpWzBdICYgMTUgPj4gYyAvIDQpLnRvU3RyaW5nKDE2KVxuICAgICk7XG4gIH0sXG4gIFxuICBwcmV0dHlQcmludChudW0pIHtcbiAgICByZXR1cm4gbnVtLnRvU3RyaW5nKCkucmVwbGFjZSgvXFxCKD89KFxcZHszfSkrKD8hXFxkKSkvZywgXCIsXCIpO1xuICB9LFxufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuJChmdW5jdGlvbigpIHtcbiAgbGV0IHN0YXJ0ID0gRGF0ZS5ub3coKTtcbiAgZ2xvYmFsLnJ1bm5pbmdUaW1lID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIERhdGUubm93KCkgLSBzdGFydDtcbiAgfTtcbiAgXG4gIHJlcXVpcmUoXCIuL2dhbWVcIikuYmVnaW4oKTtcbn0pOyIsIlwidXNlIHN0cmljdFwiO1xuXG5jb25zdCBwcmV0dHlQcmludCA9IHJlcXVpcmUoXCIuLi9saWIvdXRpbFwiKS5wcmV0dHlQcmludDtcblxuY29uc3Qgc3RhcnRpbmdNb25leSA9IDEwMDAwMDtcblxuXG52YXIgbW9uZXkgPSAtMTtcbmxldCAkYmFuayA9ICQoXCIjYmFua1wiKTtcbmxldCAkYmFsYW5jZSA9ICQoXCIjYmFsYW5jZVwiKTtcbmZ1bmN0aW9uIHJlZHJhdygpIHtcbiAgJGJhbGFuY2UudGV4dChcIiRcIiArIHByZXR0eVByaW50KG1vbmV5KSk7XG59XG5cbmNvbnN0IHRpbWVCZXR3ZWVuRmxvd3MgPSAyNTA7XG52YXIgbGFzdEZsb3cgPSAwO1xudmFyIHF1ZXVlID0gW107XG5mdW5jdGlvbiBxdWV1ZUNhc2hmbG93KCRlbCkge1xuICBxdWV1ZS5wdXNoKCRlbCk7XG4gIFxuICBpZiAocXVldWUubGVuZ3RoID09PSAxKSB7XG4gICAgbGV0IHRpbWVTaW5jZUxhc3RGbG93ID0gRGF0ZS5ub3coKSAtIGxhc3RGbG93O1xuICAgIGlmICh0aW1lU2luY2VMYXN0RmxvdyA+PSB0aW1lQmV0d2VlbkZsb3dzKSB7XG4gICAgICBhbmltYXRlQ2FzaGZsb3cocXVldWUuc2hpZnQoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIGFuaW1hdGVDYXNoZmxvdyhxdWV1ZS5zaGlmdCgpKTtcbiAgICAgIH0sIHRpbWVCZXR3ZWVuRmxvd3MgLSB0aW1lU2luY2VMYXN0Rmxvdyk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBhbmltYXRlQ2FzaGZsb3coJGVsKSB7XG4gIGxhc3RGbG93ID0gRGF0ZS5ub3coKTtcbiAgXG4gICRiYW5rLmFwcGVuZCgkZWwpO1xuICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgIFxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICBpZiAocXVldWUubGVuZ3RoID4gMCkge1xuICAgICAgICBhbmltYXRlQ2FzaGZsb3cocXVldWUuc2hpZnQoKSk7XG4gICAgICB9XG4gICAgfSwgdGltZUJldHdlZW5GbG93cyk7XG4gICAgXG4gICAgJGVsLmFkZENsYXNzKFwiYW5pbWF0ZVwiKTtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgJGVsLnJlbW92ZSgpO1xuICAgIH0sIDEyNTApO1xuICB9LCA1MCk7XG59XG5cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIFxuICBzZXR1cCgpIHtcbiAgICBtb25leSA9IHN0YXJ0aW5nTW9uZXk7XG4gICAgcmVkcmF3KCk7XG4gIH0sXG4gIFxuICBjYW5TcGVuZChhbXQpIHtcbiAgICBsZXQgcmVzID0gbW9uZXkgPj0gYW10O1xuICAgIGlmICghcmVzKSB7XG4gICAgICAkYmFsYW5jZS5hZGRDbGFzcyhcImZsYXNoXCIpO1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgJGJhbGFuY2UucmVtb3ZlQ2xhc3MoXCJmbGFzaFwiKTtcbiAgICAgIH0sIDYwMCk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG4gIH0sXG4gIFxuICBzcGVuZChjb3N0KSB7XG4gICAgaWYgKGNvc3QgPT0gMCkgeyByZXR1cm47IH1cbiAgICBpZiAoY29zdCA8IDApIHtcbiAgICAgIHJldHVybiB0aGlzLmVhcm4oLWNvc3QpO1xuICAgIH1cbiAgICBtb25leSAtPSBjb3N0O1xuICAgIGlmIChtb25leSA8IDApIHtcbiAgICAgIHJlcXVpcmUoXCIuLi9nYW1lXCIpLmVuZChcIk91dCBvZiBtb25leSFcIik7XG4gICAgfVxuICAgIFxuICAgIHF1ZXVlQ2FzaGZsb3coJChcIjxzcGFuPlwiLCB7XG4gICAgICBjbGFzczogXCJjYXNoZmxvdyBvdXRcIixcbiAgICAgIHRleHQ6IFwiLSRcIiArIHByZXR0eVByaW50KGNvc3QpXG4gICAgfSkpO1xuICAgIFxuICAgIHJlZHJhdygpO1xuICB9LFxuICBcbiAgZWFybihhbW91bnQpIHtcbiAgICBpZiAoYW1vdW50ID09IDApIHsgcmV0dXJuOyB9XG4gICAgaWYgKGFtb3VudCA8IDApIHtcbiAgICAgIHJldHVybiB0aGlzLnNwZW5kKC1hbW91bnQpO1xuICAgIH1cbiAgICBcbiAgICBxdWV1ZUNhc2hmbG93KCQoXCI8c3Bhbj5cIiwge1xuICAgICAgY2xhc3M6IFwiY2FzaGZsb3cgaW5cIixcbiAgICAgIHRleHQ6IFwiKyRcIiArIHByZXR0eVByaW50KGFtb3VudClcbiAgICB9KSk7XG4gICAgXG4gICAgbW9uZXkgKz0gYW1vdW50O1xuICAgIHJlZHJhdygpO1xuICB9LFxufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuY29uc3QgU2hpcCA9IHJlcXVpcmUoXCIuLi9jbGFzcy9zaGlwXCIpO1xuY29uc3QgcHJldHR5UHJpbnQgPSByZXF1aXJlKFwiLi4vbGliL3V0aWxcIikucHJldHR5UHJpbnQ7XG5jb25zdCBiYW5rID0gcmVxdWlyZShcIi4vYmFua1wiKTtcblxuLy8gY29uc3QgYnVpbGRUaW1lSW5TZWNvbmRzID0gNTtcblxuY29uc3QgcHJpY2VUb0J1aWxkU2hpcCA9IDUwMDA7XG5jb25zdCBwcmljZVRvQnV5UGFkID0gNzUwMDA7XG5cblxubGV0IHBhZDE7XG5sZXQgcGFkMjtcbmxldCBwYWQzO1xuXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBcbiAgc2V0dXAoKSB7XG4gICAgcGFkMSA9IHsgc2hpcDogbnVsbCwgYm91Z2h0OiB0cnVlLCAgJGVsOiAkKFwiI3BhZDFcIiksICRwYWQ6ICQoXCIjcGFkMSAucGFkXCIpIH07XG4gICAgcGFkMiA9IHsgc2hpcDogbnVsbCwgYm91Z2h0OiBmYWxzZSwgJGVsOiAkKFwiI3BhZDJcIiksICRwYWQ6ICQoXCIjcGFkMiAucGFkXCIpIH07XG4gICAgcGFkMyA9IHsgc2hpcDogbnVsbCwgYm91Z2h0OiBmYWxzZSwgJGVsOiAkKFwiI3BhZDNcIiksICRwYWQ6ICQoXCIjcGFkMyAucGFkXCIpIH07XG4gIH0sXG4gIFxuICBzdGFydCgpIHtcbiAgICBwYWQxLnNoaXAgPSBuZXcgU2hpcChwYWQxLCB0aGlzLnJlZHJhdy5iaW5kKHRoaXMsIHBhZDEpKTtcbiAgICBcbiAgICB0aGlzLnJlZHJhdyhwYWQxKTtcbiAgICB0aGlzLnJlZHJhdyhwYWQyKTtcbiAgICB0aGlzLnJlZHJhdyhwYWQzKTtcbiAgfSxcbiAgXG4gIHJlZHJhdyhwYWQpIHtcbiAgICBwYWQuJHBhZC5lbXB0eSgpO1xuICAgIGlmIChwYWQuc2hpcCAhPSBudWxsKSB7XG4gICAgICBwYWQuJGVsLnJlbW92ZUNsYXNzKFwibG9ja2VkIGVtcHR5XCIpO1xuICAgICAgcGFkLiRwYWQuYXBwZW5kKHBhZC5zaGlwLnRvSFRNTCgpKTtcbiAgICAgIHBhZC5zaGlwLnNldHVwRHJhZ1RhcmdldCgpO1xuICAgIH0gZWxzZSBpZiAocGFkLmJvdWdodCkge1xuICAgICAgcGFkLiRlbC5yZW1vdmVDbGFzcyhcImxvY2tlZFwiKTtcbiAgICAgIHBhZC4kZWwuYWRkQ2xhc3MoXCJlbXB0eVwiKTtcbiAgICAgIFxuICAgICAgcGFkLiRwYWQuYXBwZW5kKCQoXCI8aDI+XCIsIHt0ZXh0OiBcIkVtcHR5XCJ9KSk7XG4gICAgICBsZXQgYnVpbGRCdG4gPSAkKFwiPGJ1dHRvbj5cIiwge2NsYXNzOiBcImJ1aWxkXCIsIHRleHQ6IFwiQnVpbGQgKCRcIiArIHByZXR0eVByaW50KHByaWNlVG9CdWlsZFNoaXApICsgXCIpXCJ9KTtcbiAgICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgICBidWlsZEJ0bi5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCFiYW5rLmNhblNwZW5kKHByaWNlVG9CdWlsZFNoaXApKSB7XG4gICAgICAgICAgLy8gVE9ETzogVmlzdWFsaXplIHRoYXQgaXQgZmFpbGVkIGJlY2F1ZSBvZiBtb25leVxuICAgICAgICAgIC8vIE1heWJlIGZsYXNoIGJhbGFuY2U/XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGJhbmsuc3BlbmQocHJpY2VUb0J1aWxkU2hpcCk7XG4gICAgICAgIFxuICAgICAgICBwYWQuc2hpcCA9IG5ldyBTaGlwKHBhZCwgX3RoaXMucmVkcmF3LmJpbmQoX3RoaXMsIHBhZCkpO1xuICAgICAgICBfdGhpcy5yZWRyYXcocGFkKTtcbiAgICAgIH0pO1xuICAgICAgcGFkLiRwYWQuYXBwZW5kKGJ1aWxkQnRuKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGFkLiRlbC5yZW1vdmVDbGFzcyhcImVtcHR5XCIpO1xuICAgICAgcGFkLiRlbC5hZGRDbGFzcyhcImxvY2tlZFwiKTtcbiAgICAgIFxuICAgICAgcGFkLiRwYWQuYXBwZW5kKCQoXCI8aDI+XCIsIHt0ZXh0OiBcIkxvY2tlZFwifSkpO1xuICAgICAgbGV0IGJ1eUJ0biA9ICQoXCI8YnV0dG9uPlwiLCB7Y2xhc3M6IFwidW5sb2NrXCIsIHRleHQ6IFwiVW5sb2NrICgkXCIgKyBwcmV0dHlQcmludChwcmljZVRvQnV5UGFkKSArIFwiKVwifSk7XG4gICAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgICAgYnV5QnRuLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoIWJhbmsuY2FuU3BlbmQocHJpY2VUb0J1eVBhZCkpIHtcbiAgICAgICAgICAvLyBUT0RPOiBWaXN1YWxpemUgdGhhdCBpdCBmYWlsZWQgYmVjYXVlIG9mIG1vbmV5XG4gICAgICAgICAgLy8gTWF5YmUgZmxhc2ggYmFsYW5jZT9cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYmFuay5zcGVuZChwcmljZVRvQnV5UGFkKTtcbiAgICAgICAgXG4gICAgICAgIHBhZC5ib3VnaHQgPSB0cnVlO1xuICAgICAgICBfdGhpcy5yZWRyYXcocGFkKTtcbiAgICAgIH0pO1xuICAgICAgcGFkLiRwYWQuYXBwZW5kKGJ1eUJ0bik7XG4gICAgfVxuICAgIFxuICAgIHRoaXMuZW5zdXJlQ2FuQnVpbGQoKTtcbiAgfSxcbiAgXG4gIGVuc3VyZUNhbkJ1aWxkKCkge1xuICAgIGlmIChwYWQxLnNoaXAgPT0gbnVsbCAmJiBwYWQyLnNoaXAgPT0gbnVsbCAmJiBwYWQzLnNoaXAgPT0gbnVsbCAmJiAhYmFuay5jYW5TcGVuZChwcmljZVRvQnVpbGRTaGlwKSkge1xuICAgICAgLy8gV2UgaGF2ZSBubyBzaGlwcywgYW5kIG5vdCBlbm91Z2ggbW9uZXkgdG8gYnVpbGQgYW5vdGhlciBvbmVcbiAgICAgIHJlcXVpcmUoXCIuLi9nYW1lXCIpLmVuZChcIk91dCBvZiBzaGlwcyFcIik7XG4gICAgfVxuICB9LFxuXG4gIGRlbGl2ZXJTaGlwKCkge1xuICAgICQoXCIuc2hpcFwiKS5hZGRDbGFzcyhcImJ1aWx0XCIpO1xuICAgIGNvbnNvbGUubG9nKFwiU2hpcCBoYXMgYmVlbiBkZWxpdmVyZWQhXCIpO1xuICB9XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5jb25zdCBQZXJzb24gPSByZXF1aXJlKFwiLi4vY2xhc3MvcGVyc29uXCIpO1xuXG5jb25zdCBudW1iZXJPZlBlb3BsZSA9IDU7XG5cbnZhciBwZW9wbGUgPSB7fTtcblxubGV0ICRsb2JieSA9ICQoXCIjbG9iYnkgLmNvbnRlbnRcIik7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBzZXR1cCgpIHtcbiAgICBwZW9wbGUgPSB7fTtcbiAgICAkbG9iYnkuZW1wdHkoKTtcbiAgfSxcbiAgXG4gIHN0YXJ0KCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtYmVyT2ZQZW9wbGU7IGkrKykge1xuICAgICAgdGhpcy5hZGROZXcoKTtcbiAgICB9XG4gIH0sXG4gIFxuICB0ZWFyZG93bigpIHtcbiAgICBjbGVhckludGVydmFsKHRoaXMuX3RpbWVyKTtcbiAgfSxcbiAgXG4gIGFkZE5ldygpIHtcbiAgICBsZXQgbmV3UGVyc29uID0gbmV3IFBlcnNvbigpO1xuICAgICRsb2JieS5hcHBlbmQobmV3UGVyc29uLnRvSFRNTCgpKTtcbiAgICBuZXdQZXJzb24uc2V0dXBEcmFnZ2luZygpO1xuICAgIHBlb3BsZVtuZXdQZXJzb24uaWRdID0gbmV3UGVyc29uO1xuICB9LFxuICBcbiAgZ2V0KGlkKSB7XG4gICAgcmV0dXJuIHBlb3BsZVtpZF07XG4gIH0sXG4gIFxuICByZW1vdmUoaWQpIHtcbiAgICBsZXQgcGVyc29uID0gcGVvcGxlW2lkXTtcbiAgICBkZWxldGUgcGVvcGxlW2lkXTtcbiAgICBwZXJzb24uJGVsLmRldGFjaCgpO1xuICAgIFxuICAgIC8vIEFkZCBhIG5ldyBwZXJzb24gdG8gcmVwbGFjZSB0aGUgb25lIHdlIGp1c3QgcmVtb3ZlZFxuICAgIHRoaXMuYWRkTmV3KCk7XG4gICAgXG4gICAgcmV0dXJuIHBlcnNvbjtcbiAgfSxcbiAgXG4gIHJlZnJlc2goKSB7XG4gICAgJGxvYmJ5LmVtcHR5KCk7XG4gICAgXG4gICAgZm9yIChsZXQgcGVyc29uIG9mIHBlb3BsZSkge1xuICAgICAgJGxvYmJ5LmFwcGVuZChwZXJzb24udG9IVE1MKCkpO1xuICAgIH1cbiAgfSxcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmNvbnN0IHByZXR0eVByaW50ID0gcmVxdWlyZShcIi4uL2xpYi91dGlsXCIpLnByZXR0eVByaW50O1xuY29uc3Qgc29lID0gcmVxdWlyZShcIi4vc3BhY2VPbkVhcnRoXCIpO1xuXG4vLyBIb3cgbWFueSBwZW9wbGUgeW91IGhhdmUgdG8gc2F2ZSB0byBnZXQgdGhlIGhhcmRlc3QgZGlmZmljdWx0eVxuY29uc3QgaGFyZGVzdERpZmZpY3VsdHlBdCA9IDUwO1xuXG52YXIgc2F2ZWQgPSAtMTtcbmxldCAkc2F2ZWQgPSAkKFwiI3NhdmVkXCIpO1xuZnVuY3Rpb24gcmVkcmF3KCkge1xuICAkc2F2ZWQudGV4dChmb3JtYXQoKSk7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdCgpIHtcbiAgcmV0dXJuIHByZXR0eVByaW50KHNhdmVkKSArIFwiIFwiICsgKHNhdmVkID09PSAxID8gXCJwZXJzb25cIiA6IFwicGVvcGxlXCIpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgXG4gIHNldHVwKCkge1xuICAgIHNhdmVkID0gMDtcbiAgICByZWRyYXcoKTtcbiAgfSxcbiAgXG4gIGZvcm1hdDogZm9ybWF0LFxuICBcbiAgc2F2ZShjb3VudCkge1xuICAgIHNhdmVkICs9IGNvdW50O1xuICAgIHJlZHJhdygpO1xuICAgIFxuICAgIHNvZS5hZGQoY291bnQpO1xuICB9LFxuICBcbiAgLy8gU3RhcnRzIGF0ICcwJyAoZWFzaWVzdCksIGFuZCBnb2VzIHRvICcxJyAoaGFyZGVzdCkgb3ZlciB0aGUgY291cnNlIG9mIHRoZSBnYW1lXG4gIGRpZmZTY2FsZSgpIHtcbiAgICByZXR1cm4gTWF0aC5taW4oc2F2ZWQgLyBoYXJkZXN0RGlmZmljdWx0eUF0LCAxKTtcbiAgfVxuICBcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmNvbnN0IHNlY29uZHNCZXR3ZWVuRGVjcmVtZW50ID0gMztcbmNvbnN0IHN0YXJ0aW5nU3BhY2UgPSAxMDA7XG5cbnZhciBzcGFjZSA9IC0xO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgXG4gIHNldHVwKCkge1xuICAgIHNwYWNlID0gc3RhcnRpbmdTcGFjZTtcbiAgfSxcbiAgXG4gIHN0YXJ0KCkge1xuICAgIHRoaXMucmVkcmF3KCk7XG4gICAgXG4gICAgdGhpcy5fdGltZXIgPSBzZXRJbnRlcnZhbCh0aGlzLmRlY3JlbWVudC5iaW5kKHRoaXMpLCBzZWNvbmRzQmV0d2VlbkRlY3JlbWVudCAqIDEwMDApO1xuICB9LFxuICBcbiAgdGVhcmRvd24oKSB7XG4gICAgY2xlYXJJbnRlcnZhbCh0aGlzLl90aW1lcik7XG4gIH0sXG4gIFxuICBkZWNyZW1lbnQoKSB7XG4gICAgc3BhY2UtLTtcbiAgICBcbiAgICBpZiAoc3BhY2UgPD0gMCkge1xuICAgICAgcmVxdWlyZShcIi4uL2dhbWVcIikuZW5kKFwiT3V0IG9mIHNwYWNlIVwiKTtcbiAgICB9XG4gICAgXG4gICAgdGhpcy5yZWRyYXcoKTtcbiAgfSxcbiAgXG4gIGFkZChjb3VudCkge1xuICAgIHNwYWNlICs9IGNvdW50O1xuICAgIHRoaXMucmVkcmF3KCk7XG4gIH0sXG4gIFxuICByZWRyYXcoKSB7XG4gICAgJChcIiNyb29tLWxlZnRcIikudGV4dChzcGFjZSk7XG4gIH1cbn07Il19"}